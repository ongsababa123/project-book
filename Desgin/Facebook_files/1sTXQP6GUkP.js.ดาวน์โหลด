;/*FB_PKG_DELIM*/

__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCommunityMessagingAdmodOnboardingBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7080292905315407"}),null);
__d("MWCommunityMessagingAdmodOnboardingBannerQuery.graphql",["MWCommunityMessagingAdmodOnboardingBannerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadKey"}],c=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_THREAD_OPEN"}],d=[{kind:"Literal",name:"supported",value:"4g3Lgk"}],e={kind:"InlineFragment",selections:[{args:null,documentName:"MWCommunityMessagingAdmodOnboardingBannerQuery",fragmentName:"CometQuickPromotionMessengerWebAdmodOnboardingBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebAdmodOnboardingBannerRendererStrategy",abstractKey:null},f=[{kind:"Variable",name:"id",variableName:"threadKey"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWCommunityMessagingAdmodOnboardingBannerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"4g3Lgk")'},action:"NONE",path:"viewer.eligible_promotions.nodes.comet_qp_sections.renderer_strategy"}],storageKey:null},action:"NONE",path:"viewer.eligible_promotions.nodes.comet_qp_sections"}],storageKey:null},action:"NONE",path:"viewer.eligible_promotions.nodes"}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_THREAD_OPEN")'},action:"NONE",path:"viewer.eligible_promotions"}],storageKey:null},action:"NONE",path:"viewer"},{kind:"RequiredField",field:{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWIsAnyToDoTaskRemaining_fragment"}],storageKey:null},action:"NONE",path:"c4g_thread"},{args:null,kind:"FragmentSpread",name:"MWAdmodOnboardingSuggestedActions_onboardingTasksRef"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWCommunityMessagingAdmodOnboardingBannerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[g,e],storageKey:'renderer_strategy(supported:"4g3Lgk")'}],storageKey:null},h],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_THREAD_OPEN")'}],storageKey:null},{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isMessengerFBGroupChat"},{alias:null,args:null,concreteType:"CommunityChatsThreadToDo",kind:"LinkedField",name:"thread_to_do",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"onboarding_tasks",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null}],storageKey:null}],storageKey:null},h],storageKey:null}]},params:{id:b("MWCommunityMessagingAdmodOnboardingBannerQuery_facebookRelayOperation"),metadata:{live:{config_id:"chat_thread_todo_query"}},name:"MWCommunityMessagingAdmodOnboardingBannerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWAdmodOnboardingSuggestedActions_onboardingTasksRef.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"threadKey"}],kind:"Fragment",metadata:null,name:"MWAdmodOnboardingSuggestedActions_onboardingTasksRef",selections:[{kind:"RequiredField",field:{alias:null,args:[{kind:"Variable",name:"id",variableName:"threadKey"}],concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"CommunityChatsThreadToDo",kind:"LinkedField",name:"thread_to_do",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"onboarding_tasks",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},action:"NONE",path:"c4g_thread.thread_to_do.onboarding_tasks.header"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},action:"NONE",path:"c4g_thread.thread_to_do.onboarding_tasks.type"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"is_done",storageKey:null},action:"NONE",path:"c4g_thread.thread_to_do.onboarding_tasks.is_done"}],storageKey:null},action:"NONE",path:"c4g_thread.thread_to_do.onboarding_tasks"}],storageKey:null},action:"NONE",path:"c4g_thread.thread_to_do"}],storageKey:null},action:"NONE",path:"c4g_thread"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWIsAnyToDoTaskRemaining_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWIsAnyToDoTaskRemaining_fragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"CommunityChatsThreadToDo",kind:"LinkedField",name:"thread_to_do",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"onboarding_tasks",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},action:"NONE",path:"thread_to_do.onboarding_tasks.type"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"is_done",storageKey:null},action:"NONE",path:"thread_to_do.onboarding_tasks.is_done"}],storageKey:null},action:"NONE",path:"thread_to_do.onboarding_tasks"}],storageKey:null},action:"NONE",path:"thread_to_do"}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6578447052222731"}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],c=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWContextBannerAdmodOnboardingActionsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24300319002915746"}),null);
__d("MWContextBannerAdmodOnboardingActionsQuery.graphql",["MWContextBannerAdmodOnboardingActionsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadKey"}],c=[{kind:"Variable",name:"id",variableName:"threadKey"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWContextBannerAdmodOnboardingActionsQuery",selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWIsAnyToDoTaskRemaining_fragment"}],storageKey:null},action:"NONE",path:"c4g_thread"},{args:null,kind:"FragmentSpread",name:"MWAdmodOnboardingSuggestedActions_onboardingTasksRef"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWContextBannerAdmodOnboardingActionsQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isMessengerFBGroupChat"},{alias:null,args:null,concreteType:"CommunityChatsThreadToDo",kind:"LinkedField",name:"thread_to_do",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"onboarding_tasks",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWContextBannerAdmodOnboardingActionsQuery_facebookRelayOperation"),metadata:{live:{config_id:"chat_thread_todo_query"}},name:"MWContextBannerAdmodOnboardingActionsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("useMWIsAnyToDoTaskRemaining.react",["CometRelay","useMWIsAnyToDoTaskRemaining_fragment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWIsAnyToDoTaskRemaining_fragment.graphql"),a);if(!a)return!1;for(var a=a.thread_to_do.onboarding_tasks,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f==null)continue;switch(f.type){case"SEND_WELCOME_MESSAGE":case"INVITE_MEMBERS":case"CUSTOMIZE_CHAT":if(!f.is_done)return!0}}return!1}g["default"]=a}),98);
__d("MWCommunityMessagingAdmodOnboardingBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","I64","MWAdmodOnboardingSuggestedActionsContext.react","MWCommunityMessagingAdmodOnboardingBannerQuery.graphql","react","setTimeout","useMWIsAnyToDoTaskRemaining.react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useEffect,m=e.useState;function a(a){a=a.threadKey;var e=m(!1),f=e[0],g=e[1];l(function(){f||c("setTimeout")(function(){g(!0)},500)},[f]);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWCommunityMessagingAdmodOnboardingBannerQuery.graphql"),{threadKey:(j||(j=d("I64"))).to_string(a)});var i=c("useQuickPromotionFalcoEvent")({context_surface_id:10706,context_trigger:"community_messaging_thread_open"}),n=d("MWAdmodOnboardingSuggestedActionsContext.react").useMWAdmodOnboardingSuggestedActionsContext(),o=n.contextBannerLoadingState;n=n.isContextBannerVisible;var p=e&&e.viewer.eligible_promotions.nodes.filter(Boolean)[0];p=p&&p.comet_qp_sections.renderer_strategy;var q=c("useMWIsAnyToDoTaskRemaining.react")(e==null?void 0:e.c4g_thread);return e==null||f===!1||o===d("MWAdmodOnboardingSuggestedActionsContext.react").ContextBannerLoadingStates.INITIALIZING||n||p==null||!q?null:k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:i,children:k.jsx(d("CometRelay").MatchContainer,{match:p,props:{onboardingTasksRef:e,threadKey:a}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate",["I64","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWJids","MAWJobDefinitions","MAWTimedJob","QPLUserFlow","ReQL","WAJobOrchestratorTypes","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished successfully for ThreadKey: ",""]);k=function(){return a};return a}var l=(h||d("react")).useCallback;function a(){var a=c("useAsyncReStore")();return l(function(e){var f=e.contactId,g=e.isOnDemandCutover,h=e.navigationApi;c("promiseDone")(a,function(a){var e=d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(f);e.subscribe(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){b=g.operation;if(b==="delete")return;g=(yield d("ReQL").firstAsync(e));if(g==null)return;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(g.serverThreadKey)));if(b==null)return;g=b.clientThreadKey;var j=b.threadKey;b=b.threadType;c("promiseDone")(d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"thread-point-querying-1-to-1-thread",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set().add(d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(f)))})));h.openTabOrInbox({clientThreadKey:g,threadKey:j,threadType:b},"preCutoverThread")});return function(a,b){return g.apply(this,arguments)}}());c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:f})},"readwrite").then(function(){c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(f))),g===!0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){a="[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(f)+"\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(j(),a));g===!0&&c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})})},[a])}g["default"]=a}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("contacts"),["pageType"]).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":24");return!c("gkx")("10469")?void 0:(e==null?void 0:e.pageType)!=null?e.pageType:void 0}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser")),b=a[0];return function(a,c){return c.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return b({adId:c.ctaId,threadKey:a.banner.threadKey})},type:"action"}}}g["default"]=a}),98);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSRequestAdContextFromThreadKey").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"readwrite"))},[b,a])}g["default"]=a}),98);
__d("MWAdmodSuggestedActionButton.react",["ix","BaseTheme.react","MWXIcon.react","MWXImage.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=1300;var k={dark:{"icon-background":"rgba(255, 255, 255, 0.4)","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"icon-background":"rgba(0, 0, 0, 0.1)","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},l={button:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x3nfvp2",flexDirection:"xdt5ytf",position:"x1n2onr6",width:"xh8yej3",$$css:!0},checkmark:{animationDuration:"x1g3bjam",animationFillMode:"x10e4vud",animationName:"xfit9kf",animationTimingFunction:"x4hg4is",height:"xlup9mm",width:"x1kky2od",$$css:!0},hiding:{animationDuration:"x1g3bjam",animationName:"x2cqq96",animationTimingFunction:"x4hg4is",$$css:!0},icon:{alignItems:"x6s0dn4",backgroundColor:"x1cm23x1",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},slidingUp:{animationDuration:"x1g3bjam",animationName:"x1jfcwzl",animationTimingFunction:"x4hg4is",$$css:!0},text:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=a.checked;b=b===void 0?!1:b;var e=a.fillContainer,f=a.hiding;f=f===void 0?!1:f;var g=a.icon,i=a.label,m=a.onPress;a=a.slidingUp;a=a===void 0?!1:a;var n={width:"100%"};e||(n.maxWidth="400px");return j.jsx(c("BaseTheme.react"),{config:k,style:n,children:j.jsx(c("MWXPressable.react"),{focusable:!0,onPress:function(){m()},role:"button",xstyle:[l.button,f?l.hiding:a?l.slidingUp:null],children:j.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{xstyle:l.icon,children:j.jsx(c("MWXImage.react"),{src:g})}),j.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:l.text,children:j.jsx(c("MWXText.react"),{align:"start",color:"primary",type:"bodyLink3",children:i})}),j.jsx(c("MWXRowItem.react"),{children:b?j.jsx(c("MWXImage.react"),{src:h("396381"),xstyle:l.checkmark}):j.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(h("492533"),16)})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.ANIMATION_DURATION_MS=b;g.MWAdmodSuggestedActionButton=a}),98);
__d("MWAdmodOnboardingSuggestedActions.react",["fbt","ix","CometRelay","GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWAdmodOnboardingSuggestedActionsContext.react","MWAdmodOnboardingSuggestedActions_onboardingTasksRef.graphql","MWAdmodSuggestedActionButton.react","MWCMBulkInviteDialog.entrypoint","MWChatFocusComposerContext","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","Promise","asyncToGeneratorRuntime","cometPushToast","promiseDone","react","setTimeout","useAsyncReStore","useCurrentDisplayMode","useMWCMEditChatInfoDialogEntrypoint","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useRef,p=e.useState,q=d("MWAdmodSuggestedActionButton.react").ANIMATION_DURATION_MS*.95;function r(a){return new(k||(k=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield b.table("threads").get(a));a=(a=a==null?void 0:a.parentThreadKey)!=null?a:(l||(l=d("I64"))).zero;b=(yield b.table("community_folders").get(a));b=(b=b==null?void 0:b.fbGroupId)!=null?b:(l||(l=d("I64"))).zero;return{communityID:a,fbGroupId:b}});return t.apply(this,arguments)}function a(a){var e=a.entryPoint,f=a.fillContainer;f=f===void 0?!1:f;var g=a.impressionEvent,m=a.onboardingTasksRef,t=a.onClose,u=a.source,v=a.surface,w=a.threadKey;a=d("MWChatFocusComposerContext").useMWChatFocusComposer();var x=a.focusComposer;a=d("MWAdmodOnboardingSuggestedActionsContext.react").useMWAdmodOnboardingSuggestedActionsContext();var y=a.setShowWelcomeMessageSuggestion;a=c("useCurrentDisplayMode")();a=a==="dark";var z=c("useAsyncReStore")();m=d("CometRelay").useFragment(j!==void 0?j:j=b("MWAdmodOnboardingSuggestedActions_onboardingTasksRef.graphql"),m);var A=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{}),B=A[0],C=c("useMWCMEditChatInfoDialogEntrypoint")(w,e),D={};for(A of(m==null?void 0:(A=m.c4g_thread)==null?void 0:(m=A.thread_to_do)==null?void 0:m.onboarding_tasks)||[]){if(A==null)continue;m=A.header;var E=A.is_done,F=A.type;D[F]={isDone:E,label:m}}A=c("useSinglePartialViewImpression")({onImpressionEnd:d("Int64Hooks").useCallbackInt64(function(){return c("promiseDone")((k||(k=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=(yield z);b=(yield s(w,b));var c=b.communityID;b=b.fbGroupId;a={add_image_description:((a=D.CUSTOMIZE_CHAT)==null?void 0:a.isDone)===!1?"1":"0",invite_members:((a=D.INVITE_MEMBERS)==null?void 0:a.isDone)===!1?"1":"0",send_first_message:((a=D.SEND_WELCOME_MESSAGE)==null?void 0:a.isDone)===!1?"1":"0"};d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:a,community_id:(l||(l=d("I64"))).to_string(c),entry_point:e,event:g,group_id:l.to_string((a=b)!=null?a:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:u,surface:v})})))},[(F=D.CUSTOMIZE_CHAT)==null?void 0:F.isDone,(E=D.INVITE_MEMBERS)==null?void 0:E.isDone,(m=D.SEND_WELCOME_MESSAGE)==null?void 0:m.isDone,z,e,g,u,v,w])});F=p({CUSTOMIZE_CHAT:{checked:!1,fallbackLabel:(E=(F=D.CUSTOMIZE_CHAT)==null?void 0:F.label)!=null?E:"",hiding:!1,slidingUp:!1,stillShowing:((m=D.CUSTOMIZE_CHAT)==null?void 0:m.isDone)===!1},INVITE_MEMBERS:{checked:!1,fallbackLabel:(E=(F=D.INVITE_MEMBERS)==null?void 0:F.label)!=null?E:"",hiding:!1,slidingUp:!1,stillShowing:((m=D.INVITE_MEMBERS)==null?void 0:m.isDone)===!1},SEND_WELCOME_MESSAGE:{checked:!1,fallbackLabel:(E=(F=D.SEND_WELCOME_MESSAGE)==null?void 0:F.label)!=null?E:"",hiding:!1,slidingUp:!1,stillShowing:((m=D.SEND_WELCOME_MESSAGE)==null?void 0:m.isDone)===!1}});var G=F[0],H=F[1];E=((E=D.CUSTOMIZE_CHAT)==null?void 0:E.label)!=null&&D.CUSTOMIZE_CHAT.label!==G.CUSTOMIZE_CHAT.fallbackLabel||((m=D.INVITE_MEMBERS)==null?void 0:m.label)!=null&&D.INVITE_MEMBERS.label!==G.INVITE_MEMBERS.fallbackLabel||((F=D.SEND_WELCOME_MESSAGE)==null?void 0:F.label)!=null&&D.SEND_WELCOME_MESSAGE.label!==G.SEND_WELCOME_MESSAGE.fallbackLabel;E&&H(function(a){var b;return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{fallbackLabel:(b=(b=D.CUSTOMIZE_CHAT)==null?void 0:b.label)!=null?b:a.CUSTOMIZE_CHAT.fallbackLabel}),INVITE_MEMBERS:babelHelpers["extends"]({},a.INVITE_MEMBERS,{fallbackLabel:(b=(b=D.INVITE_MEMBERS)==null?void 0:b.label)!=null?b:a.INVITE_MEMBERS.fallbackLabel}),SEND_WELCOME_MESSAGE:babelHelpers["extends"]({},a.SEND_WELCOME_MESSAGE,{fallbackLabel:(b=(b=D.SEND_WELCOME_MESSAGE)==null?void 0:b.label)!=null?b:a.SEND_WELCOME_MESSAGE.fallbackLabel})})});m=o({CUSTOMIZE_CHAT:((m=D.CUSTOMIZE_CHAT)==null?void 0:m.isDone)===!1,INVITE_MEMBERS:((F=D.INVITE_MEMBERS)==null?void 0:F.isDone)===!1,SEND_WELCOME_MESSAGE:((E=D.SEND_WELCOME_MESSAGE)==null?void 0:E.isDone)===!1});(D.SEND_WELCOME_MESSAGE==null||D.SEND_WELCOME_MESSAGE.isDone)&&m.current.SEND_WELCOME_MESSAGE&&(m.current.SEND_WELCOME_MESSAGE=!1,c("promiseDone")((k||(k=b("Promise"))).resolve().then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{slidingUp:!0}),INVITE_MEMBERS:babelHelpers["extends"]({},a.INVITE_MEMBERS,{slidingUp:!0}),SEND_WELCOME_MESSAGE:babelHelpers["extends"]({},a.SEND_WELCOME_MESSAGE,{checked:!0,hiding:!0})})})}).then(function(){return r(q)}).then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{slidingUp:!1}),INVITE_MEMBERS:babelHelpers["extends"]({},a.INVITE_MEMBERS,{slidingUp:!1}),SEND_WELCOME_MESSAGE:babelHelpers["extends"]({},a.SEND_WELCOME_MESSAGE,{stillShowing:!1})})})})));(D.INVITE_MEMBERS==null||D.INVITE_MEMBERS.isDone)&&m.current.INVITE_MEMBERS&&(m.current.INVITE_MEMBERS=!1,c("promiseDone")((k||(k=b("Promise"))).resolve().then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{slidingUp:!0}),INVITE_MEMBERS:babelHelpers["extends"]({},a.INVITE_MEMBERS,{checked:!0,hiding:!0})})})}).then(function(){return r(q)}).then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{slidingUp:!1}),INVITE_MEMBERS:babelHelpers["extends"]({},a.INVITE_MEMBERS,{stillShowing:!1})})})})));(D.CUSTOMIZE_CHAT==null||D.CUSTOMIZE_CHAT.isDone)&&m.current.CUSTOMIZE_CHAT&&(m.current.CUSTOMIZE_CHAT=!1,c("promiseDone")((k||(k=b("Promise"))).resolve().then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{checked:!0,hiding:!0})})})}).then(function(){return r(q)}).then(function(){H(function(a){return babelHelpers["extends"]({},a,{CUSTOMIZE_CHAT:babelHelpers["extends"]({},a.CUSTOMIZE_CHAT,{stillShowing:!1})})})})));F=d("Int64Hooks").useCallbackInt64(function(){y({entryPoint:e,show:!0,source:u}),x==null?void 0:x(),c("promiseDone")((k||(k=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield z);a=(yield s(w,a));var b=a.communityID;a=a.fbGroupId;d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(l||(l=d("I64"))).to_string(b),entry_point:e,event:"admin_prompted_to_send_first_message",group_id:l.to_string((b=a)!=null?b:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:u,surface:v})})))},[z,e,x,y,u,v,w]);E=d("Int64Hooks").useCallbackInt64(function(){B({entryPoint:e,fbThreadId:(l||(l=d("I64"))).to_string(w),parentSurface:"thread_view",source:u,surface:v}),c("promiseDone")((k||(k=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield z);a=(yield s(w,a));var b=a.communityID;a=a.fbGroupId;d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(l||(l=d("I64"))).to_string(b),entry_point:e,event:"admin_prompted_to_invite_members",group_id:l.to_string((b=a)!=null?b:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:u,surface:v})})))},[z,e,B,u,v,w]);m=d("Int64Hooks").useCallbackInt64(function(){C(),c("promiseDone")((k||(k=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield z);a=(yield s(w,a));var b=a.communityID;a=a.fbGroupId;d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(l||(l=d("I64"))).to_string(b),entry_point:e,event:"admin_prompted_to_add_image_description",group_id:l.to_string((b=a)!=null?b:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:u,surface:v})})))},[z,e,C,u,v,w]);var I=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")((k||(k=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield z);a=(yield s(w,a));var b=a.communityID;a=a.fbGroupId;d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(l||(l=d("I64"))).to_string(b),entry_point:e,event:"learn_more",group_id:l.to_string((b=a)!=null?b:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:u,surface:v})})))},[z,e,u,v,w]),J=o(!1);if(["SEND_WELCOME_MESSAGE","INVITE_MEMBERS","CUSTOMIZE_CHAT"].every(function(a){return((a=G[a])==null?void 0:a.stillShowing)===!1})){J.current||(d("cometPushToast").cometPushSimpleToast(h._("__JHASH__f2-5wWTFPuQ__JHASH__")),J.current=!0);t();return null}return n.jsx("div",{ref:A,children:n.jsxs(c("MWXColumn.react"),{align:"center",spacing:8,children:[n.jsx(c("MWXColumnItem.react"),{children:n.jsx("div",{className:"xsag5q8",children:h._("__JHASH__0kUfGdYkHC8__JHASH__",[h._implicitParam("=m0",n.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__riPn8bnEaXE__JHASH__",[h._implicitParam("=m1",n.jsx(c("MWXLink.react"),{color:"primary",href:"/help/3397387057158160/",onClick:I,children:h._("__JHASH__Ryxy068qkb0__JHASH__")}))])}))])})}),G.SEND_WELCOME_MESSAGE.stillShowing?n.jsx(c("MWXColumnItem.react"),{children:n.jsx(d("MWAdmodSuggestedActionButton.react").MWAdmodSuggestedActionButton,{checked:G.SEND_WELCOME_MESSAGE.checked,fillContainer:f,hiding:G.SEND_WELCOME_MESSAGE.hiding,icon:a?i("110396"):i("110394"),label:(t=D==null?void 0:(J=D.SEND_WELCOME_MESSAGE)==null?void 0:J.label)!=null?t:G.SEND_WELCOME_MESSAGE.fallbackLabel,onPress:F,slidingUp:G.SEND_WELCOME_MESSAGE.slidingUp})}):null,G.INVITE_MEMBERS.stillShowing?n.jsx(c("MWXColumnItem.react"),{children:n.jsx(d("MWAdmodSuggestedActionButton.react").MWAdmodSuggestedActionButton,{checked:G.INVITE_MEMBERS.checked,fillContainer:f,hiding:G.INVITE_MEMBERS.hiding,icon:a?i("110262"):i("110260"),label:(I=D==null?void 0:(A=D.INVITE_MEMBERS)==null?void 0:A.label)!=null?I:G.INVITE_MEMBERS.fallbackLabel,onPress:E,slidingUp:G.INVITE_MEMBERS.slidingUp})}):null,G.CUSTOMIZE_CHAT.stillShowing?n.jsx(c("MWXColumnItem.react"),{children:n.jsx(d("MWAdmodSuggestedActionButton.react").MWAdmodSuggestedActionButton,{checked:G.CUSTOMIZE_CHAT.checked,fillContainer:f,hiding:G.CUSTOMIZE_CHAT.hiding,icon:a?i("110412"):i("110411"),label:(t=D==null?void 0:(J=D.CUSTOMIZE_CHAT)==null?void 0:J.label)!=null?t:G.CUSTOMIZE_CHAT.fallbackLabel,onPress:m,slidingUp:G.CUSTOMIZE_CHAT.slidingUp})}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsAdmodOnboardingEnabledForThread.react",["LSThreadBitOffset","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(199,a)});return c("gkx")("10765")&&Boolean(a)}g.useIsAdmodOnboardingEnabledForThread=a}),98);
__d("MAWFilePressable.react",["fbt","CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileViewerLogger","MWXPressable.react","formatFileSize","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useCallback,m={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},n=h._("__JHASH__uiTAWyhPCWI__JHASH__");function o(a){return a.filesize==null?null:c("formatFileSize")((j||(j=d("I64"))).to_int32(a.filesize))}function p(a){var b=a.children,d=a.linkProps,e=a.onPress;a=a.testid;return k.jsx(c("MWXPressable.react"),{display:"inline",linkProps:d,onPress:e,overlayDisabled:!0,testid:void 0,xstyle:m.filePressable,children:b})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.attachmentID,e=a.children,f=a.entrypoint,g=a.linkProps,h=a.messageID,i=a.onPress;a=a.testid;a=c("useMWFileOnPress")(h,b,i,f,d("MWFileViewerLogger").generateSessionId());return k.jsx(p,{linkProps:g,onPress:a,testid:void 0,children:e})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.onPress;a=a.testid;a=((a=f.filename)!=null?a:n).toString();var h=d("MAWAttachmentBlob.react").getAttachmentBlob(f),i=d("MWChatMessageId").makeSent((j||(j=d("I64"))).to_string(f.threadKey),f.messageId,j.to_string(f.timestampMs)),m={download:a,target:"_blank",url:h},r=o(f),s=l(function(a,b){c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),c("goUriOnNewWindow")(h)},[h]);return i.type==="sent"?k.jsx(c("CometErrorBoundary.react"),{onError:s,children:k.jsx(q,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:m,messageID:i.value,onPress:g,testid:void 0,children:b({filename:a,messageID:i,size:r})})}):k.jsx(p,{linkProps:m,onPress:g,testid:void 0,children:b({filename:a,messageID:i,size:r})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MDSTextPairing.react","MWChatFilePreview.react","MWInboxInfoSharedContentQPLLogger","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function l(){d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")}function a(a){var b=a.file;return j.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:b,onPress:l,testid:void 0,children:function(a){var d=a.filename;a=a.size;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.root,!1),children:[j.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),j.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[j.jsx(c("MDSTextPairing.react"),{headline:d,headlineLineLimit:3,level:4}),j.jsx("div",{className:"x889kno",children:j.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__vs4VWaH-KyB__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("connectivity_status")).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":59");return m.jsx(n,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid",children:i.jsx(c("MWXText.react"),{type:"meta4",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(){return i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDotMeReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e();function a(a){var b=a.children;a=a.referrer;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function o(a){var b=a.thread;a=c("useMWXLazyDialog")(n);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var o=l(!1);i=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:i,children:k.jsx(c("CometContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.thread,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey],f.id+":121");if(a){a=d("LSCommunityBitOffset").has(39,a);return a?k.jsx(o,{thread:b}):null}else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.thread;return k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(p,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.table("threads").get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:7033","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:7033")),c("gkx")("571"));g["default"]=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.label,d=a.testid;d=a.threadKey;a=a.threadType;var e=c("useMWAddParticipantDialog")(d,a);return i.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:b,onPress:function(){return e()},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInThreadBanner.react",["CometProfilePhoto.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","TetraButton.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{backgroundColor:"xfpmyvw",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function k(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.type){case"link":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b.url},type:"secondary"})});case"action":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("TetraButton.react"),{label:d,onPress:b.onPress,ref:b.contextRef,type:"secondary"})});case"popover":return i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:b.popoverTrigger(function(a,b){return i.jsx(c("TetraButton.react"),{label:d,onPress:function(){return b()},ref:a,type:"secondary"})})});case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b,d=a.banner;a=a.ctaParser;var e=d.banner.iconUrl;e=e!=null?i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",{className:"x11i5rnm",children:i.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:24,source:{uri:e}})})}):null;b=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{body:((b=d.banner.titleSectionOne)!=null?b:"")+((b=d.banner.titleSectionTwo)!=null?b:""),bodyLineLimit:1,level:4,meta:d.banner.heading,metaLineLimit:1,metaLocation:"above"})});var f=d.banner.infoLabel!=null?i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{type:"meta1",children:i.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:d.banner.infoLabel})})}):null,g=d.leftButton,h=d.rightButton,l;if(g!=null&&h!=null)l=i.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[i.jsx(k,{action:a(d,g),button:g}),i.jsx(k,{action:a(d,h),button:h})]});else{g=(g=g)!=null?g:h;g!=null&&(l=i.jsx(c("MWXRow.react"),{paddingTop:8,children:i.jsx(k,{action:a(d,g),button:g})}))}var m=i.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[i.jsxs(c("MWXRow.react"),{children:[e,b,f]}),l]});h=d.bannerAction!=null?a(d,d.bannerAction):void 0;var n;if(h!=null)switch(h.type){case"link":n=i.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:h.url},xstyle:function(){return[j.linkBanner]},children:m});break;case"action":n=i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:h.onPress,ref:h.contextRef,children:m});break;case"popover":n=h.popoverTrigger(function(a,b){return i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:m})});break;case"unimplemented":b=(e=(g=d.bannerAction)==null?void 0:g.ctaType)!=null?e:"";b!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+b,"messenger_web_product");n=m;break}else n=m;return i.jsx("div",{className:"xfpmyvw x1n2onr6",children:i.jsx("div",{className:"x80vd3b x1q0q8m5 xso031l",children:n})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b!=null?a.get((i||(i=d("I64"))).to_string(b)):null};function k(a,b,c){return{banner:a,bannerAction:j(b,a.bannerCtaId),leftButton:j(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return j(b,a)}).filter(Boolean),rightButton:j(b,a.cta2Id)}}function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_overflow_menu")).getKeyRange(b,a.bannerId)},[e,b,a.bannerId],f.id+":67"),j=new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_ctas")).getKeyRange(a.bannerId).map(function(a){return[(i||(i=d("I64"))).to_string(a.ctaId),a]})},[e,a.bannerId],f.id+":74"));return k(a,j,g)}g.createBanner=k;g.useInThreadBannerWithCta=a}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSFetchBanners").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){var d=a.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"readwrite");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ctaId;return c("LSExecuteCTA").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b){c("promiseDone")(a.runInTransaction(function(a){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(a),{ctaId:b})},"readwrite"))},[a])}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.marketplaceCtaType;return c("LSServerMutationCta").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){c("promiseDone")(a.runInTransaction(function(a){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(a),{marketplaceCtaType:d,threadKey:b})},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useMemo;b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var m=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function n(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,e)}).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})},[e,a,b],f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=n(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),h=g[0],j=(i||(i=d("I64"))).to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:j});var o=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:j});var p=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:j});var q=g[0];return l(function(){var a=function a(g,l){var n=l.ctaId,r=l.ctaType,s=l.deeplinkUrl,t=l.webviewUrl;if(r==="marketplace_see_details"||r==="marketplace_banner_open_native"){var u;u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product")}if(r==="marketplace_view_profile"){u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product")}if(r==="marketplace_scaled_rate_seller"&&t!=null)return{type:"link",url:t};if(r==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(r==="marketplace_report_buyer"||r==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return h({entryPoint:"REPORT_BUTTON",id:f,location:r==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product")}if(m.has(r))return{onPress:function(){return e(n)},type:"action"};if(r==="marketplace_label_chat")return{onPress:function(){return o({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_mark_as_paid")return{onPress:function(){return p({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({},function(){return e(n)})},type:"action"};if(r==="marketplace_server_mutation"){s=l.actionContentBlob;var v="";if(s!=null){t=((u=JSON.parse(s))!=null?u:{}).marketplace_cta_type;typeof t==="string"?v=t:c("FBLogger")("messenger_web_product").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b((i||(i=d("I64"))).of_string(j),v)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,h,q,o,p,j])}g.marketplaceCta=e;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),b=c("useMWLSAdContextCtaParser")();return function(c,e){var f=e.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(f))return a(c,e);else if(f==="ads_context")return b(c,e);return{type:"unimplemented"}}}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.banner;a=a.threadKey;b=d("useInThreadBannerWithCta").useInThreadBannerWithCta(b,a);a=c("useMWLSInThreadBannerCtaParser")();return j.jsx(c("MWChatInThreadBanner.react"),{banner:b,ctaParser:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.threadKey;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner")).getKeyRange(b)},[e,b],f.id+":40");var g=a==null?void 0:a.cta1Type,i=a==null?void 0:a.cta2Type;return a==null||g==="proactive_warning_affirmative"||g==="proactive_warning_negative"||i==="proactive_warning_affirmative"||i==="proactive_warning_negative"?null:j.jsx(k,{banner:a,threadKey:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("useMAWThreadLastMessageConsistencyLoggingPerformLog",["CometDebounce","I64","Int64Hooks","MAWBridgeSendAndReceive","Promise","WATimeUtils","asyncToGeneratorRuntime","logMessengerWebFalcoEvent","promiseDone","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("CometDebounce")(c("logMessengerWebFalcoEvent")),k=5;function a(){var a=c("useMWEntrypoint")();return d("Int64Hooks").useCallbackInt64(function(e){var f=e.threadKey,g=e.threadLastActivityTimeMs,p=e.threadLastMessageTimeMs,q=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(i||(i=d("I64"))).compare(p,g)>-1;c={hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(g),threadLastMessageTimeMs:i.to_string(p)};try{var e=(yield (h||(h=b("Promise"))).all([d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadLastNumMessagesByServerTs",{numMsgs:k,threadKey:(i||(i=d("I64"))).to_string(f)}),d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadLastNumMessagesBySortOrder",{numMsgs:k,threadKey:i.to_string(f)})])),r=e[0];e=e[1];j({threadKey:f,threadType:q},"thread_and_message_list_last_activity_mismatch",a,babelHelpers["extends"]({},c,{armadilloThreadLastMsgAuthoritativeTs:l(r),armadilloThreadLastMsgTs:m(e),isLastMsgsSetConsistent:n(r,e).toString(),lastNumMsgsByServerTs:o(r),lastNumMsgsBySortOrder:o(e)}))}catch(b){j({threadKey:f,threadType:q},"thread_and_message_list_last_activity_mismatch",a,c)}})())},[a])}function l(a){var b;return((b=a[0])==null?void 0:b.serverTs)!=null?d("WATimeUtils").castUnixTimeToMillisTime(a[0].serverTs).toString():""}function m(a){return(a=(a=a[0])==null?void 0:(a=a.sortOrderMs)==null?void 0:a.toString())!=null?a:""}function n(a,b){b=b.filter(function(a){return a.serverTs!=null});return b.every(function(b,c){return b.msgId===a[c].msgId})}function o(a){a=a.map(function(a){return{msgId:a.msgId,serverTsInMillis:a.serverTs!=null?d("WATimeUtils").castUnixTimeToMillisTime(a.serverTs):"",sortOrderMs:a.sortOrderMs,type:a.type}});return JSON.stringify(a)}g["default"]=a}),98);
__d("useMAWThreadLastMessageConsistencyLogging",["I64","Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","Promise","ReQL","asyncToGeneratorRuntime","promiseDone","react","useMAWThreadLastMessageConsistencyLoggingPerformLog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useRef;function a(a){var e=(j||(j=c("useReStore")))(),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector()),g=c("useMAWThreadLastMessageConsistencyLoggingPerformLog")(),k=l(null);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(e.table("threads")).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(e.table("messages")).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(e.table("reactions")).getKeyRange(a).take(20))])),j=c[0],l=c[1];c=c[2];if(l==null||j==null)return;if(f)return;if(k.current===a)return;k.current=a;c=c.reduce(function(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)},(i||(i=d("I64"))).zero);g({threadKey:j.threadKey,threadLastActivityTimeMs:j.lastActivityTimestampMs,threadLastMessageTimeMs:i.max(l.timestampMs,c),threadType:j.threadType})})())},[e,f,g,a])}g["default"]=a}),98);
__d("MDCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({IMPRESSION:1,TAP:2,FOCUS:3,UNFOCUS:4,SCROLL:5});c=a;f["default"]=c}),66);
__d("MDCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_AS_ADMIN_INITATION:1,BLOCK_FROM_CHAT:2,BLOCK_MESSAGES_AND_CALLS:3,BLOCK_MESSAGES_AND_CALLS_FAILURE:4,BLOCK_MESSAGES_AND_CALLS_SUCCESS:5,BLOCK_ON_FACEBOOK:6,BLOCK_ON_FB_FAILURE:7,BLOCK_ON_FB_SUCCESS:8,BLOCK_USER_INITIATION:9,CHAT_SETUP_SELECT_LINK_RECIPIENT:10,CHAT_SETUP_SHEET_RENDERED:11,CHAT_SETUP_UNSELECT_LINK_RECIPIENT:12,CHAT_SHARE_LINK_SHEET_RENDERED:13,CONFIRM_PUBLIC_CHAT_ACKNOWLEDGEMENT:14,CREATOR_NUX_SHEET_RENDERED:15,DISCOVER_GROUP_CHAT:16,EDIT_CHAT:17,EDIT_CHAT_DESCRIPTION:18,EDIT_CHAT_FAILURE:19,EDIT_CHAT_NAME:20,EDIT_CHAT_SUCCESS:21,EDIT_MEMBER_REQUESTS:22,EVENT_COPY_LINK:23,EVENT_REMINDER_QP_CLICK:24,EVENT_REMINDER_QP_IMPRESSION:25,EVENT_REMINDER_XMA_IMPRESSION:26,EVENT_REMINDER_XMA_TAP:27,EVENT_SHARE_LINK:28,GROUP_CHAT_BUTTON_IMPRESSION:29,INVITE_LINK_IMPRESSION:30,INVITE_LINK_TAPPED:31,JOIN_CHAT_CLOSED:32,JOIN_CHAT_CONFIRM:33,JOIN_CHAT_CONSENT_CONFIRM:34,JOIN_CHAT_INITIATION:35,JOIN_CHAT_SHEET_RENDERED:36,MEMBER_REQUEST_JOIN_APPROVED:37,MEMBER_REQUEST_JOIN_DENIED:38,REMOVE_FROM_CHAT:39,REMOVE_FROM_CHAT_FAILURE:40,REMOVE_FROM_CHAT_INITIATION:41,REMOVE_FROM_CHAT_SUCCESS:42,REPORT_CHAT_TO_ADMIN_FAILURE:43,REPORT_CHAT_TO_ADMIN_INITIATION:44,REPORT_CHAT_TO_ADMIN_SUCCESS:45,REPORT_MESSAGE_TO_ADMINS:46,REPORT_MESSAGE_TO_ADMINS_FAILURE:47,REPORT_MESSAGE_TO_ADMINS_INITIATION:48,REPORT_MESSAGE_TO_ADMINS_SUCCESS:49,REQUEST_JOIN_CHAT_ERROR:50,REQUEST_JOIN_CHAT_SUCCESS:51,REQUEST_JOIN_GROUP_CHAT:52,REQUIRE_APPROVAL_TO_JOIN_DISABLED:53,REQUIRE_APPROVAL_TO_JOIN_ENABLED:54,SET_CHAT_CREATION_PHOTO:55,SET_CHAT_PHOTO:56,SET_GROUP_TYPE:57,THREAD_CREATE_ATTEMPT:58,THREAD_CREATE_ERROR:59,THREAD_CREATE_SUCCESS:60,THREAD_SETTINGS_RENDERED:61,UNBLOCK_FROM_CHAT:62,UNDO_APPROVE_MEMBER_REQUESTS:63,UNDO_DENY_MEMBER_REQUESTS:64,VIEW_ADMIN_MEMBERS:65,VIEW_ALL_MEMBERS:66,VIEW_EVENT:67,VIEW_MEMBER_REQUESTS:68,VIEW_USER_FB_PROFILE:69,VIEW_USER_PROFILE:70,BAN_FROM_CHAT_INITIATION:71,BAN_FROM_CHAT_SUCCESS:72,BAN_FROM_CHAT_FAILURE:73,UNBAN_FROM_CHAT_INITIATION:74,UNBAN_FROM_CHAT_SUCCESS:75,UNBAN_FROM_CHAT_FAILURE:76,COPY_LINK:77,SHARE_LINK_TO_FB_INITIATION:78,SHARE_LINK_TO_FB_CONFIRM:79,SUBMIT_FEEDBACK_INITATION:80,SUBMIT_FEEDBACK:81,SUBMIT_FEEDBACK_FAILURE:82,SUBMIT_FEEDBACK_SUCCESS:83,BAN_FROM_CHAT:84,ADD_THREAD_PHOTO:85,CHANGE_THREAD_PHOTO:86,SHARE_LINK_SENT:87,REMOVE_THREAD_PHOTO:88,INSTALL_MESSENGER_UPSELL_VIEWED:89,DOWNLOAD_MESSENGER_BUTTON_CLICKED:90,POST_XMA_VIEWED:91,THREAD_JOIN:92,SHARE_TO_FACEBOOK_BUTTON_CLICKED:93,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:94,CHAT_SHARED_TO_FACEBOOK:95,THREAD_OPEN:96,CHAT_RENDERED_IN_MIB_INBOX:97,REPORT_MESSAGE_TO_META:98,ADMIN_REMOVE_MESSAGE:99,REMOVE_MESSAGE:100,MESSAGE_SEND:101,DELETE_CHAT:102,LEAVE_CHAT:103,MUTE_CHAT:104,UNMUTE_CHAT:105,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:106,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:107,NOTIF_IMPRESSION:108,NOTIF_CLICKED:109,REPORT_CHAT_TO_FACEBOOK:110,REPORTED_CONTENTS_RENDERED:111,NOTIFICATION_CONTROL_RENDERED:112,NOTIFICATION_CONTROL_HIGHLIGHTS_SELECTED:113,NOTIFICATION_CONTROL_ALL_SELECTED:114,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:115,NOTIFICATION_CONTROL_NONE_SELECTED:116,NOTIFICATION_CONTROL_MUTE_SELECTED:117,NOTIFICATION_CONTROL_UNMUTE_SELECTED:118,USER_PROFILE_BOTTOMSHEET:119,MESSAGE_USER:120,BLOCKED_USER_WARNING_RENDERED:121,BLOCKED_USER_WARNING_CONFIRM:122,BLOCKED_USER_WARNING_LEAVE:123,PUSH_NOTIFICATION_MESSAGE_RECEIVED_RENDERED:124,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:125,NOTIF_SENT:126,NOTIF_CONVERTED:127,OPEN_INVITE_LINK_VIEW:128,INVITE_SCREEN_RENDERED:129,INVITE_BUTTON_TAPPED:130,SEND_BUTTON_TAPPED:131,VIEW_CHAT_BUTTON_TAPPED:132,PROMOTE_ADMIN_BUTTON_TAPPED:133,DEMOTE_ADMIN_BUTTON_TAPPED:134,ADMIN_LIMIT_REACHED_IMPRESSION:135,PROMOTE_ADMIN_FAIL_IMPRESSION:136,DEMOTE_ADMIN_FAIL_IMPRESSION:137,FIRST_CREATE_BOTTOMSHEET_RENDERED:138,CREATE_CHANNEL_SCREEN_RENDERED:139,SHOW_ON_PROFILE_TOGGLE:140,JOIN_APPROVAL_TOGGLE:141,NAME_TEXT_INPUT:142,CHANGE_IMAGE_TAPPED:143,THREAD_CREATE:144,DISMISS_BUTTON_TAPPED:145,SHARE_TO_FEED_SCREEN_RENDERED:146,SHARE_TO_FEED_SKIPPED:147,SHARE_TO_FEED_BUTTON_TAPPED:148,POST_TEXT_INPUT:149,INVITE_TO_CHAT_SCREEN_RENDERED:150,COPY_LINK_TAPPED:151,DONE_BUTTON_TAPPED:152,INVITE_SENT_SUCCESS:153,SEARCH_BAR_INPUT_FOCUS:154,SEARCH_BAR_INPUT_UNFOCUS:155,SHOW_ON_PROFILE_RENDERED:156,SHOW_ON_PROFILE_TAPPED:157,PRIMARY_PROFILE_QP_RENDERED:158,CREATE_CHANNEL_TAPPED:159,NOT_NOW_TAPPED:160,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:161,VIEW_PINNED_CHANNELS:162,UNDO_BUTTON_TAPPED:163,INVITE_SENT_FAILED:164,INVITE_ACCEPT:165,INVITE_DECLINE:166,DIRECT_INVITE_NOTIFICATION_RENDERED:167,DIRECT_INVITE_SHEET_RENDERED:168,DIRECT_INVITE_BULK_SENT_SUCCESS:169,DIRECT_INVITE_BULK_SENT_FAIL:170,CHAT_INVITE_SHEET_RENDERED:171,DIRECT_INVITE_SENT_SUCCESS:172,DIRECT_INVITE_SENT_FAIL:173,PAUSE_CHANNEL:174,RESUME_CHANNEL:175,FEATURED_UNIT_PROFILE_QP_RENDERED:176,PIN_CARD_TAPPED:177,PIN_FEATURED_CARD_SUCCESS:178,PIN_FEATURED_CARD_FAILURE:179,CHANNELS_FEATURED_UNIT_RENDERED:180,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:181,RENDER_CHAT_INVITE_SHEET:182,RENDER_INVITE_PRESET_LIST:183,INVITE_PRESET_LIST_RENDERED:184,CREATE_POST_BUTTON_TAPPED:185,PUBLIC_CHAT_BUTTON_IMPRESSION:186,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:187,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:188,DISMISS_PAUSE_CHANNEL_DIALOG:189,DISMISS_RESUME_CHANNEL_DIALOG:190,CANCEL_RESUME_CHANNEL:191,CANCEL_PAUSE_CHANNEL:192,DEEPLINK_LANDING_PAGE_RENDERED:193,DIRECT_INVITE_SHEET_SKIPPED:194,CREATE_POST_BUTTON:195,CYSC_QP_CARD_IMPRESSION:196,CONVO_PROMPT_REMOVED:197,CONVO_PROMPT_RENDERED:198,CONVO_PROMPT_SCROLLED:199,CONVO_PROMPT_SENT:200,THREAD_PREVIEW_OPEN:201,NON_MEMBER_COMPOSER_SHOWN:202,PIN_FEATURED_CARD_TOGGLE:203,CHANNELS_TAB_ITEM_RENDERED:204,CHANNELS_TAB_ITEM_TAPPED:205,PROFILE_CHANNELS_TAB_RENDERED:206,PIN_TO_INBOX_SUCCESS:207,PIN_TO_INBOX_FAILURE:208,UNPIN_FROM_INBOX_SUCCESS:209,UNPIN_FROM_INBOX_FAILURE:210,PINNED_THREAD_RENDERED:211,CREATE_CHANNEL_OPTION_RENDERED:212,KEEP_EDITING_BUTTON_TAPPED:213,DIRECTORY_FEED_QP_IMPRESSION:214,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:215,DIRECTORY_FEED_SEE_ALL_TAPPED:216,DIRECTORY_FEED_QP_PREVIEW_TAPPED:217,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:218,INVITED_CHANNELS_SCREEN_IMPRESSION:219,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:220,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:221});c=a;f["default"]=c}),66);
__d("MDCParentSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:1,FACEBOOK:2,FACEBOOK_NEWSFEED:3,NOTIF_JEWEL:4,CHAT_SETUP:5,THREAD_VIEW:6,THREAD_DETAILS:7,CHAT_INVITE_SHEET:8,DM_CREATION_OMNIPICKER:9,CREATE_PUBLIC_CHAT_DIALOG:10,CHAT_SHARE_LINK:11,MESSENGER_INBOX:12,LONG_PRESS_MENU:13,SWIPE_LEFT_MENU:14,CHANNEL_DELETE_SHEET:15,EDIT_PUBLIC_CHAT_DIALOG:16});c=a;f["default"]=c}),66);
__d("MWLogSocialChannelFalcoEvent",["requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableChatClientEventsFalcoEvent").__setRef("MWLogSocialChannelFalcoEvent"),i=new Set([186,180]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,d=b===void 0?2:b,e=a.clientExtras,f=a.event;b=a.parentSurface;var g=b===void 0?1:b,m=a.source,n=a.surface,o=a.targetFbids,p=a.threadFbid,q=a.userId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(f))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:d,event:f,extra:e,parent_surface:g,session_id:k,source:m,surface:n,target_fbids:o,thread_fbid:p,user_id:q}})})}g.logSocialChannelFalcoEvent=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MWEncryptedBackupsFirstRestoreUpsellTime","MWLogBroadcastChannelFalcoEvent","MWLogSocialChannelFalcoEvent","MWPActor.react","MWV2IsTabFocusedContext.react","gkx","logMessengerWebFalcoEvent","requireDeferred","useC4GEngagementSurface","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("useMessengerWebThreadImpressionLogging"),j=c("gkx")("571")?3:11,k=c("gkx")("571")?1:2,l=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.groupThreadSubtype,e=a.threadKey,f=a.threadType,g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),m=c("useMWEntrypoint")();a=c("useC4GEngagementSurface")();var n=d("MWPActor.react").useActor(),o=d("MAWThreadCutover").useIsCutoverOpenThread(e),p=d("MAWThreadCutover").useGetHasUserRestoredBefore();d("Int64Hooks").useEffectInt64(function(){if(g){l({threadKey:e,threadType:f},"thread_impression",m,{eb_has_user_restored_before:p.toString(),eb_session_identifier:d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime()});var a=d("LSMessagingThreadTypeUtil").isSecure(f);i.onReady(function(c){return c.log(function(){return{entry_point:m,event_type:"thread_impression_event",group_thread_subtype:b==null?void 0:(h||(h=d("I64"))).to_string(b),is_cutover:o,thread_id:(h||(h=d("I64"))).to_string(e),thread_type:h.to_string(f),transport_type:a?"ACT":"MI"}})});d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f)&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(f)?136:1,parentSurface:j,source:62,surface:7,threadFbid:e});(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)||d("LSMessagingThreadTypeUtil").isSocialChannel(f))&&d("MWLogSocialChannelFalcoEvent").logSocialChannelFalcoEvent({action:1,event:d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)?201:96,parentSurface:k,source:46,surface:13,threadFbid:(h||(h=d("I64"))).to_string(e),userId:h.to_string(n)})}},[e,m,f,g,n,b,o,a,p])}g["default"]=a}),98);
__d("useThreadLastMessageTimeMs",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a).map(function(a){return a.timestampMs})},[b,a],f.id+":26")}g["default"]=a}),98);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.react",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","emptyFunction","isEventSupported","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useImperativeHandle,o=b.useLayoutEffect,p=b.useMemo,q=b.useRef;function r(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function s(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var t=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body.style.overscrollBehavior==null&&((d=document.body)==null?void 0:d.style.scrollBoundaryBehavior)==null:!1;function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,h=a.onScroll,i=h===void 0?c("emptyFunction"):h,u=a.scrollPositionRef,v=q(f),w=q(null),x=k(function(a){w.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);m(function(){v.current=f});var y=function(a,b){b=w.current;if(b!=null){b.scrollTop=a;return}},z=function(a){a===void 0&&(a=!1);var b=w.current;if(b!=null)return y(b.scrollHeight,a)},A=function(a,b){var c=w.current;if(c!=null)return y(c.scrollHeight-(a+c.clientHeight),b)},B=q(!1);B.current=g;var C=function(){var a=u.current,b=w.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=r(void 0,w.current),d=s(void 0,w.current);u.current=c?B.current?{type:"Island"}:{type:"Bottom"}:b!=null?d?{type:"Top",value:b}:{type:"Between",value:b}:{type:"Bottom"};c=u.current;d=0;var e=0;switch(a.type){case"Bottom":d=1;break;case"Top":case"Between":e=2;break;case"Island":break}if(e===2)switch(c.type){case"Top":d=1;break;case"Between":break;case"Bottom":case"Island":v.current("ScrollToBottom");break}if(d===1){e=0;switch(a.type){case"Top":break;case"Bottom":case"Between":e=2;break}e===2&&c.type==="Top"&&v.current("ScrollToTop")}return i(b)},D=function(a){if(t){var b=a.deltaY>0,c=a.deltaY<0;(b&&r(0,w.current)||c&&s(0,w.current))&&a.preventDefault()}return C()},E=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,D,{passive:!t})},f=function(){return a.removeEventListener(b,D,{passive:!t})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(C,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",C),k=d("mousedown",C);return function(){f();i();g();h();k();return j()}};m(function(){var a=w.current;if(a==null)return;var b=E(a);return function(){return b()}},[]);o(function(){var a=w.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&v.current("ContentDoesNotFillContainer")});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=u.current;switch(a.type){case"Bottom":z();break;case"Top":A(a.value,!1);break;case"Between":case"Island":break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=u.current;switch(a.type){case"Bottom":z();break;case"Top":case"Between":A(a.value,!1);break;case"Island":break}},[]);var F=l(c("BaseScrollableAreaContext")),G=p(function(){return{getDOMNode:function(){return w.current}}},[]);h=p(function(){return F.concat([G])},[G,F]);n(b,function(){return{getScroller:function(){return x},isContainerFilled:function(){var a=w.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=w.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){u.current={type:"Bottom"};return z()},scrollToElement:function(a,b){var c=w.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return C()}},scrollToPosition:A}},[]);return j.jsx(c("BaseScrollableAreaContext").Provider,{children:j.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x1odjw0f xish69e x16qrkmw","data-release-focus-from":"CLICK",ref:x,tabIndex:-1,children:e}),value:h})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("MWV2MessageScroller.react",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.react","emptyFunction","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.children,e=a.fetchMore,f=a.hasMoreAfter,g=a.hasMoreBefore,h=a.markThreadAsRead,l=a.onScroll;l=l===void 0?c("emptyFunction"):l;var m=a.scrollerRefs;a=a.thread;h=h;var n=k(function(){var a;return((a=m.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[m]),o=k(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,h,n,o);return j.jsx(c("MWChatConversationScroller.react"),{dispatch:function(a){switch(a){case"ContentDoesNotFillContainer":if(g)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case"ScrollToBottom":if(f)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case"ScrollToTop":return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:f,onScroll:l,ref:m.scrollerRef,scrollPositionRef:m.scrollPositionRef,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(){var a=j(null),b=j({type:"Bottom"});return i(function(){return{scrollerRef:a,scrollPositionRef:b}},[])}g["default"]=a}),98);
__d("useMWChatLoadMoreItemsIncrementally",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useCallback,l=b.useMemo,m=b.useRef,n=b.useState,o={contents:void 0};function p(){var a;o.contents==null&&(o.contents=window.document.documentElement.style.overflowAnchor!=null);return(a=o.contents)!=null?a:!1}function a(a,b,e,f,g,h){a=a!=null?a:!1;var o=b!=null?b:!0;b=e!=null?e:{type:"Bottom"};e=a||!p();var q=f.length,r;switch(b.type){case"Top":case"Between":r=b.value>=200;break;case"Bottom":case"Island":r=!1;break}a=n(function(){if(r)return q;return o?window.screen.availHeight<1200?20:40:10});var s=a[0],t=a[1];b=l(function(){return f.slice(-s)},[f,s]);var u=m(s);a=k(function(a){if(!(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE)))throw c("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if(u.current+15<=q){u.current+=15;return t(function(){return u.current})}else{g((j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(u.current<q+15){u.current=q+15;return t(function(){return u.current})}}},[g,q,t]);return e?[f,g,h]:[b,a,h||s<q]}g["default"]=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","MWPMessageHasAttachment","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useCallback,p=e.useEffect,q=e.useRef,r=e.useState;function s(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}function t(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=(l||(l=d("I64"))).equal(a.id,f);var g=b.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(b.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return n.jsx(s,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}function u(a){return(l||(l=d("I64"))).equal(a.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function v(a){a=a.message;a=a;var b=(j||(j=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":128");if(a.length===0)return null;if(a.length>1)return a.every(u)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):null;a=a[0];var i=a.accessibilitySummaryText,k=a.attachmentType,o=a.filename;a=a.titleText;if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),a!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",a)]):null]});else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__456qLg2FzOf__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),i!=null&&i!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",i)]):null]});else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),o!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",o)]):null]});else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}v.displayName=v.name+" [from "+f.id+"]";function w(a){var e=a.message,f=a.participant,g=a.sender;a=a.threadType;var h=r(!1),i=h[0],j=h[1];p(function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!i)return null;h=d("LSMessagingThreadTypeUtil").isSecure(a);i=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text;return n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[n.jsx(t,{message:e,participant:f,sender:g}),i!=null?i:null,c("MWPMessageHasAttachment")(e)&&!h?n.jsx(v,{message:e}):null]})}w.displayName=w.name+" [from "+f.id+"]";function x(a,e){var f=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=q(d("ServerTime").getMillis()),k=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(k).subscribe(function(e,g){if(g.operation!=="add")return;var j=g.value;(l||(l=d("I64"))).to_float(j.timestampMs)>h.current&&(h.current=(l||(l=d("I64"))).to_float(j.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(j.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(j.threadKey,j.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(j,c,b)}))})},[f,g,a,k])}function a(a){a=a.thread;var b=a.threadType,e=r(null),f=e[0],g=e[1];e=o(function(a,e,f){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return n.jsx(w,{message:a,participant:f,sender:e,threadType:b})})},[b]);x(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children;a=a.onClick;var d=c("useCurrentDisplayMode")()==="dark";return i.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[d?j.dark_mode_legible_text_pill:j.pill]},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e,f){var g=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=d("MWMDotMeReferrerContext.react").useMDotMeReferrer();return d("Int64Hooks").useCallbackInt64(function(j,m){var n=d("LSThreadAttributionTypeUtil").getSource(a,e);j=j!=null?(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&j.ctaId===m.ctaId:!1;var o=j?l:void 0;c("promiseDone")(g.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(e=f)!=null?e:void 0,mark_read:!0,platform_ref:o,platform_token:m.platformToken,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:n}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:k,text:m.title,threadKey:a,threadType:b})},"readwrite"));var p=(h||(h=d("I64"))).to_string(a);if(j)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:p}}});else{var q=(j=m.ctaIdentifier)!=null?j:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:p},quick_reply:{id:q,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}})},[a,e,l,g,k,b,f])}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWPThreadThemeGradientUtils","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","stylex","useMWPThreadTheme","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||(j=d("react")),m=j.useState,n={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function o(a){var b=a.initiatingSource,e=a.lsSource;e=e===void 0?"unknown":e;var f=a.nullstateCtas,g=a.threadKey;a=a.threadType;var i=c("useMWV2SendIcebreakerMessage")(g,a,e,b);a=c("useMWPThreadTheme")();var j=f.map(function(a){return a.ctaIdentifier});e=m(!1);var o=e[0],p=e[1];b=c("useVisibilityObserver")({onVisible:d("Int64Hooks").useCallbackInt64(function(){if(!o&&j.length>0){p(!0);var a=(k||(k=d("I64"))).to_string(g);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:j,num_items:j.length,type:60},page:{id:a}}})}},[o,j,g])});return l.jsx("div",{className:(h||(h=c("stylex")))(n.container,d("MWPThreadThemeGradientUtils").isGradient(a)&&n.mask),ref:b,children:l.jsx("ul",{className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj",children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return l.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return i(void 0,a)},children:a.title})},(k||(k=d("I64"))).to_string(a.ctaId));else return null})})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=c("useStable")(function(){return d("ServerTime").getMillis()}),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads"),["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":137");if(g==null)return null;return a.nullstateCtas.length===0||b-(k||(k=d("I64"))).to_int32(g.lastActivityTimestampMs)<216e5?null:l.jsx(o,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSelectiveSyncTTRCQPLLoggingUtils",["I64","QPLUserFlow","ReQL","ReQLSuspense","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310806,"1365");function a(a){var b,e=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder")).getKeyRange(a).take(20)},[e,a],f.id+":35"))!=null?b:[];return b}function b(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_point_query_ttrc")).getKeyRange(a)},[b,a],f.id+":48");if(e!=null)return e}function e(a,b,d){c("QPLUserFlow").endSuccess(j,{annotations:{string:{hasMessageDataChanged:b,status:"completed"}},instanceKey:a,timestamp:(b=d)!=null?b:void 0})}function k(a,b,e,f){c("QPLUserFlow").start(j,{annotations:{string:{thread_id:(h||(h=d("I64"))).to_string(b),thread_subtype:f?(h||(h=d("I64"))).to_string(f):null,thread_type:h.to_string(e)}},instanceKey:a})}function l(a,b){c("QPLUserFlow").addPoint(j,b,{instanceKey:a})}function m(a){c("QPLUserFlow").addPoint(j,"selective_sync_remediation_end",{instanceKey:a}),c("QPLUserFlow").endSuccess(j,{annotations:{string:{status:"skipped"}},instanceKey:a})}function n(a,b){return a.length!==b.length?!1:!a.some(function(a,c){c=b[c];c.text;c=babelHelpers.objectWithoutPropertiesLoose(c,["text"]);a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);if(JSON.stringify(c)!==JSON.stringify(a))return!0})}g.useLast20Messages=a;g.useTPQEntry=b;g.logCompleteEndSuccess=e;g.logEventStreamStart=k;g.logPoint=l;g.logSkippedEndSuccess=m;g.isMessageDataUnchanged=n}),98);
__d("LSThreadPointQueryTTRCStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:1,SKIPPED:2});f["default"]=a}),66);
__d("SelectiveSyncTTRCLogger.react",["CometPlaceholder.react","I64","Int64Hooks","LSIntEnum","LSThreadPointQueryTTRCStatus","MWCMSelectiveSyncTTRCQPLLoggingUtils","Random","ReQL","ReQLSuspense","areEqual","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useRef,o=function(a){var b=a.instanceKey,e=a.isReportThreadViewOpenSprocCalled,g=a.reportThreadViewOpenCalledTimestamp,l=a.setInstanceKey,m=a.threadKey,o=a.threadSubtype,p=a.threadType,q=n(!1);a=(h||(h=c("useReStore")))();var r=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("messages").index("messageDisplayOrder")).getKeyRange(m).take(20),f.id+":64"),s=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("reactions")).getKeyRange(m).take(20),f.id+":69"),t=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("reactions_v2")).getKeyRange(m).take(20),f.id+":72");d("Int64Hooks").useEffectInt64(function(){e===!1&&(q.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logEventStreamStart(b,m,p,o))},[b,e,g,m,o,p]);var u=n(r),v=n(s),w=n(t),x=d("MWCMSelectiveSyncTTRCQPLLoggingUtils").useTPQEntry(m);d("Int64Hooks").useEffectInt64(function(){var a=x==null?void 0:x.status,e=x==null?void 0:x.deltaInsertionTimestampMs,f=x==null?void 0:x.dasmExecutionTimestampMs;if(q.current===!0&&g!==0)if(a&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").SKIPPED)))d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logSkippedEndSuccess(b),q.current=!1,l(c("Random").uint32());else if(a!=null&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").COMPLETED))&&e!=null&&(j||(j=d("I64"))).to_float(e)>g){d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(b,"selective_sync_remediation_end");a=!d("MWCMSelectiveSyncTTRCQPLLoggingUtils").isMessageDataUnchanged(u.current,r);var h=!(i||(i=c("areEqual")))(v.current,s),m=!i(w.current,t);a||h||m?d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"true",f!=null?(j||(j=d("I64"))).to_float(f):void 0):d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"false",e!=null?(j||(j=d("I64"))).to_float(e):void 0);u.current=r;v.current=s;w.current=t;q.current=!1;l(c("Random").uint32())}},[b,r,s,t,g,l,x]);return null};function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useReportThreadViewOpenDebounced",["LSFactory","LSReportThreadViewOpenStoredProcedure","promiseDone","useDebouncedComet","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var d=(h||(h=c("useReStore")))();return c("useDebouncedComet")(function(){c("promiseDone")(d.runInTransaction(function(b){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite"))},{leading:!0,wait:b})}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:j.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=n(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?(j||(j=d("I64"))).to_string(e):null,fb_group_id:f!=null&&!(j||(j=d("I64"))).is_zero(f)?(j||(j=d("I64"))).to_string(f):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.senderUnsendNUXEnabled;return i.jsxs(i.Fragment,{children:[b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","ix","CometSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","TetraButton.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b,e=a.onDismiss,f=a.onView;a=h._("__JHASH__7PesNdiLm6N__JHASH__");var g=h._("__JHASH__jjSY-Fh1rGw__JHASH__"),j={},n=c("useMWXLazyDialog")(l),o=n[0],p=function(){return o(j,function(){})};return k.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[k.jsxs(n=c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b=c("MDSRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),k.jsxs(b,{expanding:!0,children:[k.jsx(n,{paddingHorizontal:0,paddingTop:0,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),k.jsx(n,{paddingHorizontal:0,paddingTop:8,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})})})]})]}),k.jsxs(n,{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b,{xstyle:m.button,children:k.jsx(c("TetraButton.react"),{label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),onPress:function(){p();return f()},type:"secondary"})}),k.jsx(b,{xstyle:m.button,children:k.jsx(c("TetraButton.react"),{label:h._("__JHASH__CqytfJoYvSJ__JHASH__"),onPress:e,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return Date.now()-(h||(h=d("I64"))).to_float((a=a.unsentTimestampMs)!=null?a:(h||(h=d("I64"))).zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=j(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,k,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=j(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=j(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useRef,n=b.useState;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=d("MWLSThread").useThread(b,function(a){return a.threadType});e=e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e);var f=(h||(h=c("useReStore")))(),g=n(!1),j=g[0],o=g[1],p=m(!1),q=m(!1),r=m();g=c("useMessengerUnsendNUX")(8568);var s=g[0],t=g[1],u=g[2],v=l(function(){var a=r.current;if(a!=null){a();r.current=void 0;return}},[]);g=l(function(){q.current=!0;t();v();return o(!1)},[t,v]);var w=l(function(a){var b=!j&&!p.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){p.current=!0;return s(function(a){p.current=!1;if(a)return o(!0);else{v();q.current=!0;return}})}},[j,s,v]);d("Int64Hooks").useEffectInt64(function(){if(q.current)return;r.current=d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(b).filter(function(b){if(b.isUnsent)return!(i||(i=d("I64"))).equal(b.senderId,a);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&w(b.value)});return function(){v();if(j&&!q.current)return u()}},[f,a,j,u,w,b,v]);if(j&&!e)return k.jsx(c("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:g,onView:g});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||(j=d("react"));b=j;var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),f=m(!1),g=m(!1),j=m(!1),n=m(),o=c("useMessengerUnsendNUX")(8598),p=o[0],q=o[1],r=k(function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},[]),s=k(function(){if(!j.current){j.current=!0;r();return q()}},[]);o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.react"));var t=o[0],u=k(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return p(function(a){f.current=!1,a?(t({onView:s},function(){}),g.current=!0):(r(),j.current=!0)})}},[a,r]);l(function(){n.current=d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b).filter(function(b){return b.isUnsent&&(i||(i=d("I64"))).equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&u(b.value)});return r},[b,u,r]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a,b,d=h._("__JHASH__TDoMKgQOS58__JHASH__"),e=h._("__JHASH__9PUf24O7tfB__JHASH__");return k.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[k.jsxs(a=c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b=c("MWXRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("MWXImage.react"),{src:i("331359")})}),k.jsxs(b,{expanding:!0,children:[k.jsx(a,{paddingHorizontal:0,paddingTop:0,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:d})})}),k.jsx(a,{paddingHorizontal:0,paddingTop:8,children:k.jsx(b,{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsx(a,{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:k.jsx(b,{xstyle:m.button,children:k.jsx(c("MWXButton.react"),{label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),onPress:function(){c("goURIOnWindow")(window.open("","_blank"),l)},type:"primary"})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWCanThreadBeCutover",["LSContactBitOffset","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.table("participants"),[]).getKeyRange(a),d("ReQL").fromTableAscending(b.table("contacts"),["capabilities","capabilities2"]))},[b,a],f.id+":26");return e.every(function(a){a[0];a=a[1];return a!=null&&d("LSContactBitOffset").has(75,a)===!0})}g["default"]=a}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","useMAWCanThreadBeCutover","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(a)},[e,a],f.id+":34");g=g!=null&&d("LSContactBitOffset").has(76,g);var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a)},[e,a],f.id+":47");i=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1;b=((b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(a)},[e,a],f.id+":57"))==null?void 0:b.minMessageId)!=null?b:"")==="";var j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table").index("jid")).getKeyRange(a)},[e,a],f.id+":63");j=j!=null;var k=d("MAWThreadCutover").useIsCutoverOpenThread(a),l=d("MAWThreadCutover").useIsCutoverSecureThread(a);k=k||l;l=c("useMAWCanThreadBeCutover")(a);return g&&i&&!b&&!j&&!k&&l}g["default"]=a}),98);
__d("useMAWTriggerOnDemandCutover",["I64","Int64Hooks","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","QPLUserFlow","WALoggerDeferred","promiseDone","qpl","react","useMAWCanThreadBeCutoverOnDemand","useMWNavigation","useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover finished successfully for ThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Triggering cutover for ThreadKey: ",""]);m=function(){return a};return a}b=j||d("react");var n=b.useRef,o=b.useState;function a(a){var b=a.threadKey,e=a.triggerSource,f=(h||(h=c("useReStore")))(),g=c("useMAWCanThreadBeCutoverOnDemand")(b),j=n(null);a=o(!1);var p=a[0],q=a[1],r=c("useMWNavigation")(),s=c("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate")();d("Int64Hooks").useEffectInt64(function(){var a=j.current==null||j.current!==g;a&&g&&(j.current=g,q(!0),c("promiseDone")(d("WALoggerDeferred").LOG(m(),(i||(i=d("I64"))).to_string(b))),c("QPLUserFlow").start(c("qpl")._(1056847893,"505")),e==="inbox"?s&&s({contactId:b,isOnDemandCutover:!0,navigationApi:r}):c("LSPlatformWaitForTaskCompletion")(f,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:b})},"readwrite").then(function(){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(b))),c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){a="[OD-Cutover] Cutover finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(b)+".\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(k(),a));c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})["finally"](function(){q(!1)}))},[g,f,r,b,s,e]);return p}g["default"]=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback;function a(){var a=l(function(){d("BroadcastChannelQPL").logCreateChannelToThreadViewQPLSuccess()},[]);a=c("useSinglePartialViewImpression")({onImpressionStart:a});return k.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x1pdq3kb xkrivgy x4ii5y1 x1gryazu x1lr1uin x2b8uid",ref:a,children:[k.jsx(c("MWXImage.react"),{src:i("196163"),xstyle:m.image}),k.jsx(c("MWXTextPairing.react"),{body:h._("__JHASH__0beiJBlEXW1__JHASH__"),headline:h._("__JHASH__c0b5-Kz1eAl__JHASH__"),level:4,textAlign:"center"})]})}a.displayName=a.name+" [from "+f.id+"]";var m={banner:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"x1pdq3kb",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1lr1uin",textAlign:"x2b8uid",$$css:!0},image:{marginBottom:"x1hq5gj4",$$css:!0}};g["default"]=a}),98);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometIcon.react","CometRow.react","CometRowItem.react","CometTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(){var a;a=(a=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:a.toString();return k.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:k.jsx(c("CometRowItem.react"),{children:k.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:l.banner,children:[k.jsx(c("CometColumnItem.react"),{expanding:!0,children:k.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:k.jsx(c("CometTextWithIcon.react"),{iconBefore:k.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._("__JHASH__Kow3rs5K3HC__JHASH__")})})}),k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:h._("__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("MWContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.kind;a=a.text;if((i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return k.jsx("div",{className:"xsag5q8",children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return k.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometContextualMessage.react","CometImageFromIXValue.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","fbs","promiseDone","react","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function a(){var a=c("useMAWGetUserVisibleErrors")(),b=a[0],e=a[1];a=l(!1);var f=a[0],g=a[1];a=k(function(){c("promiseDone")(e(),function(){window.location.reload(!0)})},[e]);var i=k(function(){c("promiseDone")(e(),function(){g(!0)})},[g,e]),m=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(b==null?void 0:b.errorBodyText),n=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(b==null?void 0:b.errorTitleText);return b&&m!=null&&n!=null&&c("CometContextualMessage.react")&&!f?j.jsx("div",{className:"xjf5wm9 xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x17qophe x13vifvy xh8yej3",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:c("fbs")._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:a,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),body:m,headline:j.jsx(j.Fragment,{children:n}),headlineAriaLabel:n,icon:j.jsx(c("CometImageFromIXValue.react"),{alt:n,source:h("1351648")}),level:4,onClose:i})}):void 0}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","WALoggerDeferred","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[occam] useMWCurrentVisibleMessage: incorrect call to MPQ with secure mailbox"]);k=function(){return a};return a}b=j||d("react");var l=b.useCallback,m=b.useEffect,n=b.useRef,o=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=n(c("MWMessageElementRefList")()),p=a==null?void 0:a.threadKey,q=a==null?void 0:a.threadType,r=n(),s=(h||(h=c("useReStore")))(),t=d("ReQLSuspense").useFirst(function(){if(p==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(s.table("messages_ranges_v2__generated")).getKeyRange(p);var a=g.timestamp;return d("ReQL").fromTableDescending(s.table("messages_ranges_v2__generated")).getKeyRange(p).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[p,g,s],f.id+":58");e=o(function(){return t});var u=e[0],v=e[1];m(function(){r.current=void 0,g==null&&b.current!=null&&b.current.scrollToBottom()},[b,g]);var w=l(function(a){var d=b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),x=l(function(a){if(a!==r.current)return j.current.get(a,function(b){w(b),r.current=a})},[w]);m(function(){t!=null?v(t):g==null&&v(function(){})},[g,t,v]);m(function(){g!=null&&u!=null&&x(g.messageId)},[s,g,u,x]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&t==null&&g!=null){var b,e=g.messageId;b=(i||(i=d("I64"))).to_int32((b=q)!=null?b:(i||(i=d("I64"))).neg_one);b!==-1&&(b===15||b===16)&&c("promiseDone")(d("WALoggerDeferred").ERROR(k()));c("promiseDone")(s.runInTransaction(function(b){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(b),{messageId:e,threadKey:a.threadKey,threadType:a.threadType})},"readwrite"))}},[s,g,t,p,q,a]);return{messageElementRefs:j,messageRange:u,visibleMessage:(e=g)!=null?e:void 0}}g["default"]=a}),98);
__d("useMWLSIsBroadcastChannelWithZeroMessage",["ReQL","ReQLSuspense","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("useMWV2ConversationScrollerRefs")();b=c("useMWCurrentVisibleMessage")(a,b.scrollerRef);b=b.messageRange;b=(b=b==null?void 0:b.isLoadingBefore)!=null?b:!1;var e=a.threadKey,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("messages")).getKeyRange(e).filter(function(a){return!a.isAdminMessage})},[g,e],f.id+":32");var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("attachments")).getKeyRange(e)},[g,e],f.id+":41");a=a!=null||i!=null;return!(a||b)}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.react","MAWThreadCutover","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWXText.react","ReQL","ReQLSuspense","cr:1607","cr:5777","cr:7232","gkx","isFeatureLimitEnabled","react","stylex","useIsAdmodOnboardingEnabledForThread.react","useIsReadOnlyFeatureLimitedWithThreadType","useMWLSIsBroadcastChannelWithZeroMessage","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||d("react"),o={align:{verticalAlign:"xxymvpz",$$css:!0},container:{paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0},image:{display:"x78zum5",justifyContent:"xl56j7k",marginBottom:"xod5an3",$$css:!0},title:{marginBottom:"xod5an3",$$css:!0}};function p(a){var e=a.isBusinessSupport,f=a.isReadOnlyFeatureLimited;a=a.thread;var g=d("useIsAdmodOnboardingEnabledForThread.react").useIsAdmodOnboardingEnabledForThread(a.threadKey),h=c("useMWLSIsBroadcastChannelWithZeroMessage")(a);if(f||e)return null;if(g&&b("cr:7232")!=null)return n.jsx(b("cr:7232"),{thread:a});if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null)if(h&&c("gkx")("3199"))return n.jsx(c("MWContextBannerChannelActivationPrompt.react"),{});else return n.jsx(b("cr:5777"),{thread:a});return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.threadKey;a=a.threadType;var g=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),k=d("MAWThreadCutover").useIsCutoverSecureThread(e),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var r=c("useMWPEditMessageDeemphasizer")(),s=(i||(i=c("useReStore")))(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(s.table("threads"),["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadType","capabilities","capabilities2","capabilities3","capabilities4"]).getKeyRange(e)},[s,e],f.id+":132"),u=c("usePageType")(t==null?void 0:t.threadKey);if(t==null)return null;var v=d("LSThreadBitOffset").has(47,t);if(v)return null;v=t.nullstateDescriptionText1;var w=t.nullstateDescriptionText2,x=t.nullstateDescriptionText3,y=t.nullstateDescriptionType1,z=t.nullstateDescriptionType2,A=t.nullstateDescriptionType3,B=(l||(l=d("I64"))).equal(t.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),C=d("LSMessagingThreadTypeUtil").isSecure(t.threadType);g=g&&(!C||c("isFeatureLimitEnabled")());var D=n.jsx("span",{className:"xxymvpz",children:n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:t.threadKey})})}),E=n.jsx(c("LSThreadTitle.react"),{thread:t,wrapOutput:function(a,b){return b}});return n.jsxs(c("BaseView.react"),{children:[n.jsxs("div",{className:(j||(j=c("stylex")))(o.container,r),"data-testid":void 0,children:[n.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:n.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:t.threadKey})}),n.jsx("div",{className:"xod5an3",children:n.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[E,!q&&!a&&!c("gkx")("8726")&&D]})}),u!=null&&(l||(l=d("I64"))).equal(u,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?n.jsx("div",{className:"xod5an3",children:n.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._("__JHASH__5MDaoXA0f1Z__JHASH__")})}):null,v!=null&&y!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:y,text:v}):null,w!=null&&z!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:z,text:w}):null,x!=null&&A!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:A,text:x}):null,b("cr:1607")!=null&&n.jsx(b("cr:1607"),{threadKey:e}),n.jsx(p,{isBusinessSupport:B,isReadOnlyFeatureLimited:g,thread:t}),C&&!k?n.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,C&&c("MWPWebWorkerDisconnectedBanner.react")?n.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null]}),n.jsx(c("MWEditMessageOverlay.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.nullstate;a=a.nullstateCtas;b=b.welcomeText;var d=k(c("MWPreloadedText")),e=h._("__JHASH__zLWQrS74qZX__JHASH__");a=b!==e.toString()&&a.length>0;return d.text!=null||!a&&b==null?null:j.jsxs("div",{className:"xurb0ha x1sxyh0",children:[b!=null&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}),a&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useContext;function a(a){var b=a.nullstate,e=a.threadKey;a=a.threadTitle;var f=m(c("MWPreloadedText")),g=b.privacyText,i=b.privacyTextCtaTitle,n=b.privacyTextNonWelcomeScreen;a=h._("__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__WAqQCKR95Tr__JHASH__")})}))]);var o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react")),p=o[0];o=l.jsx(c("MWXLink.react"),{color:"primary",onClick:function(){p({entryPoint:"NULL_STATE",threadKey:e},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(e)}})},role:"link",target:"_blank",children:i!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:i}):null});i=f.text!=null&&!!n;f=i||g!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:i?n:g}):null;return l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("2386")&&(j||(j=d("I64"))).equal(b.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[f," ",o]}):a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useState,n={cta_list:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,i=a.threadKey;a=a.threadType;var o=c("useMWV2SendIcebreakerMessage")(i,a,e,b),p=g.map(function(a){return a.ctaIdentifier}).filter(Boolean);a=m(!1);var q=a[0],r=a[1];e=c("useVisibilityObserver")({onVisible:d("Int64Hooks").useCallbackInt64(function(){if(!q&&p.length>0){r(!0);var a=(j||(j=d("I64"))).to_string(i);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:p,num_items:String(p.length),type:60},page:{id:a}}})}},[q,p,i])});return l.jsx("ul",{className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",ref:e,children:g.map(function(a){var b=(j||(j=d("I64"))).equal(f.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&f.ctaId!=null&&(j||(j=d("I64"))).equal(f.ctaId,a.ctaId);return l.jsx("li",{className:(h||(h=c("stylex")))(n.cta_list_item,b?n.cta_list_item_center:!1),children:l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return o(f,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["CometScrollableArea.react","Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={privacy_text:{paddingBottom:"xx6bls6",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},privacy_text_offset:{paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};a=i.memo(function(a){var b=a.initiatingSource,d=a.lsSource;d=d===void 0?"unknown":d;var e=a.nullstate,f=a.nullstateCtas,g=a.threadKey,h=a.threadName;a=a.threadType;var l=j(c("MWPreloadedText")),m=e.privacyText;l=i.jsxs("div",{children:[i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:e,nullstateCtas:f}),l.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:b,lsSource:d,nullstate:e,nullstateCtas:f,threadKey:g,threadType:a}),m!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:e,threadKey:g,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:g,threadName:h,threadType:a},wrapOutput:function(a,b){return b}})})}):null]});return i.jsx(c("CometScrollableArea.react"),{xstyle:k.privacy_text_offset,children:l})},d("Int64Hooks").mostlyShallowEqual);g["default"]=a}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometErrorBoundary.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMIsAnyCMThread","MWCMSelectiveSyncTTRCQPLLoggingUtils","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","Promise","Random","ReQL","ReQLSuspense","SelectiveSyncTTRCLogger.react","ServerTime","asyncToGeneratorRuntime","cr:1598","cr:1600","cr:1690","cr:4723","cr:488","cr:5483","cr:7100","cr:7233","emptyFunction","gkx","justknobx","logMessengerWebFalcoEvent","promiseDone","react","useCommunityFolder","useIsAdmodOnboardingEnabledForThread.react","useLSMessagingInitiatingSource","usePageletMetadata","useReStore","useReportThreadViewOpenDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useRef,o=e.useState,p=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function q(a){var b=(k||(k=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").threadNullStateQuery(b,a)},[b,a],f.id+":104"),g=d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(b,a)},[b,a],f.id+":111");return[e,g]}function r(a,e){var f=(k||(k=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.table("threads")).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.table("messages")).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(f.table("reactions")).getKeyRange(a).take(20))])),g=c[0],j=c[1];c=c[2];if(j==null||g==null)return;c=c.reduce(function(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)},(i||(i=d("I64"))).zero);j=i.max(j.timestampMs,c);c=i.compare(j,g.lastActivityTimestampMs)>-1;p({threadKey:g.threadKey,threadType:g.threadType},"thread_and_message_list_last_activity_mismatch",e,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(g.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(j)})})())},[f,e,a])}function a(a){var e,g=a.entryPoint,h=a.messageListRef,l=a.thread,p=(k||(k=c("useReStore")))();a=o(0);var s=a[0],t=a[1];a=o(c("Random").uint32());var u=a[0];a=a[1];var v=q(l.threadKey),w=v[0],x=v[1];v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.table("cm_channel_list").index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(l.threadKey)},[p,l.threadKey],f.id+":206");e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.table("threads"),["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(function(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)})},[p,l.threadKey],f.id+":215"))!=null?e:!1;c("usePageletMetadata")("threadType",(i||(i=d("I64"))).to_string(l.threadType));var y=d("MWPActor.react").isAPPlus(),z=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType),A=c("useLSMessagingInitiatingSource")(),B=b("cr:7100")!=null?m.jsx(b("cr:7100"),{thread:l}):null,C=c("MWCMIsAnyCMThread")(l.threadType),D=d("MWCMThreadTypes.react").isJoinedCMThread(l.threadType),E=n(!1),F=C||c("justknobx")._("1225")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(l.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType)),G=d("LSThreadBitOffset").has(167,l)&&D,H=d("LSThreadBitOffset").has(193,l),I=c("justknobx")._("1596"),J=c("useReportThreadViewOpenDebounced")(l.threadKey,I);d("Int64Hooks").useEffectInt64(function(){F&&(window.addEventListener("focus",J),C&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:(i||(i=d("I64"))).to_string(l.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(l.threadKey)}),E.current===!1&&(t(d("ServerTime").getMillis()),E.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(u,"selective_sync_remediation_start"),J()));G&&c("promiseDone")(p.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:l.threadKey})},"readwrite"));return function(){window.removeEventListener("focus",J)}},[p,l.parentThreadKey,l.threadKey,l.threadType,G,C,u,F,J]);I=d("Int64Hooks").useCallbackInt64(function(){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWPQuickReplies.react"),{threadKey:l.threadKey}),m.jsx(c("MWPersistentIcebreakers"),{initiatingSource:A,lsSource:"inboxInThread",nullstateCtas:x,threadKey:l.threadKey,threadType:l.threadType})]})},[l.threadKey,l.threadType,x,A]);var K=d("Int64Hooks").useCallbackInt64(function(){return m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),m.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},[l.threadKey,l.threadType]);r(l.threadKey,g);var L=c("useCommunityFolder")(l),M=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),N=d("useIsAdmodOnboardingEnabledForThread.react").useIsAdmodOnboardingEnabledForThread(l.threadKey);M=M!=null&&M==="ChatTab";v=(v==null?void 0:v.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(v==null?void 0:v.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2));var O=c("gkx")("1968579"),P=c("gkx")("7561"),Q=(i||(i=d("I64"))).gt(l.parentThreadKey,(i||(i=d("I64"))).zero)&&(i||(i=d("I64"))).gt(l.threadKey,(i||(i=d("I64"))).zero);M=b("cr:4723")!=null&&!M?m.jsx(b("cr:4723"),{thread:l}):null;var R=b("cr:1690")!=null?m.jsx(b("cr:1690"),{thread:l}):null;H=c("MWChatXACSunsettingBanner.react")!=null&&H?m.jsx(c("MWChatXACSunsettingBanner.react"),{}):null;var S=b("cr:5483")!=null&&D&&!v?m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(b("cr:5483"),{folderId:l.parentThreadKey})}):null;O=b("cr:1598")!=null&&D&&v&&O?m.jsx(b("cr:1598"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null;D=b("cr:488")!=null&&D&&v&&P?m.jsx(b("cr:488"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null;v=Q?m.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:L==null?void 0:L.folderId,fbGroupId:L==null?void 0:L.fbGroupId,threadId:l.threadKey}):null;P=b("cr:7233")!=null&&N?m.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(b("cr:7233"),{threadKey:l.threadKey})})}):null;Q=F?m.jsx(c("SelectiveSyncTTRCLogger.react"),{instanceKey:u,isReportThreadViewOpenSprocCalled:E.current,reportThreadViewOpenCalledTimestamp:s,setInstanceKey:a,threadKey:l.threadKey,threadSubtype:l.threadSubtype,threadType:l.threadType}):null;return w!=null&&!e?m.jsxs(m.Fragment,{children:[Q,v,P,B,m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),R,S,O,D,H,M,m.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),m.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:A,lsSource:"inboxInThread",nullstate:w,nullstateCtas:x,threadKey:l.threadKey,threadName:l.threadName,threadType:l.threadType})]}):m.jsxs(m.Fragment,{children:[Q,v,P,B,m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),R,H,S,O,D,m.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),M,m.jsx(c("MWMessageList"),{entryPoint:g,ref:h,renderFooter:I,renderHeader:K,thread:l}),y&&z&&b("cr:1600")!=null?m.jsx(b("cr:1600"),{thread:l}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:6982","promiseDone","qex","react","useGroupsCometChatsEngagementImpressionLogger","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));a=k;e=a.memo;var m=a.useEffect;f=e(function(a){var e=a.entryPoint,f=a.messageListRef;a=a.thread;var g=(h||(h=c("useReStore")))(),k=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),n=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_view_impression"}),o=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:e?{entry_point:e}:void 0,community_id:(i||(i=d("I64"))).to_string(a.parentThreadKey),event:"chat_preview_open",surface:"chat_preview",thread_id:i.to_string(a.threadKey)});m(function(){k&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(g,(j||(j=d("LSIntEnum"))).ofNumber(118)))},[g,k]);var p=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),q=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType)&&c("qex")._("71")===!0;return l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",ref:q?o:n,children:l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:b("cr:6982")==null||!p?l.jsx(c("MWOpenThreadDetail.react"),{entryPoint:e,messageListRef:f,thread:a}):l.jsx(b("cr:6982"),{entryPoint:e,messageListRef:f,thread:a})})})})});g["default"]=f}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),m={commandsPill:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",paddingStart:"x1sln4lm",paddingLeft:null,paddingRight:null,paddingEnd:"x1iji9kk",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",$$css:!0},commandsPillContainer:{display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("custom_thread_commands").index("rank")).getKeyRange(b).filter(function(a){return!a.isOpenPersistentMenu})},[e,b],f.id+":46");a=c("useMWXLazyDialog")(l);var j=a[0];return g.length===0?null:k.jsx("div",{className:"x78zum5 xl56j7k xyamay9 x1l90r2v",children:k.jsx(c("MWXPressable.react"),{onPress:function(){return j({commands:g})},overlayRadius:"inherit",xstyle:m.commandsPill,children:k.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:h._("__JHASH__ey53XOJ4uK9__JHASH__",[h._plural(g.length,"number")])})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerAdmodOnboardingActions.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWAdmodOnboardingSuggestedActions.react","MWAdmodOnboardingSuggestedActionsContext.react","MWContextBannerAdmodOnboardingActionsQuery.graphql","cr:5777","emptyFunction","react","useMWIsAnyToDoTaskRemaining.react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useRef,o=e.useState;function p(a){a=a.thread;var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWContextBannerAdmodOnboardingActionsQuery.graphql"),{threadKey:(j||(j=d("I64"))).to_string(a.threadKey)}),f=d("MWAdmodOnboardingSuggestedActionsContext.react").useMWAdmodOnboardingSuggestedActionsContext();f=f.setContextBannerLoadingState;var g=n(!1);g.current===!1&&(f(d("MWAdmodOnboardingSuggestedActionsContext.react").ContextBannerLoadingStates.INITIALIZED),g.current=!0);f=c("useMWIsAnyToDoTaskRemaining.react")(e==null?void 0:e.c4g_thread);g=o(f);f=g[0];var i=g[1];if((e==null?void 0:e.c4g_thread)!=null&&f)return l.jsx(c("MWAdmodOnboardingSuggestedActions.react"),{entryPoint:"fb_groups:admin_onboarding_context_banner",impressionEvent:"admin_onboarding_context_banner_rendered",onClose:function(){i(!1)},onboardingTasksRef:e,source:"admod_onboarding_context_banner",surface:"admod_onboarding_context_banner",threadKey:a.threadKey});else if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(j||(j=d("I64"))).gt(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null)return l.jsx(b("cr:5777"),{thread:a});return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("MWAdmodOnboardingSuggestedActionsContext.react").useMWAdmodOnboardingSuggestedActionsContext(),e=b.setContextBannerLoadingState,f=b.setIsContextBannerVisible;b=n(!1);b.current===!1&&(e(d("MWAdmodOnboardingSuggestedActionsContext.react").ContextBannerLoadingStates.INITIALIZING),b.current=!0);e=c("useVisibilityObserver")({onHidden:m(function(a){a=a.hiddenReason;a==="NOT_IN_VIEWPORT"&&f(!1)},[f]),onVisible:m(function(){f(!0)},[f])});return l.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx("div",{ref:e,children:l.jsx(p,{thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon,d=a.label;a=a.threadKey;var e=c("useMWCMEditChatInfoDialogEntrypoint")(a);return i.jsx(c("MWXCircleButton.react"),{icon:b,label:d,onPress:function(){return e()},size:36})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l=h._("__JHASH__6ygymPD56Yw__JHASH__"),m=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){a=a.threadInviteLink;a=c("useCopyText")({value:a});a[0];a[1];var b=a[2];a=k(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b(),d("cometPushToast").cometPushSimpleToast(m)},[b]);return j.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:l,onPress:a,size:36}),j.jsx(c("MWVerticalRhythm"),{height:8}),j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconShare",["MWXSvgIcon","SVGIcon","cr:8294","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:8294")),c("gkx")("571"));g["default"]=a}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){a=a.onPress;return j.jsxs(j.Fragment,{children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:k,onPress:a,size:36})}),j.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharePublicChatQuickAction.react",["MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.thread;a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),{});var d=a[0];return i.jsx("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:i.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){d({channelThread:b})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMIsAnyCMThread","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWCMisStandAloneCommunity","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSection.react","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","emptyFunction","justknobx","promiseDone","react","useCommunityFolder","useCommunityMembers","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),p=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function a(a){var b=a.thread;a=n(null);var e=c("useCommunityFolder")(b),f=c("MWCMIsAnyCMThread")(b.threadType),g=c("MWCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("useCommunityMembers").useClearMemberList(),s=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),t=s[0],u=s[1];s=s[2];t=f&&(j||(j=d("I64"))).equal((t=t)!=null?t:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var v=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSection.react").storageKey),w=v[0];v=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var x=v[0];v=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((v=e==null?void 0:e.fbGroupId)!=null?v:(j||(j=d("I64"))).zero)});var y=v[0];v=m(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&i?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[i,f,e]);var z=v[0],A=v[1];v=v[2];var B=d("LSThreadBitOffset").has(60,b),C=d("LSThreadBitOffset").has(81,b),D=d("LSThreadBitOffset").has(27,b),E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=B&&C;return l.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!t?u?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:o,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return x({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:o})]}):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:z,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:z})]})}}):null,!f&&q&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&D?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:z,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:z})]})}):null,q&&G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:p,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):null,!f&&B&&!G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:A,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}):null,f&&C&&!t&&s&&!g?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:p,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):c("justknobx")._("1116")?null:E?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:v,onPress:function(){return y({folder:e},function(){f&&!w&&c("promiseDone")(r())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:v})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["CometErrorBoundary.react","cr:4958","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.threadKey;return b("cr:4958")&&i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(b("cr:4958"),{threadKey:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExistsStoredProcedure","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useState;function q(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function r(a){var e=a.memberRequests,f=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var g=a.isExpanded,j=a.isOnMemberRequestsPageRef,k=a.pushMemberRequestsPage,l=a.setIsExpanded,m=a.setShouldNavToMemberRequests;return n.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:n.jsx(c("CometContextualMessage.react"),{addOnPrimary:n.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){j.current!==!0&&(g===!0?k():(m(!0),l(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:q(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:n.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var e=a.threadKey;a=p(!1);var g=a[0],h=a[1],i=(l||(l=c("useReStore")))(),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("group_membership_approval_requests")).getKeyRange(e).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId),f.id+":174");return[a,b]})},[i,e],f.id+":169"),q=m.length,s=c("usePrevious")(q);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var t=a.isOnMemberRequestsPageRef;o(function(){t.current!==!0&&s!==null&&q>s&&h(!1)},[q,s,h,t]);o(function(){var a=m.map(function(a){return a[0].contactId});c("promiseDone")(i.runInTransaction(function(e){return(j||(j=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite"))},[i,m]);return!g&&m.length>0?n.jsx(r,{memberRequests:m,setWasClosed:h}):null}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset").has(66,a);return c&&b?n.jsx(s,{threadKey:a.threadKey}):null}t.displayName=t.name+" [from "+f.id+"]";function a(a){a=a.thread;return n.jsx(c("CometErrorBoundary.react"),{children:n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx(t,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){a=a.thread;var b=k(),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);j(function(){e==null&&h&&f(function(){return d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{})});return function(){e==null?void 0:e.dispose()}},[e,g,h]);if(e!=null)return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e,props:{}})})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatImagePlaceholder.react",["CometObjectFitContainer.react","MDSGlimmer.react","MWPStableImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.height;a=a.width;if(a==null)return null;if(b==null)return null;var e=a/b;return j.jsx(d("MWPStableImage.react").MWPStableImageContainer,{aspectRatio:e,className:(h||(h=c("stylex")))(!1),height:b,maxHeight:200,maxWidth:480,width:a,children:j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:j.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWAttachmentWithPreview",["I64","ReQL","ReQLSuspense","err","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(a,b)},[g,b,a,e],f.id+":39");e=k(function(){return j.sort(function(a,b){if(a.filesize==null)return b.filesize==null?0:-1;return b.filesize==null?a.filesize==null?0:1:(i||(i=d("I64"))).compare(a.filesize,b.filesize)}).reverse()},[j]);switch(e.length){case 0:return[];case 1:case 2:return e;default:c("recoverableViolation")("Message has more than 2 attachments","messenger_e2ee_web",{error:c("err")("[messenger_e2ee_web] Message has more than 2 attachments")});return[e[0],e[1]]}}g["default"]=a}),98);
__d("LSInsertAnonymousTaskContext",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(311).add({taskId:a[0],projectName:a[1]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSAnonymizedMsgrE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("pk",a[0]),d[0].set("content_ref",a[1]),d[1]=d[0].get("pk"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),["LSMailboxAnonymizedMsgrE2EEXmaReceiverFetchSyncAction",".",c.i64.to_string(d[1])].join(""),c.i64.cast([0,765]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_MsgrXmaReceiverFetch")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAnonymizedMsgrE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrE2EEXmaReceiverFetchDispatch"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.pk;d[1]=b.contentRef;return c("LSAnonymizedMsgrE2EEXmaReceiverFetchDispatch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("constructAttachmentFromXmaDataclass",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._("__JHASH__rtAku5xCKsP__JHASH__"),l=function(a){switch(a){case"XMA_OPEN_NATIVE":return"xma_open_native";case"XMA_WEB_URL":return"xma_web_url";default:return"fallback"}},m=function(a){var b;if(a==null)return{};var c=a==null?void 0:a.image;return{headerImageUrl:(b=c==null?void 0:c.url)!=null?b:void 0,headerImageUrlExpirationTimestampMs:(c==null?void 0:c.expiration_timestamp_ms)!=null?(i||(i=d("I64"))).of_string(c==null?void 0:c.expiration_timestamp_ms):void 0,headerImageUrlFallback:(b=c==null?void 0:c.url_fallback)!=null?b:void 0,headerImageUrlMimeType:(b=c==null?void 0:c.mime_type)!=null?b:void 0,headerSubtitleText:(c=a==null?void 0:a.subtitle)!=null?c:void 0,headerTitle:(b=a==null?void 0:a.title)!=null?b:void 0}},n=function(a){if(a==null)return;switch(a){case"COLLAGE":case"INSTAGRAM_ICON":case"LIVE":case"MESSENGER_ICON":case"VIDEO":case"YOUTUBE_SHORTS":case"YOUTUBE_VIDEO":return(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType")[a]);default:return(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}},o=function(a){var b;if(a==null)return{};var c=a==null?void 0:a.preview;return{maxSubtitleNumOfLines:(a==null?void 0:a.max_subtitle_num_lines)!=null?(i||(i=d("I64"))).of_int32(a==null?void 0:a.max_subtitle_num_lines):void 0,maxTitleNumOfLines:(a==null?void 0:a.max_title_num_lines)!=null?(i||(i=d("I64"))).of_int32(a==null?void 0:a.max_title_num_lines):void 0,previewHeight:(c==null?void 0:c.height)!=null?(i||(i=d("I64"))).of_int32(c==null?void 0:c.height):void 0,previewImageDecorationType:n(c==null?void 0:c.image_decoration_type),previewUrl:(b=c==null?void 0:(b=c.media)==null?void 0:b.url)!=null?b:void 0,previewUrlExpirationTimestampMs:(c==null?void 0:(b=c.media)==null?void 0:b.expiration_timestamp_ms)!=null?(i||(i=d("I64"))).of_string(c==null?void 0:(b=c.media)==null?void 0:b.expiration_timestamp_ms):void 0,previewUrlFallback:(b=c==null?void 0:(b=c.media)==null?void 0:b.url_fallback)!=null?b:void 0,previewUrlMimeType:(b=c==null?void 0:(b=c.media)==null?void 0:b.mime_type)!=null?b:void 0,previewWidth:(c==null?void 0:c.width)!=null?(i||(i=d("I64"))).of_int32(c==null?void 0:c.width):void 0,subtitleText:(b=a==null?void 0:a.subtitle)!=null?b:void 0,titleText:(c=a==null?void 0:a.title)!=null?c:void 0}},p=function(a,b,c){var e=["default_cta","cta_1","cta_2","cta_3"].reduce(function(e,f,g){if(a[f]!=null){var h;g=babelHelpers["extends"]({},c,{actionUrl:(h=(h=(h=a[f])==null?void 0:h.action_url)!=null?h:(h=a[f])==null?void 0:h.native_url)!=null?h:void 0,attachmentIndex:(i||(i=d("I64"))).zero,ctaId:i.add(b,i.of_int32(g+1)),nativeUrl:(g=(g=(h=a[f])==null?void 0:h.native_url)!=null?g:(h=a[f])==null?void 0:h.action_url)!=null?g:void 0,title:(g=(h=a[f])==null?void 0:h.title)!=null?g:k.toString(),type_:l((h=a[f])==null?void 0:h.cta_type)});e[f]=g}return e},{cta_1:void 0,cta_2:void 0,cta_3:void 0,default_cta:void 0});return e},q=function(a){return a==null?{}:{defaultCtaId:a==null?void 0:a.ctaId,defaultCtaTitle:a==null?void 0:a.title,defaultCtaType:a==null?void 0:a.type_}},r=function(a,b){var c;return a==null?{}:(c={},c["attachmentCta"+b+"Id"]=a==null?void 0:a.ctaId,c["cta"+b+"Title"]=a==null?void 0:a.title,c["cta"+b+"Type"]=a==null?void 0:a.type_,c)};a=function(a,b,c){if((a==null?void 0:a.content)==null)return null;a=a.content;if(a.__typename==="XMSGXmaSingleContent"){var d=p(a,b,c);b=babelHelpers["extends"]({},q(d==null?void 0:d.default_cta),r(d==null?void 0:d.cta_1,1),r(d==null?void 0:d.cta_2,2),r(d==null?void 0:d.cta_3,3),m(a.header),o(a.body));c=Object.keys(d).filter(function(a){return d[a]!=null}).map(function(a){return d[a]});return[b,c]}return null};b=a;g["default"]=b}),98);
__d("useReceiverFetchXMA",["FBLogger","I64","LSAnonymizedMsgrE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","MAWReceiverFetchQPLLogger","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","constructAttachmentFromXmaDataclass","gkx","promiseDone","react","useJSON","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(j||d("react")).useEffect,m=c("gkx")("2992"),n=new Map();function o(a){try{a=JSON.parse(a);return JSON.stringify(a.fetch_params)}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("Error retrieving fetch_params from the contentRef");return""}}function p(a,b){if((a==null?void 0:a.contentRef)!=null){var e={contentRef:o(a==null?void 0:a.contentRef),pk:a.pk};d("MAWReceiverFetchQPLLogger").logFetchStart((k||(k=d("I64"))).to_string(a.pk));c("promiseDone")(b.runInTransaction(function(a){return c("LSAnonymizedMsgrE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),e)},"readwrite"))}}function q(a,e,f,g){c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var h=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(f.threadKey,f.messageId)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("attachment_ctas")))])),j=h[0];h=h[1];h=h!=null?(k||(k=d("I64"))).add(h.ctaId,(k||(k=d("I64"))).one):(k||(k=d("I64"))).one;if((j==null?void 0:j.attachmentFbid)!=null){h=(h=c("constructAttachmentFromXmaDataclass")(g,h,{attachmentFbid:j==null?void 0:j.attachmentFbid,attachmentIndex:(k||(k=d("I64"))).zero,messageId:f.messageId,threadKey:f.threadKey}))!=null?h:[];var l=h[0];h=h[1];h=(h=h==null?void 0:h.map(function(b){if(b!=null)return a.table("attachment_ctas").add(b)}).filter(Boolean))!=null?h:[];yield (i||(i=b("Promise"))).all(h);yield a.table("attachments").put(babelHelpers["extends"]({},j,l,{xmaContentType:void 0}));d("MAWReceiverFetchQPLLogger").logFetchSuccess(e);n["delete"](e)}});return function(b){return a.apply(this,arguments)}}(),"readwrite"))}function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("client_xmas")).getKeyRange((k||(k=d("I64"))).of_string(a))},[a,g],f.id+":129");l(function(){if(!m)return;if((i==null?void 0:i.xmaDataclass)==null&&!n.has(a)){n.set(a,"PENDING");try{p(i,g)}catch(b){d("MAWReceiverFetchQPLLogger").logFetchFailure(a,b.message),c("FBLogger")("maw_receiver_fetch").mustfix("Error parsing content ref")}}},[g,a,i]);var j=c("useJSON")((e=i==null?void 0:i.xmaDataclass)!=null?e:"{}");l(function(){(j==null?void 0:j.content)!=null&&n.get(a)==="PENDING"&&m&&(d("MAWReceiverFetchQPLLogger").logLoadCompleted(a),q(g,a,b,j))},[j,a,g,b])}g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentBlob.react","MAWChatFile.react","MAWGetAttachmentThumbnailBlob","MWAudioPlayer.react","MWPMessageIsReply","MWPMessageListAttachmentContainer.react","MWV2ChatImage.react","MWV2ChatImagePlaceholder.react","MWV2ChatVideo.react","MWV2Sticker.react","MWXMAAttachment.react","MWXSolidMessageBubble.react","MessagingAttachmentType","react","useMWAttachmentWithPreview","useReceiverFetchXMA"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){var b=a.dbAttachment,e=a.connectBottom,f=a.connectTop,g=a.message;a=a.outgoing;var h=b.attachmentFbid,l=b.attachmentType,m=b.authorityLevel;switch(!0){case h===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(m,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return k.jsx(c("MWV2ChatImagePlaceholder.react"),{height:b.previewHeight!=null?(i||(i=d("I64"))).to_float(b.previewHeight):b.previewHeightLarge!=null?(i||(i=d("I64"))).to_float(b.previewHeightLarge):void 0,width:b.previewWidth!=null?(i||(i=d("I64"))).to_float(b.previewWidth):b.previewWidthLarge!=null?(i||(i=d("I64"))).to_float(b.previewWidthLarge):void 0});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWV2ChatImagePlaceholder.react"),{height:b.previewHeight!=null?(i||(i=d("I64"))).to_float(b.previewHeight):b.previewHeightLarge!=null?(i||(i=d("I64"))).to_float(b.previewHeightLarge):void 0,width:b.previewWidth!=null?(i||(i=d("I64"))).to_float(b.previewWidth):b.previewWidthLarge!=null?(i||(i=d("I64"))).to_float(b.previewWidthLarge):void 0}),children:k.jsx(c("MWV2ChatImage.react"),{attachment:b,connectTop:f,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:c("MAWGetAttachmentThumbnailBlob"),message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWV2ChatImagePlaceholder.react"),{height:b.previewHeight!=null?(i||(i=d("I64"))).to_float(b.previewHeight):b.previewHeightLarge!=null?(i||(i=d("I64"))).to_float(b.previewHeightLarge):void 0,width:b.previewWidth!=null?(i||(i=d("I64"))).to_float(b.previewWidth):b.previewWidthLarge!=null?(i||(i=d("I64"))).to_float(b.previewWidthLarge):void 0}),children:k.jsx(c("MWV2ChatVideo.react"),{attachment:b,connectTop:f,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return k.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,isReply:c("MWPMessageIsReply")(g),outgoing:a});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWV2ChatImagePlaceholder.react"),{height:b.previewHeight!=null?(i||(i=d("I64"))).to_float(b.previewHeight):b.previewHeightLarge!=null?(i||(i=d("I64"))).to_float(b.previewHeightLarge):void 0,width:b.previewWidth!=null?(i||(i=d("I64"))).to_float(b.previewWidth):b.previewWidthLarge!=null?(i||(i=d("I64"))).to_float(b.previewWidthLarge):void 0}),children:k.jsx(c("MWV2ChatImage.react"),{attachment:b,connectTop:f,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return k.jsx(c("MWV2Sticker.react"),{attachment:b,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return k.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:b,connectBottom:e,connectTop:f,getFaviconUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon")},getHeaderUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPlayableUrl:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},getPreviewUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},outgoing:a});case(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return k.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:e,connectTop:f,outgoing:a,style:{backgroundColor:"var(--chat-incoming-message-bubble-background-color)",padding:0},children:k.jsx(c("MAWChatFile.react"),{file:b})});default:return"Unsupported attachment type"}}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message;a=a.outgoing;var g=f.authorityLevel,h=f.messageId,m=f.threadKey;m=c("useMWAttachmentWithPreview")(m,h,g);h=m[0];c("useReceiverFetchXMA")((g=h==null?void 0:h.attachmentFbid)!=null?g:"",f);return h==null?null:k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:(i||(i=d("I64"))).equal(h.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?!1:void 0,children:k.jsx(l,{connectBottom:b,connectTop:e,dbAttachment:h,message:f,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEncryptionPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("MWV2TombstonedMessage.react"),{children:h._("__JHASH__C8O2a78lb6C__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWFutureproofPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("MWV2TombstonedMessage.react"),{children:h._("__JHASH__4rmC_sX93Dk__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("MWV2TombstonedMessage.react"),{children:h._("__JHASH__M9fzIhDqITQ__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("MWV2TombstonedMessage.react"),{children:h._("__JHASH__pGZ-I0iz-G0__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["CometPlaceholder.react","I64","LSIntEnum","MAWEncryptionPlaceholder.react","MAWFutureproofPlaceholder.react","MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MWPMessageListColumn.react","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a.threadKey,a.messageId],f.id+":30")}function n(a){a=a.message;a=a;a=m(a);if(a==null)return null;a=a.defaultCtaType;if(a==="xma_montage_share")return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MAWUnavailableStoryPlaceholder.react"),{})});c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_e2ee_web");return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MAWUnavailablePlaceholder.react"),{})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.message;var b=a.displayedContentTypes,e=null;(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(65536))?e=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MAWEncryptionPlaceholder.react"),{})}):(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(131072))?e=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MAWFutureproofPlaceholder.react"),{})}):(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(262144))?e=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MAWUnavailablePlaceholder.react"),{})}):(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(256))&&(e=l.jsx(n,{message:a}));return l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e,f){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{message:a})})}a.displayName=a.name+" [from "+f.id+"]";g.render=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWMessageRow.react","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.domElementRef,c=a.lastEbMessageTime,e=a.modal,f=a.renderAttachment,g=a.row,h=a.thread;a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var k=d("LSMessagingThreadTypeUtil").isSecure(h.threadType),l=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();l=l.visibleMessage;var m=g.message;k=k?(i||(i=d("I64"))).equal(h.threadKey,m.threadKey):!1;var n=!1;if(l!=null){var o=l.messageId;switch(l.source){case"Reply":case"Pinned":n=o===m.messageId;break;default:n=!1}}l={domElementRef:b,hasMessageEmphasisRing:n,isModal:e===m.messageId,isSecureMessage:k,lastEbMessageTime:c,message:m,nextMessage:g.nextMessage,prevMessage:g.prevMessage,renderAttachment:f,stopHoveringRef:a,threadType:d("Int64Hooks").useMemoInt64(function(){return h.threadType},[h.threadType])};return j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},l))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPagelet.react","CometScreenReaderText.react","I64","MAWMessageListRow.react","MAWSecureAttachmentRenderer.react","MWBaseTheme","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWMessageRow.react","MWPBaseMessageList.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","cr:6046","cr:844","gkx","qex","react","useMAWOfflineQueueLoadingIndicator","useMWPAriaLabelForMessageListGrid","useReStore","useThreadLastMessageTimeMs","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.forwardRef,n=l.useId,o=l.useState;function a(a){var b=a.theme;b=b===void 0?d("MWBaseTheme").empty:b;var e=a.threadKey;a=a.threadType;var f=d("MWPTypingIndicators.react").useTypingParticipants(e),g=d("MWPTypingIndicators.react").useAccessibilityText(f);if(f.length>0)return k.jsx(c("BaseTheme.react"),{config:b,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:g})}),k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:e,threadType:a})]})})});else return null}a.displayName=a.name+" [from "+f.id+"]";var p=d("withCometPlaceholder").withCometPlaceholder(a);function e(a,e){var g=a.cutoverOpenThread,j=a.entryPoint,l=a.onScrollToBottom,m=a.thread,q=(h||(h=c("useReStore")))(),r=c("useThreadLastMessageTimeMs")(m.threadKey);a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.table("threads"),["lastActivityTimestampMs"]).getKeyRange(m.threadKey).map(function(a){a=a.lastActivityTimestampMs;return r!=null?(i||(i=d("I64"))).lt(r,a):!0})},[q,r,m.threadKey],f.id+":132"))!=null?a:!1;var s=c("useMWPAriaLabelForMessageListGrid")(m),t=d("MWMessageRow.react").useTheme(),u=o(""),v=u[0];u=u[1];var w=n(),x=c("useMAWOfflineQueueLoadingIndicator")(!1,m),y=!x&&a&&!((x=c("qex")._("97"))!=null?x:!1),z=b("cr:844")==null?void 0:b("cr:844")(m.threadKey);a=k.jsx(c("MWPBaseMessageList.react"),{entryPoint:j,onScrollToBottom:l,pageSize:c("gkx")("2233")?3:15,ref:e,renderFooter:function(){return k.jsxs(k.Fragment,{children:[k.jsx(p,{theme:t,threadKey:m.threadKey,threadType:m.threadType}),y&&b("cr:6046")?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:k.jsx(b("cr:6046"),{})}):null]})},renderHeader:function(){return k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),k.jsx(c("MWContextBanner.react"),{threadKey:m.threadKey,threadType:m.threadType}),k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},renderLoadingAnimation:function(){return k.jsx(c("MWInboxThreadMessagesSpinner.react"),{})},renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage;a=a.prevMessage;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:b,lastEbMessageTime:z,modal:v,renderAttachment:d("MAWSecureAttachmentRenderer.react").render,row:{message:e,nextMessage:f,prevMessage:a},thread:m})},secondaryThread:g,thread:m});return k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d","data-testid":void 0,id:w,children:k.jsx(d("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:m,children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:s,modal:v,setModal:u,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:w,children:a})})})})})}e.displayName=e.name+" [from "+f.id+"]";l=m(e);g["default"]=l}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometErrorBoundary.react","CometPagelet.react","CometScreenReaderText.react","I64","Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWMessageListRow.react","MAWStateContext.react","MWBaseTheme","MWMessageRow.react","MWPBaseMessageList_DEPRECATED","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","cr:6046","cr:844","qex","react","useMWPAriaLabelForMessageListGrid","useReStore","useThreadLastMessageTimeMs","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i,m=l.useEffect,n=l.useId,o=l.useState;function p(a,b){return new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).map(function(a){var b=a[0];a=a[1];return[(j||(j=d("I64"))).to_string(a.id),[b,a]]})},[b,a.threadKey],f.id+":83"))}function q(a,b){m(function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.type)==="Bottom"&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},[b,a])}function a(a){var b=a.scrollerRefs,e=a.theme;e=e===void 0?d("MWBaseTheme").empty:e;var f=a.threadKey;a=a.threadType;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);q(b,g);if(g.length>0)return k.jsx(c("BaseTheme.react"),{config:e,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:h})}),k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a})]})})});else return null}a.displayName=a.name+" [from "+f.id+"]";var r=d("withCometPlaceholder").withCometPlaceholder(a);function e(a){var e=a.messageElementRefs,g=a.messages,i=a.renderAttachment,l=a.scrollerRefs,m=a.thread,q=(h||(h=c("useReStore")))();a=p(m,q);var s=c("useMWPAriaLabelForMessageListGrid")(m),t=d("MWMessageRow.react").useTheme(),u=o(""),v=u[0],w=u[1],x=n(),y=d("Int64Hooks").useMemoInt64(function(){return m.threadType},[m.threadType]),z=c("useThreadLastMessageTimeMs")(m.threadKey);u=(u=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.table("threads"),["lastActivityTimestampMs"]).getKeyRange(m.threadKey).map(function(a){a=a.lastActivityTimestampMs;return z!=null?(j||(j=d("I64"))).lt(z,a):!0})},[q,z,m.threadKey],f.id+":180"))!=null?u:!1;var A=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector()),B=b("cr:844")==null?void 0:b("cr:844")(m.threadKey);u=!A&&u&&!((A=c("qex")._("97"))!=null?A:!1);return k.jsxs(k.Fragment,{children:[k.jsx(c("MWPBaseMessageList_DEPRECATED"),{messages:g,participants:a,renderRow:function(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:e.set(b.messageId),lastEbMessageTime:B,modal:v,renderAttachment:i,row:{message:b,nextMessage:d,prevMessage:a},thread:m})},thread:m,children:function(a){a=k.jsxs(k.Fragment,{children:[a,k.jsx(r,{scrollerRefs:l,theme:t,threadKey:m.threadKey,threadType:y})]});return k.jsx("div",{"data-testid":void 0,id:x,children:k.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:m,children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:s,modal:v,setModal:w,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:x,children:a})})})})})}}),u&&b("cr:6046")?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:k.jsx(b("cr:6046"),{})}):null]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("useSecureThreadDetailGetDevices",["I64","MAWJids","MAWJobDefinitions","MAWTimedJob","ReQL","ReQLSuspense","WAJobOrchestratorTypes","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef;function a(a,b){var e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a.threadKey).filter(function(b){return!(i||(i=d("I64"))).equal(b.contactId,a.threadKey)}).map(function(a){return d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(a.contactId))})},[b,a.threadKey],f.id+":30"),g=k(new Set());j(function(){var a=g.current.size!==e.length||!e.every(function(a){return g.current.has(a)});if(!a&&e.length>2)return;a=new Set(e);g.current=a;c("promiseDone")(d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"details-participants-changed",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW},users:a})))},[e])}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","I64","LSAuthorityLevel","LSIntEnum","MAWArmadilloLinkContext.react","MAWMessageList.react","cr:5983","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useState;function a(a){var e=a.cutoverOpenThread,f=a.entryPoint,g=a.messageListRef;a=a.thread;var k=(h||(h=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,k);k=m(!0);var n=k[0],o=k[1];k=e!=null&&(i||(i=d("I64"))).equal(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:5983")!=null&&k&&l.jsx(b("cr:5983"),{isShown:!n})}),l.jsxs(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsx(c("MAWMessageList.react"),{cutoverOpenThread:e,entryPoint:f,onScrollToBottom:function(a){return o(a)},ref:g,thread:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.openMessageThreadKey;d[1]=b.armadilloThreadKey;d[2]=b.shouldCopyMessages;d[3]=b.traceId;return c("LSInitiateThreadMigration").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.react",["CometHeroHoldTrigger.react","CometPagelet.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWArmadilloLinkContext.react","MAWFetchMoreMessages","MAWMessageList_DEPRECATED.react","MAWSecureAttachmentRenderer.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2MessageScroller.react","ReQL","ReQLSuspense","cr:5983","emptyFunction","logMessengerWebFalcoEvent","react","useMAWMarkThreadAsRead","useMWChatLoadMoreItemsIncrementally","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useImperativeHandle,o=e.useMemo,p=e.useState,q=3;function r(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=k.compare((c=a.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero,(c=b.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function s(a,b){var e=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){var f=d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return f.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isSecure(b.threadType))return f;return d("ReQL").empty()},[e,a,b.authorityLevel,b.threadKey,b.threadType],f.id+":92")}function t(a,b){var e=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){if(b==null)return d("ReQL").empty();var f=d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isSecure(b.threadType))return f;return d("ReQL").empty()},[e,b,a],f.id+":126")}function u(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return(k||(k=d("I64"))).compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=k.compare(c,e);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function v(a,b,e,f,g){var h=s(a,e),i=t(b,f);d("Int64Hooks").useEffectInt64(function(){if(f!=null&&i.length===0){var a=f.threadKey,b=f.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(k||(k=d("I64"))).to_string(e.threadKey),reason:"no_messages_fetched_for_open"})}},[g,i.length,f,e.threadKey]);return o(function(){if(a!=null&&!a.hasMoreBefore)return i.sort(u).concat(h.sort(r));else return h.sort(r)},[a,h,i])}function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint,i=a.messageListRef;a=a.thread;var j=c("useMWV2ConversationScrollerRefs")(),k=(h||(h=c("useReStore")))(),o=m(function(){var a;return((a=j.scrollPositionRef.current)==null?void 0:a.value)===void 0&&((a=j.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[j]),r=c("MAWFetchMoreMessages").useFetchCutoverMessages(a.threadKey,f==null?void 0:f.threadKey,a.threadType),s=c("useMWCurrentVisibleMessage")(a,j.scrollerRef),t=s.messageRange,u=c("useMWCurrentVisibleMessage")(f,j.scrollerRef);u=u.messageRange;e=(e=t==null?void 0:t.hasMoreAfter)!=null?e:!1;var w=p(!1),x=w[0],y=w[1];r=c("useMWChatLoadMoreItemsIncrementally")(e,void 0,void 0,v(t,u,a,f,g),r,(w=t==null?void 0:t.hasMoreBefore)!=null?w:!1);w=r[0];var z=r[1];r=r[2];c("useSecureThreadDetailGetDevices")(a,k);n(i,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:function(){var a=j.scrollerRef.current,b=j.scrollPositionRef.current;if(a!=null&&b!=null)switch(b.type){case"Bottom":a.scrollToBottom();break;case"Top":case"Between":a.scrollToPosition(b.value,!1);break;case"Island":break}}}},[j.scrollPositionRef,j.scrollerRef]);k=t==null||t.isLoadingBefore;i=f!=null&&(u==null||u.isLoadingBefore);t=w.length>=q;return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:5983")!=null&&f&&l.jsxs(l.Fragment,{children:[l.jsx(b("cr:5983"),{isShown:x}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWCutoverLoadingMessages",hold:i&&!t})]})}),l.jsxs(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsxs(c("MWV2MessageScroller.react"),{fetchMore:z,hasMoreAfter:e,hasMoreBefore:r,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){y(!o())},scrollerRefs:j,thread:a,children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages",hold:k&&!t}),r?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):l.jsx(c("MWContextBanner.react"),{threadKey:a.threadKey,threadType:a.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MAWMessageList",children:l.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:s.messageElementRefs.current,messages:w,renderAttachment:d("MAWSecureAttachmentRenderer.react").render,scrollerRefs:j,thread:a})}),e?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g.messageSortOrder=r;g.useMessagesUnsorted=s;g.useMessagesWithMaybeCutover=v;g.MAWSecureThreadDetail_DEPRECATED=e}),98);
__d("useMAWMaybeResetEphemeralSettings",["Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","Promise","WALoggerDeferred","promiseDone","react","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""]);k=function(){return a};return a}var l=(i||d("react")).useRef,m=0;function a(a){var b=c("useAsyncReStore")(),e=l(null);d("Int64Hooks").useEffectInt64(function(){(e.current==null||e.current!==a)&&(e.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(b,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b,a,"useMAWResetEphemeralSettings",function(b,c,d){return n(a,d)}))}))},[a,b])}function n(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,m,function(){void d("WALoggerDeferred").LOG(k(),e,b.ephemeralExpirationInSec)},function(){void d("WALoggerDeferred").LOG(j(),e,b.ephemeralExpirationInSec)},a))}):(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometErrorBoundary.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail_DEPRECATED.react","MAWThreadCutover","MWFailChatTabOpenQPLEvent","QPLUserFlow","WAHex","cr:1957","cr:3200","cr:4646","emptyFunction","logMessengerWebFalcoEvent","qpl","react","useAsyncReStore","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=(e=b("cr:3200"))!=null?e:c("emptyFunction"),q=(e=b("cr:4646"))!=null?e:c("emptyFunction");function r(a,b){var e=(i||(i=d("I64"))).to_int32(a);d("Int64Hooks").useEffectInt64(function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:e})},[b,e,a]);var f=l(function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:e})},[e]),g=l(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{isCutover:String(a)}},instanceKey:e})},[e]),h=l(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:e})},[e]),j=l(function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{isCutover:String(b)}},instanceKey:e})},[e]);return{addQplAnnotations:h,addQplPoint:f,qplEndFailure:j,qplEndSuccess:g}}function s(a,b){if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function a(a){var e=a.entryPoint,f=a.messageListRef,g=a.thread;a=r(g.threadKey,e);var h=a.addQplAnnotations,u=a.addQplPoint,v=a.qplEndFailure,w=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(g.threadKey);p(g.threadKey);var x=n(""),y=l(function(a){switch(a){case"loading":return;case"show":h({showOpenHistory:"show"});w(!0);return;case"hide":h({showOpenHistory:"hide"});w(!0);return;case"not_cutover_thread":w(!1);return;case"dual_thread_cutover":w(!1);return;case"error":v(x.current,!0);return;default:a;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},[h,v,w]),z=c("useAsyncReStore")(),A=l(function(a,b){return z.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WAHex").randomHex(8)})},"readwrite")})},[z]),B=d("MAWThreadCutover").useGetCutoverMapping(g.threadKey),C=d("MAWThreadCutover").useCutoverOpenThread(g.threadKey);q(g.threadKey);a=o(s(B,C));var D=a[0],E=a[1];d("Int64Hooks").useEffectInt64(function(){y(D);if(D==="show"||D==="hide")return;if(B==null)return;if(C!=null&&B.showOpenMessageHistory!==!1)return E("show")},[B,C,y,D]);m(function(){B!=null&&(u("thread_migration_initiating_start"),A(B.openThreadId,B.armadilloThreadId).then(function(){u("thread_migration_initiating_end"),w(!0)})["catch"](function(a){x.current="fail_to_init_thread_migration",E("error"),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("fail_to_init_thread_migration"),v(x.current,!0)}))},[u,B,C,A,v,w]);var F=C!=null;d("Int64Hooks").useEffectInt64(function(){if(x.current==="")return;if(D!=="hide"){var a;c("logMessengerWebFalcoEvent")({threadKey:g.threadKey,threadType:g.threadType},"no_open_messages_in_cutover_thread",e,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=B==null?void 0:B.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:F.toString(),reason:x.current,showOpenMsgHistoryState:D})}y(D)},[B,e,D,F,g.threadKey,g.threadType,y]);a=C!=null&&(i||(i=d("I64"))).equal(C.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));var G=(D==="show"||B!=null)&&(C==null||!a),H="";D==="loading"?H="openMsgHistory":G&&(C==null?H="cutoverOpenThread":a||(H="authorityLevel"));return k.jsx(t,{message:"Error while loading secure thread messages",threadKey:g.threadKey,children:k.jsxs(k.Fragment,{children:[k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWCutoverShowHistoryDetermination-"+H,hold:D==="loading"||G}),b("cr:1957")!=null?k.jsx(b("cr:1957"),{cutoverOpenThread:D==="show"?C:void 0,entryPoint:e,messageListRef:f,thread:g}):k.jsx(d("MAWSecureThreadDetail_DEPRECATED.react").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:D==="show"?C:void 0,entryPoint:e,messageListRef:f,thread:g})]})})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=a.children,d=a.message,e=a.threadKey;return k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){c("MWFailChatTabOpenQPLEvent")(e,a.toString()),c("FBLogger")("messenger_web_product").catching(a).mustfix(d+": %s",a.toString())},children:b})}t.displayName=t.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);
__d("FriendAddFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M105 920.25c0 1.242-.895 2.25-2 2.25s-2-1.008-2-2.25.572-2.25 2-2.25 2 1.008 2 2.25",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M105.5 920.25c0 1.506-1.105 2.75-2.5 2.75s-2.5-1.244-2.5-2.75c0-1.638.878-2.75 2.5-2.75 1.622 0 2.5 1.112 2.5 2.75zm-1 0c0-1.13-.489-1.75-1.5-1.75-1.011 0-1.5.62-1.5 1.75 0 .979.686 1.75 1.5 1.75s1.5-.771 1.5-1.75z",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{d:"M106.564 929h-7.129a.938.938 0 0 1-.935-.936v-.515a3.058 3.058 0 0 1 3.049-3.049h2.902a3.058 3.058 0 0 1 3.049 3.049v.515a.938.938 0 0 1-.936.936",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M106.564 929.5h-7.129c-.79 0-1.435-.645-1.435-1.436v-.515a3.558 3.558 0 0 1 3.549-3.549h2.902a3.558 3.558 0 0 1 3.549 3.549v.515c0 .791-.645 1.436-1.436 1.436zm0-1a.438.438 0 0 0 .436-.436v-.515c0-1.4-1.148-2.549-2.549-2.549h-2.902a2.558 2.558 0 0 0-2.55 2.549l.001.515c0 .239.197.436.435.436h7.13z",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M107 922h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0 0 1z",transform:"translate(351.5 156)"}),i.jsx("path",{fillRule:"nonzero",d:"M108 920v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-1 0z",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ShareIosFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M100.5 535h.475c.29 0 .525.235.525.524v4.952c0 .29-.235.524-.525.524h-4.95a.524.524 0 0 1-.525-.524v-4.952c0-.29.235-.524.525-.524h.475a.5.5 0 0 0 0-1h-.475c-.843 0-1.525.682-1.525 1.524v4.952c0 .842.682 1.524 1.525 1.524h4.95c.843 0 1.525-.682 1.525-1.524v-4.952c0-.842-.682-1.524-1.525-1.524h-.475a.5.5 0 0 0 0 1zm-.354-2.146a.5.5 0 1 0 .708-.708l-2-2a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708l1.646-1.647 1.646 1.647z",transform:"translate(357.5 543.5)"}),i.jsx("path",{d:"M99 537.5v-6.875a.5.5 0 0 0-1 0v6.875a.5.5 0 0 0 1 0z",transform:"translate(357.5 543.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);