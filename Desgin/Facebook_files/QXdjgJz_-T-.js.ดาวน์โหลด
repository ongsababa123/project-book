;/*FB_PKG_DELIM*/

__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6995171530599713"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6865480280197768"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7286910081353715"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6286286258107098"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5832261760118587"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4589106431193063"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24429151556729782"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24917306604535550"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},n={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},o=[{kind:"Variable",name:"id",variableName:"id"}],p={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[c,d,e,f,g,h,i,j,k,l,m,n],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},p],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},c,d,e,f,g,h,i,j,k,l,m,n],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},p,c],storageKey:null}]},params:{id:b("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5262522413766771"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",kind:"LinkedField",name:"instant_booking_confirm_appointment",plural:!1,selections:[{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequest",kind:"LinkedField",name:"request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ServicesApproveAppointmentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ServicesApproveAppointmentMutation",selections:c},params:{id:b("ServicesApproveAppointmentMutation_facebookRelayOperation"),metadata:{},name:"ServicesApproveAppointmentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(i||(i=b("Promise")))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:j,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("InfoCircleFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 2a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8zm1 11.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75zM10 8a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessagesFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M16 7.17a.755.755 0 0 0-1 .715v1.166A3.949 3.949 0 0 1 11.051 13H8.917a.753.753 0 0 0-.45.15l-1.345 1.008a.753.753 0 0 0-.032 1.181A2.933 2.933 0 0 0 8.949 16h2.717l2.534 1.9a.5.5 0 0 0 .3.1.508.508 0 0 0 .224-.053A.5.5 0 0 0 15 17.5V16h.051A2.949 2.949 0 0 0 18 13.051V10a3 3 0 0 0-2-2.83z"}),i.jsx("path",{d:"M11.051 12A2.952 2.952 0 0 0 14 9.051v-3.1A2.952 2.952 0 0 0 11.051 3h-6.1A2.952 2.952 0 0 0 2 5.949v3.1A2.952 2.952 0 0 0 4.949 12H5v1.5a.5.5 0 0 0 .276.447A.508.508 0 0 0 5.5 14a.5.5 0 0 0 .3-.1L8.334 12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("6934")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("MDSBaseTransparentChatBubble.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingStart:"x12xxe5f",paddingLeft:null,paddingRight:null,paddingEnd:"x1szedp3",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"x5aebzn",":after_borderEndColor":"x1cjzxgl",":after_borderBottomColor":"xbc9cuz",":after_borderStartColor":"x6y31br",":after_borderTopStartRadius":"x9np4xm",":after_borderTopEndRadius":"x16ve69f",":after_borderBottomEndRadius":"x1dsip3t",":after_borderBottomStartRadius":"xrk8w4x",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1el3umu",":after_borderEndWidth":"xh08uf2",":after_borderBottomWidth":"x1thcov",":after_borderStartWidth":"x1ysts7r",":after_bottom":"x1j2e919",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x1viwo6f",":after_left":null,":after_right":null,":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1mdt28",":after_top":"xvrv1z6",$$css:!0}};function a(a){var b,d=a.children,e=a.testid;e=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))([k.bubble,e]),"data-testid":void 0,role:"none",children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSTransparentIncomingChatBubble.react",["MDSBaseTransparentChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming_connect_bot:{":after_borderBottomStartRadius":"x1o09f5w",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"x1wy4c7t",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop;a=a.xstyle;return i.jsx(c("MDSBaseTransparentChatBubble.react"),{children:b,testid:void 0,xstyle:[e&&j.incoming_connect_top,d&&j.incoming_connect_bot,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSTransparentOutgoingChatBubble.react",["MDSBaseTransparentChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={outgoing_connect_bot:{":after_borderBottomEndRadius":"x1hj4e8f",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1ad296a",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop;a=a.xstyle;return i.jsx(c("MDSBaseTransparentChatBubble.react"),{children:b,testid:void 0,xstyle:[e&&j.outgoing_connect_top,d&&j.outgoing_connect_bot,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSTransparentChatBubblePrecedesXMA.react",["MDSTransparentIncomingChatBubble.react","MDSTransparentOutgoingChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectTop;a=a.outgoing;return a?i.jsx(c("MDSTransparentOutgoingChatBubble.react"),{children:b,connectBottom:!1,connectTop:d,xstyle:j.precedes_xma}):i.jsx(c("MDSTransparentIncomingChatBubble.react"),{children:b,connectBottom:!1,connectTop:d,xstyle:j.precedes_xma})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSTransparentMessageBubble.react",["MDSTransparentChatBubblePrecedesXMA.react","MDSTransparentIncomingChatBubble.react","MDSTransparentOutgoingChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;if(a===!0)return i.jsx(c("MDSTransparentChatBubblePrecedesXMA.react"),{children:b,connectTop:e,outgoing:f});a=f?c("MDSTransparentOutgoingChatBubble.react"):c("MDSTransparentIncomingChatBubble.react");return i.jsx(a,{connectBottom:d,connectTop:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXTransparentMessageBubble.react",["MDSTransparentMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSTransparentMessageBubble.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color;c=babelHelpers.objectWithoutPropertiesLoose(c,["color"]);d=(d=d)!=null?d:{};var f=d.color;d=babelHelpers.objectWithoutPropertiesLoose(d,["color"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.text,e=a.outgoing,f=a.ranges,g=a.renderers,i=a.transforms;a=a.xstyleForText;return j.jsx(c("MWXText.react"),{color:e?"white":"primary",type:"body3",children:j.jsx("div",{className:(h||(h=c("stylex")))(k.regular,a),dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{ranges:f,renderers:g,text:b,transforms:(e=i)!=null?e:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageForwardedMessageListText.react",["MWChatTextTransform","MWXMessageBaseMessageListText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={forwardedIncoming:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",":before_backgroundColor":"x1og7ii6",":before_borderTopStartRadius":"x1c17coi",":before_borderTopEndRadius":"xjv2uko",":before_borderBottomEndRadius":"xaypiso",":before_borderBottomStartRadius":"xcuh6jm",":before_content":"x1gftdam",":before_height":"x1bfxw5i",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"xcyfhir",":before_width":"x1otdnzn",$$css:!0},forwardedOutgoing:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",":before_backgroundColor":"xmd5wjp",":before_borderTopStartRadius":"x1c17coi",":before_borderTopEndRadius":"xjv2uko",":before_borderBottomEndRadius":"xaypiso",":before_borderBottomStartRadius":"xcuh6jm",":before_content":"x1gftdam",":before_height":"x1bfxw5i",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"xcyfhir",":before_width":"x1otdnzn",$$css:!0}};function a(a){var b=a.text,e=a.outgoing,f=a.ranges,g=a.renderers,i=a.transforms;a=a.xstyleForForwarded;return j.jsx("blockquote",{className:(h||(h=c("stylex")))(e?k.forwardedOutgoing:k.forwardedIncoming,a),dir:"auto",children:j.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:b,transforms:(a=i)!=null?a:d("MWChatTextTransform").epdTextTransforms})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["BaseTheme.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWBaseTheme","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageForwardedMessageListText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");b={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var l={dark:e,light:b,type:"VARIABLES"};function a(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,h=a.text,m=a.transforms,n=a.xstyleForForwarded;a=a.xstyleForText;if(h==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));var o=e?d("MWBaseTheme").empty:l;return k.jsx(c("BaseTheme.react"),{config:o,role:"none",children:b?k.jsx(c("MWXMessageForwardedMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:h,transforms:(o=m)!=null?o:d("MWChatTextTransform").epdTextTransforms,xstyleForForwarded:n}):k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:h,transforms:(b=m)!=null?b:d("MWChatTextTransform").epdTextTransforms,xstyleForText:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}g.useMWXLexicalHasText=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("useRegisterMAWThreadEvent",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReady","MAWThreadEvent","Promise","promiseDone","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=a.authorityLevel,f=a.threadKey,g=a.threadType,l=(j||(j=d("I64"))).ge(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),m=(i||(i=c("useReStore")))(),n=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isSecure(g)&&l&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(m,f,"useRegisterMAWThreadEvent",function(a,c,e){d("MAWThreadEvent").setThreadEventHandler(e,n);return(h||(h=b("Promise"))).resolve()}))},[f,g,l,m,n])}g["default"]=a}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginLeft:null,marginRight:null,marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={icon:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;b=(b=b)!=null?b:{};b=b.previewUrl;return b==null||!a?i.jsx("div",{className:"x1ye3gou",children:i.jsx(c("MWChatFileIconV2.react"),{})}):i.jsx(c("CometImageCover.react"),{alt:(a=d)!=null?a:"",src:b,style:j.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageInsetShadow.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={imageShadow:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};function a(a){a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(k.imageShadow,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("1016");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=c("useMWFileOnPress")(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a,b){var c=a.length;c=c<<1;var d=new ArrayBuffer(44+c);d=new DataView(d);j(d,0,"RIFF");d.setUint32(4,36+c,!0);j(d,8,"WAVE");j(d,12,"fmt ");d.setUint32(16,16,!0);d.setUint16(20,1,!0);d.setUint16(22,2,!0);d.setUint32(24,b,!0);d.setUint32(28,b<<2,!0);d.setUint16(32,4,!0);d.setUint16(34,16,!0);j(d,36,"data");d.setUint32(40,c,!0);i(d,44,a);return d}function c(a,b){a=k(a,b);return new File([a],"audio_clip.wav",{type:"audio/wav"})}var l=2;function e(a,b){var c=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/c/l;return a/b%d("DateConsts").SEC_PER_MIN}function m(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function n(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=n}),98);
__d("useBlockeesInThread",["I64","LSContactBlockedByViewerStatus","LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants"),[]).getKeyRange(a),d("ReQL").fromTableAscending(b.table("contacts"),["id","blockedByViewerStatus"])).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}).map(function(a){a[0];a=a[1].id;return(h||(h=d("I64"))).to_string(a)})},[a,b],f.id+":24");return e}g["default"]=a}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");var m=e.useCallback,n=e.useMemo;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWBaseChatOpenTabForUser")(void 0,e),l=g[0],o=c("useMWChatOpenTabForPage")(e),p=d("MWPActor.react").useActor(),q=n(function(){return new(h||(h=b("Promise")))(function(b,e){var g=(e=d("ReQL")).mergeJoin(e.fromTableAscending(f.table("participants")).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,p)}),e.fromTableAscending(f.table("contacts"))),h={contents:function(){}};h.contents=g.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(a)}});c("promiseDone")(e.firstAsync(g),function(e){if(e!=null){e=e[1];if((i||(i=d("I64"))).ge(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(e)}else return}c("promiseDone")(f.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:a,threadType:j.ofNumber(1)})},"readwrite"))})})},[a,f]);return m(function(){c("promiseDone")(q,function(b){var e=(i||(i=d("I64"))).to_string(a);b=b.contactType;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)))return o(e,!1);else return l(e,!1)})},[q,l,o,a])}g["default"]=a}),98);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useContext,m=b.useEffect;function n(a,b){a.update(function(){var e=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(e)||!e.isCollapsed())return;var f=e.anchor;f=f.getNode();var g=c("cometMentionsDataEntryText")(b),h=d("Lexical").$getRoot().getAllTextNodes().some(function(a){return d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)&&a.getTextContent().includes(g)});if(h===!0)return;h=d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b.key,text:g});var i=d("LexicalText").$isRootTextContentEmpty(a.isComposing());i?e.insertNodes([h]):f.insertBefore(h);h.selectNext(0,0)})}function a(a,b,e){var g=l(d("MWPReplyContext.react").MWPReplyContext),k=g.reply,o=c("usePrevious")(k),p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.table("messages")).getKeyRange(b,k.timestampMs,k.messageId):d("ReQL").empty()},[k,b,p],f.id+":91");g=d("ReQLSuspense").useFirst(function(){return q!=null?d("ReQL").fromTableAscending(p.table("contacts")).getKeyRange(q.senderId):d("ReQL").empty()},[p,q],f.id+":102");g=g!=null?(i||(i=d("I64"))).equal(g.contactTypeExact,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)):!1;var r=g&&(q==null?void 0:q.botResponseId)!=null;m(function(){var b=o==null&&k!=null;b&&r&&e===!0&&n(a,d("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},[a,k,o,r,e])}g.insertMentionNodeToFront=n;g.useMWChatAppendMentionsNodeToReply=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageFromIXValue.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,h=f.image,k=f.photoURI;f=f.subtitle;var l;k!=null?l=i.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:k}}):g!=null?l=i.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}):h!=null&&(l=i.jsx(c("CometImageFromIXValue.react"),{source:h,xstyle:j.image}));return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:l,testid:void 0,children:i.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6;a=function(){function a(a,b,d,e,f){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null;this.$4=e;this.$5=f}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,this.$4,this.$5,i)};e.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){var b=a.isAiBotMentionsEnabled,e=a.participants,f=a.threadFBID,g=a.triggerParticipantsSearch;a=d("MWLSThread").useThreadExn((i||(i=d("I64"))).of_string(f));var h=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSThreadBitOffset").has(43,a);a=j(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(e,f,g,b,h),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[h,b,e,f,g]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){var b=a.threadKey,e=a.threadName,g=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants"),["contactId"]).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":33")})},[g,b],f.id+":28");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",e)]);var a=c("intlList")(l.map(function(a){if(a!=null&&!(i||(i=d("I64"))).equal(a.id,k))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",a)])},[l,e,k])}g["default"]=a}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","Promise","URI","XComposerPhotoUploader","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(k||d("react")).useMemo;function o(a,e,f,g,h,i,k){var n=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c("LSFactory")(a),{attachments:c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:n,attachment_index:(l||(l=d("I64"))).zero,attachment_type:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:n,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(c("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),senderId:e,snippetHasEmoji:!1,threadKey:f,threadType:m.ofNumber(1)}).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(l||(l=d("I64"))).of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return(j||(j=b("Promise"))).resolve([e,n])})})}function a(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return n(function(){return function(h,n,p){var q=(l||(l=d("I64"))).to_string(g),r=function(a){var e=a[1],g=a[0],h=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){c("promiseDone")(f.runInTransaction(function(a){return c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),inMessageIndex:(l||(l=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:g,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite"))},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var h=a.image_id;if(h==null)return;c("promiseDone")(f.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:(l||(l=d("I64"))).of_string(h.toString()),offlineAttachmentId:e}).then(function(){return c("LSResumeMediaSendJobStoredProcedure")(c("LSFactory")(a),{jobId:g,pluginType:(l||(l=d("I64"))).zero})})},"readwrite"))},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(i||(i=c("URI")))(c("MercuryConfig").upload_url),q)});c("promiseDone")(window.fetch(p).then(function(a){return a.blob()}).then(function(a){h.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return(j||(j=b("Promise"))).resolve()}))},s=d("LSThreadAttributionTypeUtil").getSource(k,a);c("promiseDone")(f.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=e)!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:m.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:s}),mailboxType:m.ofNumber(c("LSMailboxType").MESSENGER),senderId:g,snippet:h,text:h,threadKey:k,threadType:m.ofNumber(1)})},"readwrite").then(function(a){return f.runInTransaction(function(a){return o(a,g,k,p,n,s,e).then(function(a){r(a)})},"readwrite")}))}},[f,g,k])}g.usePostbackCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=f)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:k}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:j,text:j,threadKey:e,threadType:h.ofNumber(1)})},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler")),b=a[0];return i(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.threadKey;d[2]=b.attachmentFbid;d[3]=b.targetId;d[4]=b.actionType;return c("LSOptimisticProcessMarketplaceCallFunctionCTA").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return j(function(d,e,f,g){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(c("LSFactory")(a),{actionType:g,attachmentFbid:e,messageId:d,targetId:f,threadKey:b})},"readwrite"))},[a,b])}g["default"]=a}),98);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWPComposerDraftMessages",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){if(b==null){i["delete"]((h||(h=d("I64"))).to_string(a));return}i.set((h||(h=d("I64"))).to_string(a),b)}function b(a){return i.get((h||(h=d("I64"))).to_string(a))}g.updateDraftMessage=a;g.getDraftMessage=b}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.editor,e=a.isPreviewThread,f=a.threadKey;d("Int64Hooks").useEffectInt64(function(){return e?void 0:b.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});d("MWPComposerDraftMessages").updateDraftMessage(f,a)},{wait:250}))},[b,f,e]);d("Int64Hooks").useEffectInt64(function(){return function(){if(e)return;var a=b.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});d("MWPComposerDraftMessages").updateDraftMessage(f,a)}},[b,f,e])}g["default"]=a}),98);
__d("MWEncryptedBackupsIssueRangeQueryDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery").__setRef("MWEncryptedBackupsIssueRangeQueryDeferred");function a(a){var b=a.db,c=a.newerNumMessages,d=a.numMessages,e=a.sortOrderMs,f=a.threadId;h.onReady(function(a){return a.runQuery(b,f,e,d,c)})}g.issueRangeQueryDeferred=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){if(b("cr:4919")!=null)return j.jsx("span",{className:"x1n2onr6 x1atx4j1",children:j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function k(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}k.displayName=k.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=k}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var g,j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(j.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(f),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:e,threadId:b})},"readwrite"))},[j,a,e,b]);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("community_members")).getKeyRange(a,e,(h||(h=d("LSIntEnum"))).ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[j,a,e],f.id+":59"))!=null?g:!1}g["default"]=a}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:8325","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:8325")),c("gkx")("571"));g["default"]=a}),98);
__d("MWCMCreateSubthreadRowActionButton.react",["fbt","I64","Int64Hooks","LsFalcoEventEntryPoint","MWXIconStrict.react","MWXIconThread","MWXPressable.react","MWXTooltip.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButton.react"),m=h._("__JHASH__BJS3T2_tOPf__JHASH__"),n=h._("__JHASH__ZHBRqixJ9Qy__JHASH__");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){l.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:(j||(j=d("I64"))).to_string(j.zero),id:j.to_string(b.threadKey),type:18}}})}),g!=null?f(g):void e()},[b.messageId,b.threadKey,e,f,g]);return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g!=null?n:m,children:k.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x197sbye x1n2onr6 x2b8uid xvy4d1p x1164lod x4gyw5p x15vn3sj x1o7uuvo",children:k.jsx(c("MWXPressable.react"),{"aria-label":g!=null?n:m,disabled:a,expanding:!0,onPress:h,overlayDisabled:!0,children:k.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconThread"),size:16})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;b=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var e=b.forwardMessage,f=b.openReactionsMenu,g=b.removeMessage,h=b.replyToMessage,l=j(function(){return f.current()},[f]),m=j(function(){return h.current()},[h]),n=j(function(){return e.current()},[e]),o=j(function(){return g.current()},[g]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",m);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);b.push(c);return b},[l,m,n,o]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("I64"))).of_int32(60),k=i.of_int32(60*60),l=i.of_int32(24*60*60),m=i.of_int32(7*24*60*60);function a(a,b){b=(i||(i=d("I64"))).of_float(b.getTime()/1e3);a=i.div(a,i.of_int32(1e3));b=i.sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if((i||(i=d("I64"))).lt(b,j))return a;else if((i||(i=d("I64"))).lt(b,k)){var c=(i||(i=d("I64"))).to_string(i.div(b,j));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if((i||(i=d("I64"))).lt(b,l)){c=(i||(i=d("I64"))).to_string(i.div(b,k));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if((i||(i=d("I64"))).lt(b,m)){c=(i||(i=d("I64"))).to_string(i.div(b,l));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useContext,k=b.useMemo,l=b.useRef,m=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=l(new Set()),c=k(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return j(m)}};g["default"]=d}),98);
__d("MWStatusText.react",["MWPThreadThemeGradientUtils","MWXText.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignLeft:{paddingStart:"xtt4iyq",paddingLeft:null,paddingRight:null,$$css:!0},alignRight:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=a.alignLeft;b=b===void 0?!1:b;var e=a.error,f=a.text;a=a.xstyle;var g=c("useMWPThreadTheme")();return j.jsx("span",{className:(h||(h=c("stylex")))(b?k.alignLeft:k.alignRight,d("MWPThreadThemeGradientUtils").isGradient(g)&&k.mask,a),role:"none",children:j.jsx(c("MWXText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",testid:void 0,type:"meta4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPThreadThemeGradientUtils","MWStatusText.react","clearTimeout","react","setTimeout","stylex","useMWPThreadTheme","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=3e3,p={mask:{backgroundColor:"x1eb86dx",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,i=a.xstyle;a=n(!1);var q=a[0],r=a[1],s=m(null),t=m(!1);a=c("MWMessageSendingContext.react").useHook();var u=a.findSendingMessage,v=a.trackSendingMessage,w=a.untrackSendingMessage;a=c("useMWPThreadTheme")();var x=c("useServerTime")();k(function(){w(f.offlineThreadingId);g.type==="Sending"?(v(f.offlineThreadingId),s.current=c("setTimeout")(function(){r(!0)},o)):s.current&&c("clearTimeout")(s.current);return function(){s.current&&c("clearTimeout")(s.current)}},[u,f.offlineThreadingId,g.type,v,w]);var y=l(function(){g.type==="Sending"?v(f.offlineThreadingId):u(f.offlineThreadingId)&&(t.current=!0);var a=g.type==="Sending"||t.current;a=[p.statusText,a&&p.mountAnimation,i];switch(g.type){case"Sending":return q?j.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?j.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,x).toString(),xstyle:a}):null;case"Error":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,u,e,f.offlineThreadingId,f.timestampMs,x,q,g.type,v,i]);return j.jsx("div",{className:(h||(h=c("stylex")))(p.statusTextRow,d("MWPThreadThemeGradientUtils").isGradient(a)&&p.mask),"data-testid":void 0,children:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;e=b.createContext;var l=b.useCallback,m=b.useContext,n=b.useMemo,o=b.useState,p=e({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=o(null),e=b[0],f=b[1];b=o(!1);var g=b[0],j=b[1];b=o(!1);var m=b[0],q=b[1],r=(h||(h=c("useReStore")))(),s=l(function(a,b,e){q(!0),f(b),r.runInTransaction(function(d){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(d),{messageId:b,threadKey:a})},"readwrite").then(function(){q(!1),j(!1),d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:e?(i||(i=d("I64"))).to_string(e.folderId):null,event:"seen_count_rendered",group_id:e?(i||(i=d("I64"))).to_string(e.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a)})})["catch"](function(){q(!1),j(!0)})},[r]);b=n(function(){return{clickedMessageId:e,fetchMessageSeenCount:s,hasError:g,isLoading:m,setClickedMessageId:f}},[e,s,g,m]);return k.jsx(p.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return m(p)}};g["default"]=b}),98);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||(j=d("react"));b=j;var k=b.useEffect,l=b.useState;function a(a){var b=a.children,e=a.isBroadcastChannel,g=e===void 0?!1:e;e=a.isBroadcastThread;var j=a.isLargeGroup,l=a.isSecureGroupThread,m=a.message,n=a.nextMessage,q=d("MWPActor.react").useActor(),r=(h||(h=c("useReStore")))(),s=(i||(i=d("I64"))).equal(q,m.senderId),t=n!=null&&!(i||(i=d("I64"))).equal(q,n.senderId),u=m.isUnsent,v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.seenCountV2Enabled;var w=!m.isUnsent&&v,x=n==null;v=c("useMWIsReadReceiptsDisabledForThread")(m.threadKey)&&c("gkx")("8937");var y=c("MWClickedMessageContext.react").useHook(),z=y.clickedMessageId,A=y.fetchMessageSeenCount,B=y.hasError;y=y.isLoading;var C=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(r.table("community_chat_message_seen_count"),["seenCount"]).getKeyRange(m.threadKey,m.messageId):d("ReQL").empty()},[r,w,m.threadKey,m.messageId],f.id+":95");k(function(){g===!0&&x&&A(m.threadKey,m.messageId)},[A,m.messageId,m.threadKey,x,g,s]);var D=o(a,function(a){return!x&&a.length===0},[x]),E=p(function(){return d("ReQL").fromTableDescending(r.table("participants").index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(m.threadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return a.length>0},[m.threadKey,q]).length>0,F=p(function(){return d("ReQL").fromTableDescending(r.table("participants").index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(m.threadKey).bounds({gte:d("ReQL").key(m.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return E&&a.length>0},[m.timestampMs,m.threadKey,q,E]),G=F.length>0;F=p(function(){return d("ReQL").fromTableDescending(r.table("participants").index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(m.threadKey).bounds({gte:d("ReQL").key(m.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return a.length>0||G},[m.threadKey,m.timestampMs,G,q]).length>0;var H=o(a,function(a){return G&&a.length===0},[G]);if(m.isAdminMessage)return b({type:"NoneStatus"});if(e)if(!w){if(!s||n!=null||u)return b({type:"NoneStatus"})}else{if(z!==m.messageId)return b({type:"NoneStatus"});if(y)return b({type:"Loading"});return B?b({type:"RetriableError"}):C!=null?b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount))):b({type:"Loading"})}if(!s){if(l||j)return b({type:"NoneStatus"});return g===!0?C!=null?b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount))):b({type:"NoneStatus"}):D.length>0?a.children(d("MWMessageDeliveryStatus").seenHead(D)):a.children({type:"NoneStatus"})}if(s&&x&&g)return C!=null&&(i||(i=d("I64"))).to_int32(C.seenCount)>0?b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount))):b({type:"Sent"});if(t&&l)return b({type:"NoneStatus"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(0)))return b({type:"NoneStatus"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(4))||(i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(5)))return b({type:"Error"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(1)))return b({type:"Sending"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(6)))return b({type:"Sent"});if(j)if(n!=null||u)return b({type:"NoneStatus"});else if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(2)))return b({type:"Delivered"});return G&&!v?H.length>0?b(d("MWMessageDeliveryStatus").seenHead(H)):b({type:"NoneStatus"}):F?b({type:"Delivered"}):b({type:"Sent"})}a.displayName=a.name+" [from "+f.id+"]";var m=10;function n(a){var b=a.message;a=a.nextMessage;var e=(h||(h=c("useReStore")))(),g=(a==null?void 0:a.isAdminMessage)===!0,i=d("ReQLSuspense").useFirst(function(){return g?d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder"),["isAdminMessage","timestampMs"]).getKeyRange(b.threadKey).bounds({gt:d("ReQL").key(b.primarySortKey)}).take(m).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[e,g,b.primarySortKey,b.threadKey],f.id+":347");return g?i:a}function o(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),k=a.message,l=n(a);a=c("useMWIsReadReceiptsDisabledForThread")(k.threadKey)&&c("gkx")("8937");b=p(function(){var a=l!=null?{gte:d("ReQL").key(k.timestampMs),lt:d("ReQL").key(l.timestampMs)}:{gte:d("ReQL").key(k.timestampMs)};return d("ReQL").fromTableAscending(g.table("participants").index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(k.threadKey).bounds(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,j)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts"),["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a.contactId),f.id+":422");return[a,b]})},b,[g,k.threadKey,k.timestampMs,l==null?void 0:l.timestampMs,l==null,j].concat(e));return a?[]:b.map(function(a){var b,e=a[0];a=a[1];if(a==null)return;return{gender:c("GenderConst").UNKNOWN_SINGULAR,id:(i||(i=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:i.to_float(e.readActionTimestampMs)}}).filter(Boolean)}function p(a,b,c){var e=l(void 0),g=e[0];e=e[1];c=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").empty():a()},[].concat(c,[g]),f.id+":481");b(c)&&g==null&&e(c);return g!=null?g:c}g["default"]=a}),98);
__d("MWChatBubbleEmphasisRing.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");({borderRadius:22,borderStyle:"solid",borderWidth:2,content:"''",display:"block",pointerEvents:"none",position:"absolute",zIndex:1});var k={emphasis_ring:{backgroundColor:"xjbqb8w",borderTopColor:"xxdu5gn",borderEndColor:"x1uipg7g",borderBottomColor:"xnezbuk",borderStartColor:"xlauuyb",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderTopStartRadius":"xquudas","::after_borderTopEndRadius":"x6p43zf","::after_borderBottomEndRadius":"x1wnhr99","::after_borderBottomStartRadius":"x1gquc79","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x31ga2r","::after_borderEndWidth":"xcmxnv6","::after_borderBottomWidth":"x13afdcp","::after_borderStartWidth":"x10va8jt","::after_content":"x1s928wv","::after_display":"xhkezso","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_zIndex":"xitxdhh","::after_borderTopColor":"xs65dz8","::after_borderEndColor":"x12bj33z","::after_borderBottomColor":"x15uivxv","::after_borderStartColor":"xbxgwnb","::after_bottom":"xdb1ctf","::after_end":"x4bhatf","::after_left":null,"::after_right":null,"::after_start":"xhg89tr","::after_top":"x7kqs8i","::before_borderTopStartRadius":"x2e93ah","::before_borderTopEndRadius":"xigdz7j","::before_borderBottomEndRadius":"x1vxwiij","::before_borderBottomStartRadius":"xfgw0w6","::before_borderTopStyle":"xnvurfn","::before_borderEndStyle":"xv1ta3e","::before_borderBottomStyle":"x1opv7go","::before_borderStartStyle":"x1dtnpoi","::before_borderTopWidth":"x1b8stmw","::before_borderEndWidth":"xyhsekn","::before_borderBottomWidth":"xmbliey","::before_borderStartWidth":"x1igdxxj","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_zIndex":"x12maryy","::before_borderTopColor":"xdxy94m","::before_borderEndColor":"xt7heth","::before_borderBottomColor":"xq7m7h9","::before_borderStartColor":"xp0hy2t","::before_bottom":"xe80sof","::before_end":"x105ji64","::before_left":null,"::before_right":null,"::before_opacity":"x1u3qutx","::before_start":"xbs7dl3","::before_top":"x51xajf",$$css:!0},emphasis_ring_before_xma:{borderBottomStyle:"x1sy0etr","::after_borderBottom":"x1bxl7c5","::after_borderBottomEndRadius":"x1qo8dsh","::after_borderBottomStartRadius":"x1oiup0q","::before_borderBottom":"xozyfcf","::before_borderBottomEndRadius":"x1nxuetn","::before_borderBottomStartRadius":"x1doa7m0",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderBottomStartRadius":"x1573djm","::before_borderBottomStartRadius":"x106tphz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderBottomEndRadius":"x1nb2ndt","::before_borderBottomEndRadius":"x7ft4bm",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderTopStartRadius":"x14nzmgs","::before_borderTopStartRadius":"x58eeit",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderTopEndRadius":"xe41ffp","::before_borderTopEndRadius":"x1cbhpwz",$$css:!0},emphasis_ring_xma:{borderTopStyle:"x1ejq31n",width:"x1o2z316","::after_borderTop":"x12dgpll","::after_borderTopEndRadius":"x1utvphz","::after_borderTopStartRadius":"x17dqjr0","::before_borderTop":"xp2bjph","::before_borderTopEndRadius":"xajc7s","::before_borderTopStartRadius":"x1eo7yr1",$$css:!0}};function a(a){var b=a.hasXMA,d=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.precedesXMA;var i=g?k.emphasis_ring_connect_top_outgoing:k.emphasis_ring_connect_top_incoming;g=g?k.emphasis_ring_connect_bottom_outgoing:k.emphasis_ring_connect_bottom_incoming;a=[k.emphasis_ring,a?k.emphasis_ring_before_xma:e&&g,f&&(b?k.emphasis_ring_xma:i)];return j.jsx("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("useMWInlineStylesForReply",["MWLSThreadDisplayContext","MWPColorUtils","gkx","isArmadillo","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",h=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return i(function(){if(c("gkx")("1969")&&a.backgroundUrl!=null&&a.backgroundUrl.length>=1&&b.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(b[0].color)};if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:c("isArmadillo")()?32:48,totalHeight:h?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--chat-incoming-message-bubble-background-color)"}},[a.backgroundUrl,a.fallbackColor,b,e,g,h])}g["default"]=a}),98);
__d("MWV2ChatBubbleReply.react",["MWXSolidMessageBubble.react","react","useMWInlineStylesForReply"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.gradientColors,d=a.threadTheme,e=a.children,f=a.connectBottom,g=a.connectTop,h=a.outgoing;a=a.precedesXMA;d=c("useMWInlineStylesForReply")(d,b,h);return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:f,connectTop:g,outgoing:h,precedesXMA:a,style:d,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubbleUtils.react",["MWPColorUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("gkx")("1969")){var e=b?a.outgoingGradientColors:a.incomingGradientColors;if(e!=null&&e.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(e[0].color)}}if(b)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.threadTheme.fallbackColor)};else return{backgroundColor:"var(--chat-incoming-message-bubble-background-color)"}}g.getInlineStylesForSolidBubble=a}),98);
__d("MWV2ChatBubble.react",["MWMessageDisplayContext.react","MWPMessageIsReply","MWPThreadThemeContext","MWV2ChatBubbleReply.react","MWV2ChatBubbleUtils.react","MWXSolidMessageBubble.react","MWXTransparentMessageBubble.react","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.message,e=a.xmaLayout,f=a.children,g=a.connectBottom,h=a.connectTop,j=a.outgoing;a=a.precedesXMA;var k=c("useMWPThreadTheme")(),l=j?k.outgoingGradientColors:k.incomingGradientColors,m=k.threadTheme;b=c("MWPMessageIsReply")(b);var n=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();if(b)return i.jsx(c("MWV2ChatBubbleReply.react"),{connectBottom:g,connectTop:h,gradientColors:l,outgoing:j,precedesXMA:a,threadTheme:m,children:f});if(n==="reportMessages")return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:j,precedesXMA:a,style:babelHelpers["extends"]({},d("MWV2ChatBubbleUtils.react").getInlineStylesForSolidBubble(d("MWPThreadThemeContext").defaultContextValue,j)),xmaLayout:e,children:f});if(c("gkx")("1969")&&j&&Boolean(m.backgroundUrl))return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:j,precedesXMA:a,style:babelHelpers["extends"]({},d("MWV2ChatBubbleUtils.react").getInlineStylesForSolidBubble(k,j)),xmaLayout:e,children:f});return j&&l.length>1?i.jsx(c("MWXTransparentMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:j,precedesXMA:a,children:f}):i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:j,precedesXMA:a,style:babelHelpers["extends"]({},d("MWV2ChatBubbleUtils.react").getInlineStylesForSolidBubble(k,j)),xmaLayout:e,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubbleContainer.react",["MWChatBubbleEmphasisRing.react","MWV2ChatBubble.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasEmphasisRing;b=b===void 0?!1:b;var e=a.message,f=a.xmaLayout;f=f===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:f;var g=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasEmphasisRing","message","xmaLayout","children"]);g=i.jsx(c("MWV2ChatBubble.react"),babelHelpers["extends"]({children:g,message:e,xmaLayout:f},a));return b?i.jsx(c("MWChatBubbleEmphasisRing.react"),babelHelpers["extends"]({hasXMA:!1},a,{children:g})):g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2TombstonedMessage.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopColor:"x8cjs6t",borderEndColor:"x1ch86jh",borderBottomColor:"x80vd3b",borderStartColor:"xckqwgs",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom;d=d===void 0?!1:d;var e=a.connectTop;e=e===void 0?!1:e;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,e?k.connectTop:!1,d?k.connectBottom:!1,a),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"x1eb86dx",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return k.jsxs("div",{className:(i||(i=c("stylex")))(a?l.withRepliedMessage:l.withBackground),children:[a?null:k.jsx("div",{className:"x36qwtl xh8yej3 x1eb86dx"}),k.jsx(c("MWV2TombstonedMessage.react"),{xstyle:l.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatSeenHeadsRow.react",["fbt","CometImage.react","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","MercuryTimestamp","getFBTSafeGenderFromGenderConst","react","stylex","useMWPThreadTheme","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=5,o=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),p={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function q(a,b,d,e){if(!d)return[];d=Math.max(Math.floor(b-9),0);a=a.slice(d,b);var f="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",d,[0])]).toString();a=k.jsxs("ul",{children:[a.reverse().map(function(a,b){return k.jsx("li",{children:a.name},String(b))}),d>0?k.jsx("li",{children:f},"overflow"):null]});d=h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])]);return[k.jsx(c("MWXTooltip.react"),{align:e==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:d,position:"above",tooltip:a,children:k.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:d})},"overflow")]}function r(a){var b=a.displayContext,e=a.index;a=a.user;var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return k.jsx(c("MWXTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?k.jsx(c("MDSGlimmer.react"),{index:e,xstyle:p.img}):k.jsx(c("CometImage.react"),{alt:f,src:a.imageSrc,xstyle:p.img})})}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){var c=a.length,d=c>n;c=Math.max(Math.floor(c-(d?n-1:n)),0);var e=a.slice(c);return[].concat(q(a,c,d,b),e.map(function(a,c){return k.jsx(r,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=c("useMWPThreadTheme")();var f=l(d("MWV2MessageRowIsRowFocusedContext.react").context),g=f.setFocused,j=f.setIsDialogOpened;f=b.length;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=m(null),r={messageSeenBy:b},t=c("useMWXLazyDialog")(o),u=t[0],v=function(){return u(r,function(){j(function(){return!1}),g(function(){return!0})})};return k.jsxs("div",{className:(i||(i=c("stylex")))(p.root,d("MWPThreadThemeGradientUtils").isGradient(a)?p.mask:!1),role:"none",children:[k.jsx("div",{className:"x1r8uery x1iyjqo2"}),k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(f))]).toString(),onPress:function(){j(function(){return!0}),v()},overlayDisabled:!0,ref:q,xstyle:function(){return[p.heads,e]},children:k.jsx(c("MWXTooltipGroup.react"),{children:s(b,n)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.altText,d=a.head;a=a.xstyle;return d.imageSrc===""?j.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.profilePlaceholder}):j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(k.image,a),"data-testid":void 0,height:"14px",src:d.imageSrc,width:"14px"})}a.displayName=a.name+" [from "+f.id+"]";var k={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWXTooltip.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,d("MWPThreadThemeGradientUtils").isGradient(f)?k.mask:!1),"data-testid":void 0,children:j.jsx("div",{className:h([k.singleSeenHeadRow,a]),children:j.jsx(c("MWXTooltip.react"),{align:g==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:j.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function l(a){var b=a.alignLeft,d=a.enableSeenInfo;a=a.num;return!d?j.jsx(j.Fragment,{}):j.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",c("intlSummarizeNumber")(a))]).toString(),xstyle:k.statusText})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;a=a.status;var f=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return j.jsx(c("MWStatusText.react"),{error:!0,text:f.toString(),xstyle:k.statusText});case"SingleSeenHead":return j.jsx(l,{enableSeenInfo:e,num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return j.jsx(l,{alignLeft:b,enableSeenInfo:e,num:a.count});case"Loading":return j.jsx(c("MWStatusText.react"),{alignLeft:b,text:f.toString(),xstyle:k.statusText});case"RetriableError":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:f.toString(),xstyle:k.statusText});default:return j.jsx(c("MWStatusText.react"),{text:f.toString(),xstyle:k.statusText})}return j.jsx(l,{enableSeenInfo:e,num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWChatSingleSeenHeadRow.react","MWLSThread","MWMessageDeliveryStatus","MWMessageOutgoingStatus.react","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={baseStyle:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0}};function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;var f=a.hasTextBasedMessageReceipts,g=a.isLastMessage,h=a.isOutgoing,k=a.isTextOnly,l=a.message;a=a.status;var m=d("MWLSThread").useThread(l.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)});if(g&&f&&a.type==="NoneStatus")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22});if(k===!0)return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a});if(a.type==="MultipleSeenHeads")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:i.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:a.heads,xstyle:[j.seenHeads,f&&(g?j.lastMessage:j.nonLastMessage),f&&j.baseStyle]})});if(f&&a.type==="SeenCount"&&(m===!0&&g))return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a});if(f&&a.type==="SingleSeenHead")return i.jsx(c("MWChatSingleSeenHeadRow.react"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]});if(f&&a.type==="SingleSeenHead")return i.jsx(c("MWChatSingleSeenHeadRow.react"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]});if(h&&f)return i.jsx(c("MWMessageOutgoingStatus.react"),{alignLeft:b,isLastMessage:g,message:l,status:a,xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]});return h&&f?i.jsx(c("MWMessageOutgoingStatus.react"),{alignLeft:b,isLastMessage:g,message:l,status:a,xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWCMIsAnyCMThread","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,g=a.isGroupThread,h=a.isLastMessageInGroup,k=a.message;a=a.nickname;var o=d("MWPActor.react").useActor(),p=(i||(i=c("useReStore")))(),q=d("MWLSThread").useThread(k.threadKey),r=q==null?void 0:q.parentThreadKey;q=q==null?void 0:q.threadType;var s=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(p,(a=r)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[p,r],f.id+":79");q=q?c("MWCMIsAnyCMThread")(q):!1;if(!h)return l.jsx("div",{className:"xgd8bvy"});if(k.takedownState!=null)h=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIcon.react"),{alt:m,icon:d("SVGIcon").legacySVGIcon(function(){return l.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var t,u;a=a!=null?a+" ("+e.name+")":e.name;t=(t=d("LSContactBitOffset").has(77,e))!=null?t:!1;u=(u=d("LSContactBitOffset").has(84,e))!=null?u:!1;var v=l.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});h=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:q&&!u&&!t&&c("qex")._("20")?l.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((e=s)!=null?e:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(o)},otherProps:{message:k},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,h,i){return g?l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:h,onPress:function(){d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:i,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v}):v}}):v})}else h=l.jsx(c("MDSGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread,f=a.isLastMessageInGroup;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;return i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:h,isGroupThread:e,isLastMessageInGroup:f,message:a,nickname:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;n(function(){return b},[b]);return[a.setTheme,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function l(a){var b=a.renderTextWrapper;a=a.timestamp;a=j.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})});return b!=null?b(a):a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.renderTextWrapper;a=a.timestamp;var e=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:j.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),j.jsx("div",{"aria-hidden":!0,className:(h||(h=c("stylex")))(k.root,d("MWTheme.react").isGradient(e)&&k.mask),"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(l,{renderTextWrapper:b,timestamp:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:f})},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=(h||(h=c("useReStore")))(),g=(i||(i=d("I64"))).to_string(b.threadKey),k=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(g),userActionType:a})},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return k()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":39");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":64");g=g==null?void 0:g.title;a=g!=null?l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=function(){return o(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{color:"primary",href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:6991","cr:6996","cr:6997","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function l(a){if(a!=null)return a.isAdminMessage;else return!1}function m(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l(a)?k.containerThatProceedsAdminMessage:!1,l(d)?k.containerThatPrecedesAdminMessage:!1),"data-testid":void 0,children:j.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var d=a.message;a.nextMessage;a.prevMessage;a=b("cr:6991")!=null&&b("cr:6997")!=null?b("cr:6991").buildLocalizedString([],[],b("cr:6997").CURRENT_USER_ADDED_DEVICE):"";a=d.text===a&&b("cr:6996")!=null?j.jsx(b("cr:6996"),{}):null;var e=d.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return j.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:d});else if(e==="admin_msg_dual_thread_cutover")return j.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:d});else if(e==="admin_msg_web_url")return j.jsx(c("MWV2AdminMsgWebUrl.react"),{message:d});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return j.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:d});else if(e==="admin_notification_messages_opt_out")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:d});else if(e==="admin_notification_messages_opt_in")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:d});else if(e==="admin_msg_thread_level_cutover")return j.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:d});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return j.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:d});else if(e==="xmat_instant_game_bot_message_subscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return j.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:d});else if(e==="xmat_instant_game_custom_update_message_mute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return j.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:d});else if(e==="admin_msg_admod_post_msg_remove_actions")return j.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:d});else return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]});return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return j.jsx(m,{nextMessage:d,prevMessage:a,children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(n,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=l;g.MWV2ChatAdminMessageContainer=m;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify"));var d=a[0];return i(function(a){a=a.id;if(c("gkx")("94"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowCheckout",["react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k(!1);var g=a[0],h=a[1];a=c("useMWUICheckoutDialog")(b);var l=a[0];i(function(){b!=null&&g&&l({orderID:b,pageID:e},function(){return h(!1)})},[b,e,g,l]);return j(function(){return function(a,b){h(function(){return!0});d(function(){return a});return f(function(){return b})}},[h,d])}g["default"]=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");var k=b.useEffect,l=b.useMemo,m=b.useState;function a(){var a=m(null),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var i=a[0],n=d("MWLSDatabaseLazySync").useSync((j||(j=d("LSIntEnum"))).ofNumber(15));k(function(){b!=null&&f&&i({title:h._("__JHASH__NIyxBo8HYXZ__JHASH__"),transactionID:b},function(){return g(!1)})},[b,f,i]);return l(function(){return function(a){c("promiseDone")(n());g(function(){return!0});return e(function(){return a})}},[g,e,n])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){if(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}});if(a.messenger_pii_nux==null)f({description:"",seen:!0,title:"",url:"",url_text:""});else{var d;f({description:(d=a.messenger_pii_nux.description)!=null?d:"",seen:!1,title:(d=a.messenger_pii_nux.title)!=null?d:"",url:(d=a.messenger_pii_nux.url)!=null?d:"",url_text:(d=a.messenger_pii_nux.url_text)!=null?d:""})}}},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useState;function n(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=l(function(){var a;return(j||(j=d("I64"))).to_float((a=b.countdownTimestampMs)!=null?a:(j||(j=d("I64"))).zero)},[b.countdownTimestampMs]);var e=m(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(function(){g(Date.now())},e?6e4:1e3,[g]);if(!e){e=n(a-f);var i=e.minutes;e=e.seconds;i=("0"+i).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")i=h._("__JHASH__iEcmesFoHMR__JHASH__");else{e=n(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?i=h._("__JHASH__FgpGUEY9N0G__JHASH__"):f>0?i=h._("__JHASH__UZjF4IaHC-f__JHASH__",[h._param("days",f)]):a>0?i=h._("__JHASH__4LZO7x78s0P__JHASH__",[h._param("hours",a)]):i=h._("__JHASH__JXYYWJwIx9x__JHASH__",[h._param("minutes",Math.max(1,e))])}return k.jsx("div",{className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9",children:k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWXImage.react","MWXText.react","gkx","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=160,l=213,m={avatar:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},card:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",filter:"xa5fk4t",height:"x1xx6w2s",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xq1dxzn",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0},textCard:{backgroundColor:"x9bbmet",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},timestamp:{flexShrink:"x2lah0s",paddingBottom:"x84yb8i",$$css:!0},titleText:{flexGrow:"x1iyjqo2",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){a=a.attachmentItem;var b=a.faviconUrl,d=a.playableUrl,e=a.previewUrl,f=a.subtitleText;a=a.titleText;if(!c("isStringNullOrEmpty")(d))return j.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:j.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r",height:l,muted:!0,src:d,width:k})});else if(!c("isStringNullOrEmpty")(e))return j.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:j.jsx(c("BaseImage.react"),{height:l,src:e,width:k,xstyle:m.media})});else if(c("gkx")("9992")&&!c("isStringNullOrEmpty")(a)&&!c("isStringNullOrEmpty")(b))return j.jsxs("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[j.jsx(c("MWXImage.react"),{height:24,src:b,width:24,xstyle:m.avatar}),j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(m.titleText),{children:j.jsx(c("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:a})})),c("isStringNullOrEmpty")(f)?null:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(m.timestamp),{children:j.jsx(c("MWXText.react"),{type:"body4",children:f})}))]});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),98);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1],r=c("usePrevious")(b),s=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var t=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var u=a[0],v=o(),w=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});m(function(){w!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&r!==b&&s!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",w?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),t({ctaType:p,rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)}),c("promiseDone")(v(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&u({asCreator:!1,rendererStrategy:a})}))},[w,s,r,f,t,b,h,v,u,p]);return l(function(a,b,c,d){e(b),g(a),i(c),q(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef;function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function q(a,b,e){a=r(a);var f,g=!1;if(a.length!==1)f=!1;else{var h,i=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&i!=null&&!(k||(k=d("I64"))).equal(i.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b)return[!1,!1];f=i!=null?(k||(k=d("I64"))).equal(i.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=i!=null?(b=d("LSContactBitOffset").has(0,i))!=null?b:!0:!0;h=i!=null?(h=d("LSContactBitOffset").has(1,i))!=null?h:!0:!0;g=e&&i!=null&&i.blockedSinceTimestampMs==null&&!f&&(!b||!h)}if(!f)return[!g,!g];return c("gkx")("1710932")?[a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}),a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(16,a)})]:[!1,!1]}function r(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts"),["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":279")})},[b,a,e],f.id+":268")}function s(a){var b=a.folderName,e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(i.table("messages_ranges_v2__generated"),["threadKey"]).getKeyRange(e)},[i,e],f.id+":300")!=null,n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("participants"),["threadKey","contactId"]).getKeyRange(e,j)},[i,e,j],f.id+":309")!=null,o=d("LSThreadBitOffset").has(25,a),p=d("LSThreadBitOffset").has(24,a),r=d("LSMessagingThreadTypeUtil").isSecure(g),s=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!r||c("isFeatureLimitEnabled")());a=q(e,a.threadType,r);var t=a[0];a=a[1];if(r&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("5709")))return[!1,!1];r=((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&n||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));n=d("MWChatIsMessageRequest").fn(b);g=!n&&m&&!s&&r;return g?[t&&o,a&&p]:[!1,!1]}g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=s}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=l(!1),b=a[0],e=a[1],f=k(!1),g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();j(function(){if(f.current)return;f.current=!0;if(g)return;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}g["default"]=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useShouldTryWithMessengerDesktop")(),b=d("MWLSStartPhoneCall").useMakeRTCCall();b=b[0];var e=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?e:b}g["default"]=a}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react")),k=g[0];return l(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:(j||(j=d("I64"))).zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("attachment_ctas")).getKeyRange(b),f.id+":40");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];k({latitude:c,longitude:a},function(){});return(h||(h=b("Promise"))).resolve()}))},[a,e,k])}g["default"]=a}),98);
__d("MWChatImageSize",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b,c){var d=b!=null?b:!1,e=j();c=k();b=c[0];var f=c[1];i(function(){if(a==null)return;if(e.current==null&&!d){var b=new Image();b.src=a;b.onload=function(){return f({height:b.naturalHeight,width:b.naturalWidth})};e.current=b}return function(){f(function(){});var a=e.current;if(a==null)return;a.onload=null}},[a,d,f]);return b}g.useImageSize=a}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("MWChatFilePreProcessingErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return{body:h._("__JHASH__Tr8urrZ1rc1__JHASH__",[h._param("size",a)]),title:h._("__JHASH__GVmFuh2jycz__JHASH__")}};g.maxFileSizeExceeded=a}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return i(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k("");var l=a[0],m=a[1];a=k("");var n=a[0],o=a[1];a=k(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];i(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},function(){return q(!1)})},[b,p]);return j(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);h(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MWBuyerShippingAddressRootQuery.graphql");c=a;g["default"]=c}),98);
__d("MWPThreadGradientBackground.react",["BaseTheme.react","MWPColorUtils","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{backgroundSize:"x18d0r48",display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"xmz0i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function k(a,b){b=b.backgroundUrl;if(c("gkx")("1969")&&b!=null&&b.length>0)return{backgroundImage:"url("+b+")"};return a.length>1?{backgroundImage:d("MWPColorUtils").gradient(a)}:{}}function a(a){a=a.children;var b=c("useMWPThreadTheme")(),d=b.outgoingGradientColors;b=b.threadTheme;return i.jsx(c("BaseTheme.react"),{style:k(d,b),xstyle:j.container,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWPThreadGradientBackground=a}),98);
__d("MWChatComposer3PBotCommandViewItem.react",["CometSearchMentionsBaseViewItem.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.label,e=b.rawData.subtitle;return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,children:i.jsx(c("MWXTextPairing.react"),{headline:d,level:4,meta:e,metaLineLimit:1,reduceEmphasis:!0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i}),98);
__d("createCommandsHandleMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\[\\]\\\\/!%'\"~=<>_:;";c="\\b[\\w][^\\s"+b+"]";d="(^|\\s|\\/)((?:"+c+"{"+1+",})$)";var g=new RegExp(d);function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){a=g.exec(a);if(a===null)return null;var c=a[1],d=a[2];if(d!=null&&d.length>=b){var e=d;(c==null?void 0:c.startsWith("/"))&&(e=""+c+d);return{leadOffset:a.index+c.length,matchingString:d,replaceableString:e}}return null},name:"CommandsHandleMatchStrategy"}}f["default"]=a}),66);
__d("useMW3PBotsCommandsDataSourceResolverConfig",["I64","Promise","ReQL","ReQLSuspense","createCometMentionMatchStrategy","createCommandsHandleMatchStrategy","useCometMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var e=(j||(j=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("custom_thread_commands").index("rank")).getKeyRange(a).filter(function(a){return!a.isOpenPersistentMenu}).map(function(a){var b=a.commandDescription,c=a.commandId;a=a.commandText;return{key:(i||(i=d("I64"))).to_string(c),label:a,rawData:{rangeType:"cu",subtitle:b},type:"entry"}})},[e,a],f.id+":33"),k=function(a){return{entries:a.query.length?g.filter(function(b){return b.label.toLowerCase().startsWith(a.query.toLowerCase())}):g,params:a}};return{bootstrap:function(){},fetchCache:k,fetchNetwork:function(a){return(h||(h=b("Promise"))).resolve(k(a))}}}function a(a){a=k(a);a=[{dataSource:a,matchStrategy:c("createCommandsHandleMatchStrategy")({minMatchLength:4})},{dataSource:a,matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"CometMentionsNameMatchStrategy",triggers:"/"})}];return c("useCometMentionsDataSourceResolverConfig")(a,!1)}g["default"]=a}),98);
__d("MW3PBotsCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposer3PBotCommandViewItem.react","MWCommandsComposerPluginTextNode","MWThreadKey.react","cometBaseMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadViewListStrategy","useMW3PBotsCommandsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.editor;var b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();b=c("useMW3PBotsCommandsDataSourceResolverConfig")(b);var e=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposer3PBotCommandViewItem.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:a.key,handle:a.label,rangeType:(a=(a=a.rawData)==null?void 0:a.rangeType)!=null?a:"n"})}),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LSMessagingThreadTypeUtil","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","cr:1948","cr:7192","gkx","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),n=c("gkx")("6943"),o={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginLeft:null,marginRight:null,marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},p=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,i=a.handlePastedFiles,q=a.isSecureThread,r=a.mentionsPlugin,s=a.placeholderText;s=s===void 0?"Aa":s;var t=a.policyProduct,u=a.startContent,v=a.style,w=a.surface,x=a.testId,y=a.threadSubtype;a=a.topContent;var z=k(function(a){a=(a=a)!=null?a:null;if(!n){var b=f.current;if(a==null||b===a)return}f.current=a;g.setRootElement(a)},[f,g]),A=d("LexicalComposerContext").createLexicalComposerContext(),B=l(function(){return[g,A]},[g,A]);e=j.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:p,contentEditableRef:z,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:x,xstyle:o.editor});z=j.jsx(c("CometLexicalPlaceholder.react"),{children:s});x=!(d("LSMessagingThreadTypeUtil").isPageToUserThread(y)&&b("cr:7192"))&&!Boolean(q);s=c("useDeferredModuleOnReady")(m);return j.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",style:v,children:[j.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:t,surface:w}),a,j.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[u,j.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:j.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:B,children:[j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:z}),j.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}),h]}),r,x&&b("cr:1948")!=null&&j.jsx(b("cr:1948"),{editor:g}),d("LSMessagingThreadTypeUtil").isPageToUserThread(y)&&b("cr:7192")&&j.jsx(b("cr:7192"),{editor:g}),s==null?null:j.jsx(s,{editor:g,handlePastedFiles:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("useMWCMMentionsDataSourceResolverConfig",["I64","Int64Hooks","LSClearCommunityMembersAndRangeStoredProcedure","LSFactory","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","Promise","asyncToGeneratorRuntime","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","pageID","promiseDone","react","useCometMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useMemo,m=e.useRef;function a(a,e,f){var g=(i||(i=c("useReStore")))(),k=m(null),n=m([]),o=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield g.runInTransaction(function(a){return c("LSClearCommunityMembersAndRangeStoredProcedure")(c("LSFactory")(a),{requestId:c("pageID"),source:(j||(j=d("I64"))).of_int32(8)})},"readwrite"),yield g.runInTransaction(function(f){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(f),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(j||(j=d("I64"))).zero,nextPageCursor:"",requestId:c("pageID"),roles:c("LSVec").ofArray([j.of_int32(0)]),searchText:b,source:j.of_int32(8),threadKey:e,threadRoles:c("LSVec").ofArray([])})},"readwrite")});return function(a){return f.apply(this,arguments)}}(),[g,a,e]),p=l(function(){return[{dataSource:{bootstrap:function(){},fetchCache:function(){return{entries:[],params:{query:""}}},fetchNetwork:function(a){return new(h||(h=b("Promise")))(function(b){(a.query!==k.current||a.query===""&&k.current!=="")&&(k.current=a.query,c("promiseDone")(o(k.current))),f.length!==0&&(n.current=f),b({entries:f.length===0?n.current:f,params:a})})}},matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[f,o]);return c("useCometMentionsDataSourceResolverConfig")(p,!1)}g["default"]=a}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWChatComposerMentionsViewItem.react","ReQL","ReQLSuspense","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","useBlockeesInThread","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useEffect,m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var b=a.editor,e=a.fbGroupId,g=a.folderId;a=a.threadFBID;var j=(h||(h=c("useReStore")))(),n=c("useBlockeesInThread")((i||(i=d("I64"))).of_string(a)),o=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(j.table("community_members").index("communitySource")).getKeyRange(e,(i||(i=d("I64"))).of_int32(8),c("pageID")).filter(function(a){return!n.includes((i||(i=d("I64"))).to_string(a.contactId))}).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.table("contextual_profile_v1")).getKeyRange(a.contactId,g),f.id+":63"))==null?void 0:b.profileName;return{key:(i||(i=d("I64"))).to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[j,e,g]);a=c("useMWCMMentionsDataSourceResolverConfig")(e,i.of_string(a),o);o=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view});var p=d("useCommunityMembers").useClearMemberList(8);l(function(){return function(){c("promiseDone")(p(c("pageID")))}},[p]);return k.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWLSThread","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo,l=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.isAiBotMentionsEnabled,g=a.participants,h=a.threadFBID,n=l((i||(i=d("I64"))).of_string(h));a=k(function(){return{isAiBotMentionsEnabled:f,participants:g,threadFBID:h,triggerParticipantsSearch:n}},[f,g,h,n]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var o=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view}),p=d("MWLSThread").useThreadExn(i.of_string(h)),q=c("useCommunityFolder")(p);d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(e,p.threadKey,f);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(p.threadType)&&q||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(p.threadType))){var r;return j.jsx(b("cr:2600"),{editor:e,fbGroupId:(r=q==null?void 0:q.fbGroupId)!=null?r:p.threadKey,folderId:(r=q==null?void 0:q.folderId)!=null?r:p.threadKey,threadFBID:h})}else return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLComposerInner.react",["CometMessengerComposerInner.react","I64","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.ariaDescribedBy,e=a.contentEditableRef,f=a.editor,g=a.endContent,h=a.handlePastedFiles,k=a.isAiBotMentionsEnabled,l=a.isSecureThread,m=a.participants,n=a.placeholderText;n=n===void 0?"Aa":n;var o=a.policyProduct,p=a.startContent,q=a.style,r=a.surface,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=d("MWLSThread").useThread((i||(i=d("I64"))).of_string(t),function(a){return a.threadSubtype});a=a&&j.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,isAiBotMentionsEnabled:k,participants:m,threadFBID:t});return j.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:b,contentEditableRef:e,editor:f,endContent:g,handlePastedFiles:h,isSecureThread:l,mentionsPlugin:a,placeholderText:n,policyProduct:o,startContent:p,style:q,threadSubtype:v,topContent:u,surface:r,testId:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101","cr:6138"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:3101")||b("cr:6138");a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(h!=null&&a instanceof h.MessengerLexicalCommandNode){e=a.getEntity();b.push({id:e.commandId,length:a.getTextContent().length,offset:c,type:a.getRangeType()})}c+=a.getTextContent().length})});return b}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext,k=b.useMemo,l=c({});function a(a){var b=a.children,c=a.onMessageSendAttempt;a=j(l);var d=a.onMessageSendAttempt;a=k(function(){return{onMessageSendAttempt:function(a){d==null?void 0:d(a),c==null?void 0:c(a)}}},[d,c]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","ix","CometImageCover.react","I64","LSIntEnum","MWChatFileIcon.react","MWV2ComposerMediaProgressBar.react","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXText.react","MessagingAttachmentType","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react")),o=k.useCallback,p={button:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},file:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",userSelect:"x87ps6o",$$css:!0},fileContainer:{width:"x2pejg6",$$css:!0},fileContent:{flexGrow:"x1iyjqo2",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},playIcon:{marginStart:"x16hk5td",marginLeft:null,marginRight:null,marginTop:"x7wgvq7",position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},video:{objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=o(function(){return e(b.offlineAttachmentId)},[b.offlineAttachmentId,e]);var f=!(l||(l=d("I64"))).equal(b.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(l||(l=d("I64"))).equal(b.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!q(b);return n.jsxs("div",{className:(j||(j=c("stylex")))(p.itemContainer,f&&p.fileContainer),"data-testid":void 0,children:[n.jsxs("div",{className:j(p.previewContainer,f&&p.filePreviewContainer),children:[n.jsx(r,{mediaStaging:b}),n.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]}),n.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:n.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:a,size:24,type:"overlay"})})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function r(a){a=a.mediaStaging;var b=a.attachmentType,e=a.previewUrl;if(q(a)||(l||(l=d("I64"))).equal(b,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))if(e!=null)return n.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null;if((l||(l=d("I64"))).equal(b,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))if(e!=null)return n.jsxs(n.Fragment,{children:[n.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),n.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:n.jsx(c("MWXImage.react"),{src:i("354763")})})]});else return null;return n.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[n.jsx(c("MWChatFileIcon.react"),{}),n.jsx("div",{className:"x1iyjqo2",children:n.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.react",["fbt","ix","CometFileSelector.react","MWV2ComposerMediaStagingItem.react","MWXIcon.react","MWXPressable.react","fbicon","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexWrap:"xozqiw3",justifyContent:"x1nhvcw1",overflowX:"xw2csxc",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},uploadPlaceholderRoot:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",marginLeft:null,marginRight:null,position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function m(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=c("useMWV2ComposerOnFilesSelected")(b);return k.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:b,children:function(a){return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return a()},xstyle:l.uploadPlaceholderRoot,children:k.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;return b.length===0?null:k.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[k.jsx(m,{onAttachmentsAdded:e,supportedFileTypes:a}),b.map(function(a){return k.jsx(c("MWV2ComposerMediaStagingItem.react"),{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.createElement,n=b.useCallback,o=b.useRef,p=e({current:{enabled:!0,handler:null}});function q(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return m(p.Provider,{children:b,value:a})}var r={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function s(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function t(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function u(a,b){var d=t(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite"))}function v(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var w=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=o({enabled:!1,handler:null}),m=o(null),p=(i||(i=c("useReStore")))(),t=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=!c("gkx")("1835569");var x=e===!0||g||t;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!s(a).some(function(a){return w.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=n(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!t){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(v):d;d.length!==a.length&&u(p,d.length);!x&&a.length!==0&&b(a)},[f,x,t,p]);c("useFileDragEvents")(e,m.current,function(a){return!0});return l.jsxs("div",{className:(j||(j=c("stylex")))(r.root,(e=a)!=null?e:!1),ref:m,children:[l.jsx(q,{fileUploadHandlerConfigRef:k,children:b}),!x&&g?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=p;g.MWV2FileDropzone=a}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._("__JHASH__HXazdxq92Fj__JHASH__"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function a(a){var e=a.editor;a=function(a){c("promiseDone")(n.load().then(function(c){c(a,e,16);return(i||(i=b("Promise"))).resolve()}))};var f=c("MessengerWebUXLogger").useInteractionLogger();return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),preloadTrigger:c("gkx")("10613")?"button":void 0,children:function(a,b,e,g,h,i,j){return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{"aria-label":l,onHoverIn:g,onHoverOut:h,onPress:function(a){b(),n.preload(),f==null?void 0:f({eventName:"composer_open_emoji_picker"})},onPressIn:i,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.buttonMDS:m.buttonFDS]},children:k.jsx(d("MWChatComposerIcons").MWChatComposerIconsEmoji,{fill:"var(--chat-composer-button-color)",size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerFileButton.react",["fbt","CometFileSelector.react","MWChatComposerIcons","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__irWVZkNfl97__JHASH__");function a(a){var b=a.disabled,e=a.onAttachmentsAdded;a=a.supportedFileTypes;e=c("useMWV2ComposerOnFilesSelected")(e);var f=c("MessengerWebUXLogger").useInteractionLogger();return j.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:e,children:function(a){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:j.jsx(c("MWXPressable.react"),{"aria-label":l,disabled:b,onPress:function(){a(),f==null?void 0:f({eventName:"composer_open_file_picker"})},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsPhoto,{fill:b?void 0:"var(--chat-composer-button-color)",size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerSendButton.react",["fbt","Locale","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var l=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),m={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};function a(a,b){var e=a.disabled,f=a.onPress,g=c("MessengerWebUXLogger").useInteractionLogger();return k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{disabled:e,label:l,onPress:function(){f(),g==null?void 0:g({eventName:"composer_send_message"})},overlayDisabled:e,overlayRadius:"50%",ref:b,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.buttonMDS:m.buttonFDS,d("Locale").isRTL()&&m.reverse]},children:k.jsxs("svg",{className:(i||(i=c("stylex")))(d("MWChatChatButtonColorConstants").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:"var(--chat-composer-button-color)"})]})})})}a.displayName=a.name+" [from "+f.id+"]";b=k.forwardRef(a);g["default"]=b}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a,b,c,d,e){b=b.toString();return{data:{decorType:"regular",handle:b,key:a,label:b,rawData:{icon:d,subtitle:c.toString()},type:"entry"},rangeType:e}}e=[a("silent",h._("__JHASH__fM-I8ly761K__JHASH__"),h._("__JHASH__bcTzx6eBHE9__JHASH__"),d("fbicon")._(i("549627"),16),"s")];f=e.map(function(a){return a.data});var j=e.reduce(function(a,b){var c;a[(c=b.data.handle)!=null?c:b.data.key]=b.rangeType;return a},{});function b(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command %s used. Please add the command to the mapping in MWCommandsComposerPluginCommandList",a);return"n"}return b}g.commands=f;g.commandToRangeType=b}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginCommandList","MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b;return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:"0",commandPrefix:"/",handle:c("cometMentionsDataEntryText")(a),rangeType:d("MWCommandsComposerPluginCommandList").commandToRangeType((b=a.handle)!=null?b:a.key)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={view:{minWidth:"x1jzhcrs",$$css:!0}},m=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(k(function(){return[{dataSource:new m(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:l.view});return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.initiatingSource,f=a.isCommunityEvent,g=a.isMessageRequest,m=a.s2sInstanceKey,n=a.threadType,o=a.traceSendMessageAPI,p={initiatingSource:e,isCommunityEvent:f,isMessageRequest:g,mwVersion:d("MWVersion").v2,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(m));d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(p))});d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(c.table("messages").index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(e=!0,j(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(e=!0,k(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(m)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){g()},6e4)}}g["default"]=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g;g=(g=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,f)}))))!=null?g:[void 0,void 0];g[0];g=g[1];if(g==null)return;var i=babelHelpers["extends"]({},g,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.table("contacts").upsert([g.id],i);yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:g.id})});return function(a){return g.apply(this,arguments)}}(),"readwrite"))}g.call=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.onOptimisticMessageCreation,g=a.skipUrlPreviewGen,h=a.threadKey,m=a.threadType,n=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var o=a.reply,p=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var k=a.afterSend,q=a.attributionAppId,r=a.dataTraceId,s=a.externalAttachmentUrl,t=a.hotEmojiSize,u=a.logSendPoint,v=a.mentionData,w=a.messageText,x=a.messageTypeParams,y=a.optimisticAttachmentPreview,z=a.platformToken,A=a.profileRanges,B=a.s2sInstanceKey,C=a.sendFirstMessageSeparately,D=C===void 0?!1:C,E=a.setupS2SLogging,F=a.source,G=a.stickerID;C=a.transaction;return H(C);function H(a){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),C=c("gkx")("7566");yield l(a,(i||(i=d("I64"))).to_string(h),r);a=(yield d("MultipleTabsLogger").hasMultipleTabs());var H=x.hasAttachment,I=x.hasGif,J=x.hasLinks,K=x.hasSticker,L=x.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:q,calculate_denormalizations:!1,data_trace_id:(b=r)!=null?b:void 0,external_attachment_url:s,hot_emoji_size:t,initiating_source:p,mark_read:i.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:v,multitab_env:a,optimistic_attachment_preview:y,platform_token:z,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:B==null?void 0:B.toString(),reply_source_id:o==null?void 0:o.messageId,reply_source_type:o!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:o!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:F,sticker_id:G,text_has_links:J&&C}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:w,threadKey:h,threadType:m}));u("create_optimistic_message_success");if(!H){a=b[0];E(a)}f!=null&&f({TAG:0,hasLink:J,hasMention:A!=null&&A.length>0,isGIF:I,isReply:!!(o&&o.messageId!==""),isSticker:K,isText:L,offlineThreadingId:b[0]});C=b[0];k!=null&&k(C);return D===!0?null:b});return I.apply(this,arguments)}},[h,p,e,o,g,n,m,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,d=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,onOptimisticMessageCreation:b,skipUrlPreviewGen:d,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i){h.onReady(function(h){return h.log({actor:c,attachmentFbids:e,attachmentType:g,backend:0,hasReply:i,offlineThreadingId:d,sendType:0,source:f,threadKey:a,threadType:b})})}g.log=a}),98);
__d("useMWV2SendOpenStagedMedia",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","gkx","react","updateAndFlushLSDataTrace","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return o.apply(this,arguments)}function a(a){var e=a.onOptimisticMessageCreation,f=a.thread,g=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var h=a.reply,m=c("useLSMessagingInitiatingSource")(),o=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.firstAttachmentTypeContents,k=a.isFirstMessage;k=k===void 0?!1:k;var p=a.isFirstMessageText,q=a.mediaStagings,r=a.sendFirstMessageSeparately;r=r===void 0?!1:r;var s=a.setupS2SLogging,t=a.source,u=a.transaction,v=c("LSFactory")(u);a={contents:b};b=q[0];if(q.length===0){d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,void 0,[],t,a.contents,h!=null);return}var w={contents:!0};a.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(b.attachmentType);b=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(q,o);for(var x=0;x<b.length;x++)if(r===!1||x===0&&k===!0&&p===!1||k===!1){var y=b[x],z=c("LSGenerateTraceId")(),A=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(v,{attachments:c("LSVec").ofArray(y.map(d("LSShape").ofRecord)),replySourceId:h==null?void 0:h.messageId,replySourceType:h!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:h!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:g,threadKey:f.threadKey,threadType:f.threadType})),B=A[0];x===0&&s(B);yield u.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:m,markThreadRead:!1,messageId:void 0,offlineThreadingId:B,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(i||(i=d("I64"))).of_string(B),threadAttributionSource:t,threadKey:f.threadKey});e!==void 0&&e({TAG:2,numberOfAttachments:y.length,offlineThreadingId:B});yield l(u,z,i.of_int32(y.length),a.contents);A=function*(a){var b=y[a];yield c("LSInsertNewMediaSendStoredProcedure")(v,{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(a),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:B,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=q.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(a!=null){var e=a.fbid;e!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(v,{fbid:e,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(u,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(u,f.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(e)})}))}w.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(u,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(u,f.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var C=0;C<y.length;C++)yield* A(C);d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,B,y.map(function(a){return a.attachment_fbid}),t,a.contents,h!=null);yield d("MWPOpenComposerUtils").resumeSendJob(v,B,(A=z)!=null?A:void 0);yield n(u,i.to_string(f.threadKey),z);yield c("updateAndFlushLSDataTrace")(u,z)}C=(i||(i=d("I64"))).to_string(f.threadKey);A=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[C,null]:[null,C];var D=A[0],E=A[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:w.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:E,thread_fbid:D}})});return function(b){return a.apply(this,arguments)}}(),[o,f.threadKey,f.threadType,g,h,m,e])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","Int64Hooks","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","promiseDone","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,i=a.onUploadSuccess,n=a.sendMessageLogger,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=(h||(h=c("useReStore")))(),t=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var u=a.reply,v=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var h=a.dataTraceId,l=a.setupS2SLogging,w=a.source,x=a.transaction;a=a.voiceClip;var y=c("LSFactory")(x),z=d("OfflineThreadingId").createOfflineThreadingID(),A=d("MWPComposerMediaUploadUtil").getAudioAttachment(z,a.file,a.duration,a.waveformData);yield m(x,h,(k||(k=d("I64"))).one,2);var B=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(y,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(A)]),replySourceId:u==null?void 0:u.messageId,replySourceType:u!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:u!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:t,threadKey:q,threadType:r})),C=B[0];l(C);yield x.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:v,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:k.of_string(C),threadAttributionSource:w,threadKey:q});e!=null&&e({TAG:1,offlineThreadingId:C});yield c("LSInsertNewMediaSendStoredProcedure")(y,{attachmentType:A.attachment_type,inMessageIndex:k.zero,isSecure:!1,offlineAttachmentId:z,offlineThreadingId:C,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});B=function(a,e){if(e==null)return;c("promiseDone")(s.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSFactory")(a);yield c("LSMarkSubJobCompletedV2StoredProcedure")(a,{fbid:(k||(k=d("I64"))).of_float(e),offlineAttachmentId:z});yield d("MWPOpenComposerUtils").resumeSendJob(a,C,h);o(A.playable_url,e,s,q)});return function(b){return a.apply(this,arguments)}}(),"readwrite"));n({actor:t,attachmentFbids:[(k||(k=d("I64"))).to_string(k.of_float(e))],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(A.attachment_type),hasReply:u!=null,key:q,offlineThreadingId:C,source:w,type:r});i&&i(a)};l=function(a,b){if(f){f((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)}};d("MWPComposerMediaUploadUtil").startUpload(g,void 0,B,l,!0,[a.file],[z],void 0,void 0,a.waveformData,void 0,k.to_string(t))});return function(b){return a.apply(this,arguments)}}(),[s,t,q,r,u,v,p,e,g,n,i,f])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,e=a.onUploadFailure,f=a.onUploadStart,g=a.onUploadSuccess,h=a.skipUrlPreviewGen;a=a.thread;var i=d("Int64Hooks").useCallbackInt64(function(a){var b=a.actor,c=a.attachmentFbids,e=a.attachmentType,f=a.hasReply,g=a.key,h=a.offlineThreadingId,i=a.source;a=a.type;b!=null&&d("MWPSendMessageLogger").log(g,a,b,h,c,i,e,f)},[]);return c("useMWV2SendOpenVoiceClipImplShared")({onOptimisticMessageCreation:b,onUploadFailure:e,onUploadStart:f,onUploadSuccess:g,sendMessageLogger:i,skipUrlPreviewGen:h,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,k=a.skipUrlPreviewGen,l=a.thread,m=c("useAsyncReStore")();a=j(d("MWPReplyContext.react").MWPReplyContext);var n=a.reply,o=c("useLSMessagingInitiatingSource")(),p=c("useMWLSDefaultThreadSource")(),q=c("useMWV2SendOpenVoiceClip")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,skipUrlPreviewGen:k,thread:l}),r=c("useMWV2SendOpenStagedMedia")({onOptimisticMessageCreation:e,thread:l}),s=c("useMWV2SendOpenMessageImpl")({onOptimisticMessageCreation:e,skipUrlPreviewGen:k,thread:l}),t=d("LSMessagingThreadTypeUtil").isMessageRequest(l);a=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var u=a.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j,k,v,w,x,y,z,A,B){y===void 0&&(y=!1);z===void 0&&(z=!1);var C=!1;u==null?void 0:u(!0);function D(a){A.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(B,a)}var E=p(l.threadKey),F=c("LSGenerateTraceId")(),G={contents:1},H=l.eventStartTimestampMs!=null,I=l.threadType,J=(yield m),K=c("MWV2SetupS2SLoggingShared")({db:J,initiatingSource:o,isCommunityEvent:H,isMessageRequest:t,s2sInstanceKey:B,threadType:I,traceSendMessageAPI:A});return J.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("media_staging")).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,l.threadKey)}))),m=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,n,f,j,v,c);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(A,m,l,o);d("sendToSentQPLLogger").addSendToSentAnnotations(B,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(l,m,o));if(v!=null){yield q({dataTraceId:F,setupS2SLogging:K,source:E,transaction:b,voiceClip:v});return}var p=m.hasGif,t=m.hasSticker,u=m.hasText;t?G.contents=4:p&&(G.contents=6);var H=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;D("before_create_optimistic_message");u||t||p?(C=!0,(y===!1||z===!0)&&(yield s({afterSend:x,attributionAppId:h,dataTraceId:F,externalAttachmentUrl:j,hotEmojiSize:g,logSendPoint:D,mentionData:H,messageText:a,messageTypeParams:m,optimisticAttachmentPreview:k,platformToken:w,profileRanges:e,s2sInstanceKey:B,sendFirstMessageSeparately:y,setupS2SLogging:K,source:E,stickerID:f,transaction:b}))):x!=null&&x();yield r({firstAttachmentTypeContents:G.contents,isFirstMessage:z,isFirstMessageText:C,mediaStagings:c,sendFirstMessageSeparately:y,setupS2SLogging:K,source:E,transaction:b})});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){return a.apply(this,arguments)}}(),[p,o,t,m,n,r,q,s,u,l])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useContext,l=b.useMemo;function a(a){var b=a.afterSendMessage,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,j=a.onUploadSuccess,m=a.skipUrlPreviewGen,n=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.clearReply,r=n.threadSubtype,s=l(function(){return{is_community_event:(n.eventStartTimestampMs!=null).toString(),isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(n.threadKey),thread_subtype:r&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(r)?(i||(i=d("I64"))).to_string(r):"",thread_type:i.to_string(n.threadType)}},[n,r]),t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,s),u=c("useMWV2SendOpenMessage")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:j,skipUrlPreviewGen:m,thread:n});return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,i,j,k,l,m,r,v){r===void 0&&(r=!1);v===void 0&&(v=!1);var w=d("LSMessagingThreadTypeUtil").isMessageRequest(n);return t(function(t){var x=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:s});c("promiseDone")(u(a,e,f,g,h,i,j,k,l,m,r,v,t,x),function(){b(),q(n.threadKey,!1),d("MAWOptimisticUpdateContactRelationship").call(n,o,p),w&&d("MessageRequestsLog").logActionConfirmed(n,1)})})},[n,t,s,u,b,q,o,p])}g["default"]=a}),98);
__d("MAWMediaManagerUtilsDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWMediaManagerUtils").__setRef("MAWMediaManagerUtilsDeferred");b=a;g["default"]=b}),98);
__d("MWSharedMediaManagerUtils",["I64","LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil","MWPreloadableQueries","Promise","ReQLSuspense","asyncToGeneratorRuntime","justknobx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return new(k||(k=b("Promise")))(function(b){var c=new Image();c.onload=function(){return b({previewHeight:c.height,previewWidth:c.width})};c.onerror=function(){return b()};c.src=a})}function m(a){return new(k||(k=b("Promise")))(function(b){var c=document.createElement("video");c.onloadedmetadata=function(){return b({previewHeight:c.videoHeight,previewWidth:c.videoWidth})};c.onerror=function(){return b()};c.src=a})}function n(a,b){if(b==null||a==null)return;var c=Math.floor(a.previewHeight*b.previewWidth/a.previewWidth);return c>=b.previewHeight?{previewHeight:(i||(i=d("I64"))).of_float(c),previewWidth:i.of_float(b.previewWidth)}:{previewHeight:(i||(i=d("I64"))).of_float(b.previewHeight),previewWidth:i.of_float(a.previewWidth*b.previewHeight/a.previewHeight)}}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield (k||(k=b("Promise"))).all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var e=URL.createObjectURL(b),g;c("justknobx")._("1704")===!0&&b.type.includes("video/")?g=(yield m(e)):g=(yield l(e));return[{attachmentType:d("MWPComposerMediaUploadUtil").getAttachmentType(b),durationMs:void 0,fbid:void 0,filename:b.name,fileSize:(i||(i=d("I64"))).of_int32(b.size),hasError:!1,isSent:!1,mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),mimeType:b.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:e,progress:0,threadKey:f},g]});return function(b){return a.apply(this,arguments)}}())));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.table("sync_groups").get((i||(i=d("I64"))).of_float(1))),e;if((c==null?void 0:c.syncParams)!=null){c=JSON.parse(c.syncParams);var f=c.preview_height;c=c.preview_width;e={previewHeight:f,previewWidth:c}}yield (k||(k=b("Promise"))).all(g.map(function(b){var c=b[0];b=b[1];return a.table("media_staging").add(babelHelpers["extends"]({},c,n(b,e)))}))});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return o.apply(this,arguments)}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"](b)},"readwrite")}function p(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":167")}g.insertMediaStaging=a;g.deleteMediaStaging=e;g.useMediaStaging=p}),98);
__d("MWMediaManager",["FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.react","MWChatFileUploadErrorDialog.react","MWPActor.react","MWSharedMediaManagerUtils","Promise","cr:6986","emptyFunction","gkx","promiseDone","requireDeferred","useMWXAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("MWOpenMediaManagerUtils").__setRef("MWMediaManager"),l=function(){if(b("cr:6986")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return(j||(j=b("Promise"))).resolve(null)}return b("cr:6986").load()},m=c("gkx")("1147754")?75:25;function n(a,c){if(c)return l().then(function(c){return(c=c==null?void 0:c.preprocess(a))!=null?c:(j||(j=b("Promise"))).resolve([])});else return k.load().then(function(b){return b.preprocess(a)})}function o(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],f=c(e,b);if(e.size>f*1024*1024)return f}return null}function a(a){var e=a.chatSupportUserId,f=a.chatSupportUserNonce,g=a.getMaxAttachmentSizeInMB,p=g===void 0?function(){return m}:g,q=a.isChatSupportUser,r=a.onUploadFailure,s=a.onUploadStart,t=a.onUploadSuccess,u=a.showUploadFailureToast,v=a.thread,w=(i||(i=c("useReStore")))(),x=c("useMWXAlertDialog")({onClose:c("emptyFunction")}),y=d("LSMessagingThreadTypeUtil").isSecure(v.threadType),z=d("MWSharedMediaManagerUtils").useMediaStaging(v),A=d("MWPActor.react").useActor();g=d("Int64Hooks").useCallbackInt64(function(a){var g=o(a,y,p);if(g!=null){x(d("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(g),c("emptyFunction"));return}c("promiseDone")(n(a,y)["catch"](function(){x(d("MWChatFilePreProcessingErrorDialog.react").invalidFileFormat,c("emptyFunction"));return(j||(j=b("Promise"))).resolve([])}).then(function(a){c("promiseDone")(d("MWSharedMediaManagerUtils").insertMediaStaging(w,a,v.threadKey));var b=v.threadKey;return y?l().then(function(c){return c==null?void 0:c.upload(w,b,a)}):k.load().then(function(c){return c.upload(w,b,a,u,s,t,r,q,e,f,(h||(h=d("I64"))).to_string(A))})}))},[A,e,f,w,p,q,y,r,s,t,x,u,v.threadKey]);a=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils").deleteMediaStaging(w,a).then(function(){if(y&&b("cr:6986")!=null)return b("cr:6986").load().then(function(b){b.MAWMediaManagerAttachments["delete"](a)})}))};var B=function(){var a=z.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils").deleteMediaStaging(w,a)["catch"](function(a){c("FBLogger")("MWMediaManager").catching(a).mustfix("Error deletting media staging.")})});y&&b("cr:6986")!=null&&c("promiseDone")(b("cr:6986").load().then(function(b){b.clearAttachments(a)}))};return{handleFileRemove:a,handleFileSelect:g,mediaStaging:z,resetAttachments:B}}g.useMediaManager=a}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){var c={enabled:!0,handler:a};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a])}g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),k),d=b[0],e=b[1];j(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MessengerWebUXLogger","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return k.jsxs(k.Fragment,{children:[b&&k.jsx("span",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("CometMiddot.react"),{})}),k.jsx("span",{"data-testid":void 0,ref:d,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditedEyebrowWithHistory.react",["fbt","MWXLink.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(){var a=k(!1),b=a[0],d=a[1];function e(){d(!b)}a=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var f=b?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__3fxL6sM27ni__JHASH__");return j.jsx(c("MWXLink.react"),{color:"blueLink",onClick:e,ref:a,weight:"medium",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","MercuryTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return k.jsxs("div",{children:[k.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(b)))])}),k.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a==null)return!1;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g["default"]=a}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","LSIntEnum","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","cr:1654","cr:6194","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useMemo;function n(a){a=a.ts;return l.jsx("div",{children:a!=null?"Uploaded to EB: "+a:null})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.ts;return l.jsx("div",{children:a!=null&&a>0?"Send Latency: "+a.toString()+"ms":null})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId),i=b("cr:6194")==null?void 0:b("cr:6194")(f.messageId);a=m(function(){var a=f.isUnsent,b=f.unsentTimestampMs;if((j||(j=d("I64"))).equal(f.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(65536))){var e=h._("__JHASH__OwAZycr4-8G__JHASH__");return[e,e]}if(b!=null&&a)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:f.timestampMs,unsentTimestampMs:b}),h._("__JHASH__8eZEd_EeDsx__JHASH__")];e=h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(f.timestampMs)))]);return[l.jsxs("div",{children:[l.jsx(o,{ts:g}),l.jsx(n,{ts:i}),l.jsx("div",{children:e})]}),e]},[f,g,i]);var p=a[0];a=a[1];return l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,position:"start",tooltip:p,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("useMAWQPLLogger",["QPLUserFlow","Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQueryStoredProcedure","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","MWEncryptedBackupsIssueRangeQueryDeferred","Promise","ReQL","ReQLSuspense","gkx","promiseDone","qpl","react","useMAWQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=k||d("react");var l=a.useCallback,m=a.useMemo;e={useFetchCutoverMessages:function(a,e,g){var k=(j||(j=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.table("messages_ranges_v2__generated")).getKeyRange(a)},[k,a],f.id+":44"),n=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(k.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[k,e],f.id+":51"),o=l(function(a){c("promiseDone")(k.runInTransaction(function(d){if(e!=null&&n!=null)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(d),{direction:a,referenceTimestampMs:n.minTimestampMs,threadKey:e});else return(h||(h=b("Promise"))).resolve()},"readwrite"))},[k,n,e]);return l(function(b){if(m==null)return;var e=m.hasMoreBefore,f=d("MAWDbMsg").toMsgId(m.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(k,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:g,direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:k,newerNumMessages:(i||(i=d("I64"))).zero,numMessages:i.of_string("10"),sortOrderMs:i.of_float(a.minMsgTimestampMs),threadId:c});if(!e)return o(b)})})}))},[m,k,a,o])},useFetchSecureMessages:function(a){var e=(j||(j=c("useReStore")))(),f=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974")),g=f.addQPLAnnotations,k=f.markQPLFailure,l=f.markQPLPoint,n=f.markQPLStart,o=f.markQPLSuccess;return m(function(){return function(f,j,m){var p=n();function q(a){l(p,"load_more_msgs_success","successfully loaded messages from worker"),g(p,a)}d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");l(p,"before_start_load_more_msgs","before fetching messages range from table");g(p,{string:babelHelpers["extends"]({direction:m,thread_id:(i||(i=d("I64"))).to_string(j)},a!=null?{thread_type:(i||(i=d("I64"))).to_string(a)}:{})});return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(j)).then(function(a){if(a!=null&&!a.isLoadingBefore&&m==="before"){l(p,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,j,"MAWFetchMoreMessages",function(b,g,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");l(p,"put_message_range","put txn in messages_ranges_v2__generated table");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),l(p,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:h,direction:m,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:g}).then(function(b){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+b.hasMoreBefore.toString());q({bool:{hasMoreBefore:b.hasMoreBefore}});if(b.hasMoreBefore){o(p);return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:g}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);l(p,"issued_range_query","useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);o(p);return d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:e,newerNumMessages:(i||(i=d("I64"))).zero,numMessages:i.of_string("10"),sortOrderMs:i.of_float(a.minMsgTimestampMs),threadId:g})})}))})})["catch"](function(a){k(p,a)})}if(c("gkx")("8830")&&a!=null&&!a.isLoadingAfter&&m==="after"){l(p,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,j,"MAWFetchMoreMessages",function(b,e,g){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),l(p,"send_loadMoreMsgs_to_backend","useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:g,direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.maxMessageId),threadId:e}).then(function(a){q({bool:{hasMoreAfter:a.hasMoreAfter}}),d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())})["catch"](function(a){k(p,a)}))})})["catch"](function(a){k(p,a)})}g(p,{bool:{isLoadingAfter:a==null?void 0:a.isLoadingAfter,isLoadingBefore:a==null?void 0:a.isLoadingBefore}});l(p,"already_loading_messages","end the load more QPL event.");o(p);return(h||(h=b("Promise"))).resolve()})["catch"](function(a){k(p,a)})}},[g,e,k,l,n,o,a])}};a=e;g["default"]=a}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=m(function(){return o(e,b)});var f=a[0],g=a[1];a=n(f);var i=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){f>0&&c("setTimeout")(function(){return g(f-1)},d("MAWEphemeralConsts").msPerSec)},[f,e]);return f>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:i}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);function a(){return k(l).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j,n=m.createContext,o=m.useCallback,p=m.useContext,q=m.useEffect,r=m.useMemo,s=m.useRef,t=m.useState,u=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function v(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function w(){return v(c("bx").getURL(c("bx")("577")))}function x(a){var b=Array.from(u.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function y(a){return h._("__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}y.displayName=y.name+" [from "+f.id+"]";m={activeAudio:null,activeThreadKey:(k||(k=d("I64"))).zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:v,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:y(u.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var z=n(m);function a(a,b,c){var e=p(z),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,l=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||(k||(k=d("I64"))).is_zero(g)||(k||(k=d("I64"))).is_zero(l))return;j(!(k||(k=d("I64"))).equal(g,l));return function(){j((k||(k=d("I64"))).equal(g,l))}},[f,g,j,c,l]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return v(a);b!=null&&b!==""&&h(a,b);return i(a,l)}},[h,i,b,a,c,l])}function e(){var a=p(z),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function A(){var a=p(z),b=a.activeAudio,e=a.activeThreadKey;a=a.clearActiveAudio;var g=(i||(i=c("useReStore")))(),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("threads")).getKeyRange(e)},[g,e],f.id+":168");return[b,a,h]}function B(a){a=a.children;var b=s(new Map()),c=s(new Map()),e=s([]);q(function(){var a=e.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var f=t(u.NORMAL),g=f[0],h=f[1],i=r(function(){return y(g)},[g]);f=t((k||(k=d("I64"))).zero);var j=f[0],m=f[1];f=t(null);var n=f[0],p=f[1];f=t(!1);var A=f[0],B=f[1],C=(n==null?void 0:n.paused)===!1,D=r(function(){return A&&C?n:null},[n,C,A]),E=o(function(){p(function(a){a!=null&&a.pause();return null})},[]),F=o(function(a,d){var f,h=(f=b.current.get(a))!=null?f:v(a);h.playbackRate=g;f=function(a,b){h.addEventListener(a,b),e.current.push([h,a,b])};var i=function(){var d=c.current.get(a);if(d!=null){var e=b.current.get(d);if(e!=null&&e.paused)return void w().play().then(function(){p(e);return e.play()["catch"](function(){return p(null)})})}p(null)};f("ended",i);i=function(){for(var a=b.current.values(),c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}p(h);m(d)};f("playing",i);b.current.set(a,h);return h},[g]),G=o(function(){h(function(a){a=x(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),H=o(function(a,b){c.current.set(a,b)},[]);f=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:D,activeThreadKey:j,addNextPlayableUrl:H,clearActiveAudio:E,getNewOrExistingAudio:F,onChangePlaybackRate:G,playbackRateLabel:i,setUseOutOfChatPlayback:B}},[D,j,H,E,F,G,i]);return l.jsx(z.Provider,{value:f,children:a})}B.displayName=B.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=A;g.MWPAudioPlaybackContextProvider=B}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWPAudioPlaybackContext.react","cancelAnimationFrame","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("4435");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}function v(a,b,c){return Math.min(Math.max(b,a),c)}function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,e,f,g){var h=u(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=p(j);a=q(z.NONE);var l=a[0],n=a[1];b=q(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var r=b[1];o(function(){if(j==null){n(z.NONE);return}j.ended&&n(z.ENDED);n(function(){return j.paused?z.PAUSED:z.PLAYING});r(j.currentTime);k.current=j},[j]);o(function(){var a=k.current;if(a==null)return;var b=function(){return n(z.PAUSED)},c=function(){return n(z.PLAYING)},d=function(){return n(z.LOADING)},e=function(){k.current!=null&&r(k.current.currentTime)},f=function(){k.current=a,b()},g=function(){k.current!=null&&(k.current.currentTime=0,r(0)),n(z.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[j,h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return n(z.PLAYING)},i);return;case z.PLAYING:a.pause();n(z.PAUSED);return}},[i,l]);var s=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;r(a)},[]);return[l,a,k,b,y(g,k,a,l===z.PLAYING,f,l===z.ENDED),s]}function B(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useOutOfChatControlCenter=B}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var h=d("MWPAudioPlayerUtils").useShowNewUX();h=h?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?b:void 0;if(g)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:h});return f||e||c?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:h}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderEndColor":"x1b5s2of","::after_borderBottomColor":"xv84cap","::after_borderStartColor":"x15ngzmr","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_left":null,"::after_right":null,"::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__KhMMxBdqg3x__JHASH__");b=h._("__JHASH__2rBFW-RfRDV__JHASH__");c=h._("__JHASH__IubwmxlTNhe__JHASH__");g.playLabel=a;g.stopLabel=b;g.pauseLabel=c}),98);
__d("MWPAudioPlaybackButton.react",["MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.isLoading,e=a.onPress,f=a.scrubberRef,g=a.backgroundColor,i=a.disabled,k=a.hasEnded,l=a.isPaused,m=a.isPlaying;a=a.outgoing;var n=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();f=d("MWPAudioPlayerUtils").useResetHighlightProgress(f);var o=m||l;return b?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:o?f:void 0,style:n,children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):j.jsx("div",{onMouseMove:o?f:void 0,style:n,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:i,icon:j.jsx(c("MWPAudioPlaybackIcon.react"),{backgroundColor:g,disabled:i,hasEnded:k,isPaused:l,isPlaying:m,outgoing:a}),label:m?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.scrubberRef,i=a.style,l=a.testid;l=a.useCase;a=d("MWPAudioPlayerUtils").useShowNewUX();var m=k(),n=function(a){var c=b.current,e=m.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)},o=function(a){if(m.current!=null&&g.current!=null)return g.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,m.current)*100)},p=function(){if(g.current!=null)return g.current.updateHighlight(0)};i=babelHelpers["extends"]({cursor:f?"pointer":"default",height:a&&l===d("MWPAudioPlayerUtils").UseCase.PLAYER?70:36},i);a=f&&!a;return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:l,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:a?n:void 0,onMouseLeave:f?p:void 0,onMouseMove:a?o:void 0,ref:m,style:i,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j.forwardRef;e=b(a);function a(a,b){var e=a.currentTime,f=a.duration;a=a.xPosition;return k.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":e,className:(i||(i=c("stylex")))(e===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),p=3,q=3,r=44,s=4;function t(a,b){var c=l(function(){return a==null||a===""?o:Float32Array.from(a.split(",").map(Number))},[a]);return l(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(q*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),s,r);return a.map(function(a,b){a=Math.ceil(a);var c=p,d=q;b=b*q*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function u(a){var b=a.hasEnded,e=b===void 0?!1:b;b=a.isPlaying;var f=b===void 0?!1:b,g=a.outgoing,i=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var l=m(null);a=n("auto");var o=a[0],p=a[1];k(function(){var a=l.current;p(function(){var b="auto";(e||f)&&(b=g===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return i>c?g===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,i]);a=g===!0?(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle):(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return j.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:l,style:{fill:o}}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.hasEnded,e=a.isListened,f=a.isPlaying,g=a.outgoing,i=a.scrubberLeft;a=a.waveformData;var l=m(null),o=n(0),p=o[0],q=o[1],r=b===!0||e===!0;k(function(){if(l.current!=null){var a=l.current.getBoundingClientRect();q(a.width)}},[]);o=t(a,p);return o.length===0?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l}):j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l,children:j.jsx("svg",{"aria-hidden":!0,className:h(d("MWPAudioPlayerSharedStyles").styles.mask),children:o.map(function(a,b){return j.createElement(u,babelHelpers["extends"]({},a,{hasEnded:r,isPlaying:f,key:b,outgoing:g,scrubberLeft:i}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useImperativeHandle,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=e(function(a,b){var e=a.audioEl,f=a.children,g=a.duration,i=a.hasEnded,o=a.isListened,q=a.isPlaying;q=q===void 0?!0:q;var r=a.onUpdateScrubber,s=a.outgoing,t=a.waveformData;a=a.xstyle;var u=d("MWPAudioPlayerUtils").useShowNewUX(),v=m(),w=m(),x=n(0),y=x[0],z=x[1];x=n(0);var A=x[0],B=x[1];l(function(){if((e==null?void 0:e.current)!=null&&w.current!=null&&g!=null&&g>0){var a=e.current.currentTime,b=w.current;B(p(b,a/g*100))}},[e,g]);k(b,function(){return{updateHighlight:function(a){var b=v.current,c=w.current;if(b==null)return;if(u){if(c!=null){c=p(c,a);B(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[u]);x=function(a){if(v.current!=null){var b,c;b=(b=v.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=v.current)==null?void 0:c.offsetWidth)!=null?c:0;z(b/c*100);if(g!=null&&g>0){b=d("MWPAudioPlayerUtils").getMousePos(a,v.current)*g;if(r!=null&&w.current!=null){c=w.current;r(b);B(p(c,b/g*100))}}}};if(u){return j.jsxs(j.Fragment,{children:[f,j.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),onMouseDownCapture:x,ref:v,children:[j.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:e==null?void 0:(b=e.current)==null?void 0:b.currentTime,duration:(x=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?x:0,ref:w,xPosition:y}),j.jsx(c("MWPAudioPlayerWaveform.react"),{hasEnded:i,isListened:o,isPlaying:q,outgoing:s,scrubberLeft:A,waveformData:t})]})]})}return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,a),ref:v})});function p(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function a(a){var b=a.hasScrubber,c=a.progressHighlightRef,e=a.scrubberRef,f=a.audioEl,g=a.children,h=a.currentTime,i=a.duration,k=a.hasEnded,l=a.isListened,m=a.isPlaying;m=m===void 0?!0:m;var n=a.onUpdateScrubber,p=a.outgoing,q=a.waveformData;a=a.xstyle;var r=d("MWPAudioPlayerUtils").useShowNewUX();return r?j.jsx(o,{audioEl:f,duration:i,hasEnded:k,isListened:l,isPlaying:m,onUpdateScrubber:n,outgoing:p,ref:c,waveformData:q,xstyle:a,children:g}):j.jsxs(j.Fragment,{children:[j.jsx(o,{ref:c,xstyle:a}),b?j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:h,duration:i}):null,j.jsx(o,{ref:e,xstyle:a}),g]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=o;g.MWPAudioPlayerHighlightV2=a}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:a.DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:a.LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:a.RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:a.HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:a.END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPThreadThemeGradientUtils","formatDurationSeconds","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=c("useMWPThreadTheme")();e=d("MWPThreadThemeGradientUtils").getBottomGradientColor(e);var f=d("MWPAudioPlayerUtils").useShowNewUX();b=f?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?e:"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!f&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(d("MessengerSurfaceType").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=i.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,i=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield i.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}(),[i,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_product","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["I64","MWLSThreadDisplayContext","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPColorUtils","MessengerSurfaceQuickChat.bs","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react"),o={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function p(a){return l(function(){return[o.root,a?o.outgoing:o.incoming]},[a])}function q(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.getPlayableUrl,f=a.isReply;f=f===void 0?!1:f;var g=a.outgoing;a=a.width;var i=c("useMWPThreadTheme")(),l=i.outgoingGradientColors;i=i.threadTheme;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),o=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(),r=b.playableDurationMs;r=(j||(j=d("I64"))).to_float((r=r)!=null?r:(j||(j=d("I64"))).zero)/1e3;var s=c("useMWNextAttachment")(b),t=e(b);t=c("useMWPAudioWaveformData.react")(b,t);e=d("MWPAudioPlayerUtils").useControlCenter(e(b),s!=null?e(s):void 0,q,!1,r);s=e[0];var u=e[1],v=e[2],w=e[3],x=e[4];e=e[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,b);var y=s===d("MWPAudioPlayerUtils").State.NONE,z=s===d("MWPAudioPlayerUtils").State.PLAYING,A=s===d("MWPAudioPlayerUtils").State.PAUSED,B=s===d("MWPAudioPlayerUtils").State.LOADING;s=s===d("MWPAudioPlayerUtils").State.ENDED;var C=z||A,D=g&&l.length>1,E=m(),F=p(g);l=c("useMWInlineStylesForReply")(i,l,g);var G=l.backgroundAttachment,H=l.backgroundColor;l=l.backgroundImage;G={backgroundAttachment:f?G:void 0,backgroundColor:f?H:g?D?"transparent":d("MWPColorUtils").int64ToHex(i.fallbackColor):"var(--chat-incoming-message-bubble-background-color)",backgroundImage:f?l:void 0,borderRadius:D?void 0:"18px",width:a!=null?a:n!=null?n==="Inbox"?"218px":n==="ChatTab"&&o?"168px":"180px":"180px"};i=C?Math.max(r-u,0):0;return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:v,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:v,hasScrubber:C,scrubberRef:E,style:G,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,D?d("MWPAudioPlayerSharedStyles").styles.transparent:!1),children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:v,currentTime:u,duration:r,hasEnded:s,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:e,outgoing:g,progressHighlightRef:x,scrubberRef:E,waveformData:t,xstyle:F,children:k.jsx(c("MWPAudioPlaybackButton.react"),{backgroundColor:H,disabled:y,hasEnded:s,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:g,scrubberRef:E})}),k.jsx("div",{children:z?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:g,time:i}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:g})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:g,time:i})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=p;g.MWAudioPlayer=a}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5813");b=d("FalcoLoggerInternal").create("customer_information_template",a);e=b;g["default"]=e}),98);
__d("LSSetClientCTAType",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(19).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({type_:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSSetClientCTAType"),a[0],"xma_disabled_cta")},function(e){return d[0]=new c.Map(),d[0].set("cta_id",a[0]),d[0].set("order_id",a[1]),d[0].set("cta_type",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"p2m_mark_as_x",c.i64.cast([0,808]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ctaId;d[1]=b.orderId;d[2]=b.ctaType;return c("LSMarkAsX").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(j),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;d("MWChatPIIFormStateQuery").fetch(i,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,i,c,function(k){if(g>1){d("MWChatPIIFormScreenQuery").fetch(i,c,1,e,function(d){return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("useMakeRoomRingbackCommon",["cr:401"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("cr:401")()}g["default"]=a}),98);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("RelayHooks").useMutation(c("ServicesApproveAppointmentMutation.graphql")),b=a[0];a[1];return i(function(a){b({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:a}}})},[b])}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","asyncToGeneratorRuntime","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","cr:11076","emptyFunction","promiseDone","react","requireDeferred","useAsyncReStore","useCometDynamicEntryPointDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingbackCommon","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var c=a.receiptId;if(c!=null){d("MWChatReceiptDataQuery").fetch(c,a.messageId,function(a){var c=h._("__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c})});return}},[b])}function m(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var d;b({contentType:a.contentType.content_type,orderID:(d=a.orderID)!=null?d:"",pageID:a.pageID},c("emptyFunction"))},[b])}function n(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:a.actorId,event_type:"mw_xma_click",form_id:a.eeMessageId,page_id:a.pageId}});var f=d("CometRelay").loadQuery(e,c("MWBuyerShippingAddressRootQuery"),{id:a.pageId});b({actorId:a.actorId,eeMessageId:a.eeMessageId,initialQueryRef:f,messageId:a.messageId,pageId:a.pageId},function(){f.dispose()})},[e,b])}function o(){var a=d("CometRelay").useRelayEnvironment();return j(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},function(){d("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)});c("promiseDone")(e)},[a])}var p=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function q(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){a!=null&&d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){c!=null&&b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function r(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:h,formId:f,pageId:c,privacy:g,state:a})})},[e,b])}function s(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.ctaType,f=a.nuxData;a=a.piiForm;var g=a.color,h=a.currentIndex,i=a.firstScreen,j=a.formId,k=a.numScreens,l=a.pageId;d("MWChatPIIFormStateQuery").fetch(j,e,function(a){if(k>1){d("MWChatPIIFormScreenQuery").fetch(j,l,1,e,function(d){return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:d,state:a})});return}else return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:void 0,state:a})})},[e,b])}function t(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){var a=h._("__JHASH__HFLlRGYwWh7__JHASH__").toString();b({htmlBlob:a})},[b])}function u(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function v(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({})},[b])}function w(){var a=c("useMWLSOpenStaticLocationDialog.react")();return j(function(b){return a(b.msgId)},[a])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({boardingPassDetail:a})},[b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({itineraryPayload:a})},[b])}function z(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function A(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function B(a){return j(function(b){k.onReady(function(a){return a.logClick({component:"start_call_button",surface:"admin_message"})});return a(b.hasVideo,b.threadId,b.trigger)},[a])}function C(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({guestID:a.guestId,pageID:a.pageId})},[b])}function D(){return j(function(a){if(b("cr:11076")!=null)return b("cr:11076").$$process(a.ctaId,a.messageId)},[])}function E(a){d("Popup").open(a,1024,500)}function F(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({linkUrl:a.linkUrl})},[b])}function G(){var a=c("useAsyncReStore")();return j(function(d,e,f){c("promiseDone")(a.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSMarkAsXStoredProcedure")(c("LSFactory")(a),{ctaId:d,ctaType:e,orderId:f})});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}()))},[a])}function H(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return j(function(b){return a({listingId:b},{})},[a])}function I(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return j(function(b){return a({threadId:b},{})},[a])}function J(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInformationalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){return b({body:h._("__JHASH__jTsNVv7n_rW__JHASH__"),title:h._("__JHASH__g-wowo_Mm7M__JHASH__")})},[b])}function a(a,b){var e=l(),f=r(),g=q(),h=D(),i=s(),j=v(),k=w(),p=u(),K=x(),L=C(),M=y(),N=z(),O=A(),P=c("useMWP2PPaymentRequestCancelDialog")(),Q=c("useP2PPaymentRequestConfirmDialog")(),R=c("useP2PPaymentRequestDeclineDialog")(),S=c("useMWP2PPaymentTransactionDeclineDialog")(),T=c("useP2PPaymentMethodAddDialog")(),U=d("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),V=B(b),W=c("useMakeRoomRingbackCommon")(),X=F(),Y=m(),Z=o(),$=c("useMWLSShowMemberRequest")(),aa=c("useMWLSShowPendingPost")(),ba=c("useMWLSShowCheckout")(),ca=c("useMWLSShowPaymentDetails")(),da=c("useMWLSShowOrderDetails")(),ea=G(),fa=c("useMWLSShowAttachBankSlip")(),ga=c("useMWLSShowOffsiteBankTransfer")(),ha=n(),ia=c("useMWLSMarketplaceXmaCtaHandler")(),ja=H(),ka=I(),la=c("useMWChatShowPIIForm")(),ma=t(),na=J(),oa=c("useServicesConfirmAppointmentBookingMutation")();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return U(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return S(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return W(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return ba(d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return f(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet")return Y(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return Z(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return P(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var l=d.loggingDetails;l!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:String(l.index)},event_location:"unknown",page_id:l.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return N(b.VAL);if(b.NAME==="OpenAccountLink")return h(b.VAL);if(b.NAME==="ShowPIIForm")return la(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return ga(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return T(b.VAL.id);if(b.NAME==="ShowBoardingPass")return K(b.VAL);if(b.NAME==="P2MOrderDetails")return da(b.VAL.orderID);if(b.NAME==="P2MMarkAsPaid"||b.NAME==="P2MMarkAsShipped")return ea(b.VAL.ctaId,b.VAL.ctaType,b.VAL.orderID);if(b.NAME==="ShowStaticLocationDetails")return k(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return ca(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return R(b.VAL.id);if(b.NAME==="ShowBookingDetails")return p(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return g(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return O(b.VAL);if(b.NAME==="ShowItinerary")return M(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return E(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return X(b.VAL);if(b.NAME==="P2MAttachBankSlip")return fa(b.VAL.orderID);if(b.NAME==="BuyerShippingAddress")return ha(b.VAL);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return aa(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return Q(b.VAL.id);if(b.NAME==="MakeRtcCall")return V(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var m=d.actionType,n=d.attachmentFbid,o=d.messageId;d=d.targetId;return ia(o,n,d,m)}if(b.NAME==="ShowPIIFormForFormBuilder")return i(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return j(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return $(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return L(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return ma();if(b.NAME==="ShowPhoneVerificationDialog")return na();if(b.NAME==="ConfirmAppointmentBooking")return oa(b.VAL.requestID);if(b.NAME==="OpenMarketplaceDialog"){n=b.VAL;d=n.ctaType;m=n.listingId;o=n.threadId;switch(d){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(o!=null)return ka(o);else return;case"SHIPPED_OFFER_CANCEL":if(m!=null)return ja(m);else return;default:return}}}}e=a;g.useHandler=e}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children;a.disabled;var l=a.linkProps_,m=a.onHoverIn,n=a.onPress,o=a.overlayDisabled;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("1581")&&a;var q=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),r=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),s=q?"Image":r?"Video":"Media";return b("cr:4509")!=null&&(q||r)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,linkProps:l,mediaType:s,onPress:n,overlayDisabled:o,testid:void 0,type:r?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:p,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:l,onHoverIn:m,onPress:function(){return n()},overlayDisabled:o,testid:void 0,xstyle:p,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=k(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(l.image,d==null?!1:l.imageFill),src:a,style:f});if(d!=null)return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}function n(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;a.width;c=(a=c)!=null?a:null;a=k(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var h=k(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return j.jsx("div",{className:"x193iq5w",children:j.jsx("div",{style:h,children:j.jsx("div",{className:d,style:a,children:c})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,h=a.src;a=a.width;var i=a!=null&&e!=null?a/e:void 0;return j.jsxs(n,{aspectRatio:i,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[j.jsx(m,{alt:b,aspectRatio:i,maxHeight:f,src:h}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.table("media_staging")).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageListAttachmentDimensions",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){return i(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return c!=null&&d!=null&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWInboxInfoSharedContentQPLLogger","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPStableImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","gkx","qex","react","stylex","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o={appAttr:{alignItems:"x6s0dn4",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},appText:{color:"xzsf02u",fontSize:"x1nxh6w3",wordBreak:"x13faqbe",$$css:!0},container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incomingConnectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incomingConnectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoingConnectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoingConnectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function p(a){a=a.attachment;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return n.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?n.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,n.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b,e=a.attachment,f=a.connectBottom,g=a.connectTop;a.getPlayableUrl;var m=a.getPreviewUrl,q=a.message,r=a.navigateToRouteForMediaViewer,s=a.outgoing;a=a.renderUnsupportedAttachment;var t=(i||(i=c("useReStore")))(),u=(b=r)!=null?b:!0;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var v=e.attributionAppName!=null,w=c("useMWMessageListAttachmentDimensions")(b,e),x=w[0];w=w[1];var y=c("useMWV2MediaViewerURL")(e);g=g?s?o.outgoingConnectTop:o.incomingConnectTop:!1;f=f===!0?s?o.outgoingConnectBottom:o.incomingConnectBottom:!1;s=c("gkx")("1924962");var z=c("useMWV2FocusRowAfterClosingPushView")();r=c("useMWV2MediaViewerShowDialog")((r=r)!=null?r:!0);var A=r[0],B=r[1];r=m(e);if(r==null||r.length===0)return a!=null?a(e):null;m=u&&(k||(k=d("I64"))).gt(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:r},url:y}:void 0;a=function(){d("MWV2LogMessageClick").log(t,q,28);d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("media");z(function(){return!0});if(!u)return A({attachment:e},function(){})};y=(y=b==="Inbox"?c("qex")._("23"):void 0)!=null?y:200;b=(b=b==="Inbox"?c("qex")._("33"):void 0)!=null?b:480;return n.jsxs(c("MWMessageListMediaPressableContainer.react"),{attachment:e,disabled:(k||(k=d("I64"))).le(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),linkProps_:m,onHoverIn:function(){if(!u)return B()},onPress:a,testid:void 0,xstyle:[o.container,o.standalone,g,f],children:[n.jsx(d("MWPStableImage.react").MWPStableImage,{alt:e.titleText!=null&&s?e.titleText:h._("__JHASH__mrw3CpFXi7r__JHASH__"),className:(j||(j=c("stylex")))(o.content,v?o.withAppAttribution:o.standalone,g,f),height:w!=null?(k||(k=d("I64"))).to_float(w):void 0,maxHeight:y,maxWidth:b,src:r,width:x!=null?(k||(k=d("I64"))).to_float(x):void 0,children:n.jsx(p,{attachment:e})}),(k||(k=d("I64"))).le(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?n.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,n.jsx(c("MWChatImageInsetShadow.react"),{xstyle:[g,f]})]},e.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWResponsiveVideo.react",["CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","MWXGlimmer.react","deferredLoadComponent","gkx","justknobx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.react")),m={container:{maxWidth:"x193iq5w",minHeight:"x11md1zd",minWidth:"x450l9j",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},fill:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function n(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.connectTopStyles,e=a.fbid,f=a.height,g=a.maxHeight,i=a.maxWidth,o=a.src,p=a.width,q=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r=k(function(){var a=p!=null?f!=null?[p,f]:[500,300]:[500,300];return a[0]/a[1]},[p,f]);a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var s=c("gkx")("1581")&&a(46);a=k(function(){var a=n(q);if(c("justknobx")._("1704")===!0){var b;b=Math.min((b=p)!=null?b:500,i,g*r).toString()+"px"}else{var d;b=Math.min((d=p)!=null?d:500,i).toString()+"px"}return{maxHeight:g.toString()+"px",minHeight:s?a[1].toString(10)+"px":"",minWidth:s?a[0].toString(10)+"px":"",width:b}},[g,p,i,s,q,r]);return j.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:a,children:[j.jsx("div",{className:"x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:(h||(h=c("stylex")))(m.glimmerFallback,b),children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}),children:j.jsx(l,{autoPlaySetting:s?"off":void 0,controls:"mwchat",fbid:e,hideExpandButton:!0,originalHeight:(a=f)!=null?a:300,originalWidth:(b=p)!=null?b:500,sdSrc:o})})}),j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:r,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatVideo.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWResponsiveVideo.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWVideoPlayerControllerContext.react","react","recoverableViolation","useCometRouterDispatcher","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useMemo,p=b.useRef,q={incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"x1eb86dx",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function r(a){var b=a.attachment,e=a.connectTop,f=a.getPreviewUrl,g=a.message,l=a.navigateToRouteForMediaViewer,o=l===void 0?!0:l;l=a.outgoing;var p=(i||(i=c("useReStore")))(),r=c("useCometRouterDispatcher")(),s=c("useMWV2MediaViewerURL")(b);a=e?l?q.outgoing_connect_top:q.incoming_connect_top:!1;var t=c("useMWV2FocusRowAfterClosingPushView")();e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=c("useMWV2MediaViewerShowDialog")(o);var u=l[0],v=l[1],w=n(c("MWVideoPlayerControllerContext.react")),x=f(b);if(x==null||x==="")return null;l=b.previewHeight;f=b.previewWidth;return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:h._("__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:b,disabled:(j||(j=d("I64"))).le(g.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!o)return v()},onPress:function(){d("MWV2LogMessageClick").log(p,g,27);t(function(){return!0});if(!o)return u({attachment:b},function(){});var a=w.ref.current;if(a){var e=a.getCurrentState();e=e.volume;var f=a.getPlayheadPosition();r==null?void 0:r.go(s,{passthroughProps:{origSrc:x,startTimestamp:f,volumeSetting:e}});a.setMuted(!0,"product_initiated")}else c("recoverableViolation")("Missing controller","messenger_web_product",void 0,{trackOnly:!0})},overlayDisabled:!0,testid:void 0,xstyle:[q.root,a],children:[m.jsx(c("MWResponsiveVideo.react"),{connectTopStyles:a,fbid:b.attachmentFbid,height:l!=null?(j||(j=d("I64"))).to_float(l):void 0,maxHeight:200,maxWidth:e==="Inbox"?500:167,src:x,width:f!=null?(j||(j=d("I64"))).to_float(f):void 0}),(j||(j=d("I64"))).le(g.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null,m.jsx(c("MWChatImageInsetShadow.react"),{xstyle:a})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=p(null),d=o(function(){return{ref:b}},[b]);return m.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:m.jsx(r,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2Sticker.react",["I64","MWChatImageSize","MWLSThreadDisplayContext","MWPColorUtils","Sticker.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useMemo;function m(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=b!=null?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else return c},[a,b])}function a(a){var b,e=a.attachment,f=a.getPreviewUrl,g=a.scale;a=a.xstyle;f=f(e);var i=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):void 0,l=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):void 0;b=m((b=i)!=null?b:120);var n=c("useMWPThreadTheme")();n=n.threadTheme;var o=l!=null&&i!=null;o=d("MWChatImageSize").useImageSize(f,o);l=l!=null&&i!=null?[l,i]:o!=null?[o.width,o.height]:[24,24];i=l[0];o=l[1];return k.jsx(c("Sticker.react"),{accessibilityLabel:(l=e.accessibilitySummaryText)!=null?l:"",animationTrigger:"load_and_hover",className:(h||(h=c("stylex")))(a),customColor:d("MWPColorUtils").int64ToHex(n.fallbackColor),enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:(l=g)!=null?l:b,sourceHeight:o,sourceURI:f,sourceWidth:i,spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachment.react",["fbt","LSMediaUrlAttachment","MWAudioPlayer.react","MWLSThreadDisplayContext","MWV2ChatImage.react","MWV2ChatVideo.react","MWV2Sticker.react","MWV2TombstonedMessage.react","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.connectBottom,d=a.connectTop;a=a.xstyle;return k.jsx("div",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:b,connectTop:d,children:h._("__JHASH__962PS6SI-P2__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachment,e=a.connectTop,f=a.message,g=a.navigateToRouteForMediaViewer;a=a.outgoing;var h=l(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return k.jsx(c("MWV2ChatVideo.react"),{attachment:b,connectTop:e,getPreviewUrl:h,message:f,navigateToRouteForMediaViewer:g,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.attachment,c=a.isReply;a=a.outgoing;var e=l(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return k.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,getPlayableUrl:e,isReply:c,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.message,h=a.navigateToRouteForMediaViewer,i=a.outgoing;a=a.renderUnsupportedAttachment;var j=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=l(function(a){var b=a.previewUrlLarge;return b!=null&&j==="Inbox"?b:d("LSMediaUrlAttachment").previewUrl(a)},[j]),n=function(a){return d("LSMediaUrlAttachment").playableUrl(a)};return k.jsx(c("MWV2ChatImage.react"),{attachment:b,connectBottom:e,connectTop:f,getPlayableUrl:n,getPreviewUrl:m,message:g,navigateToRouteForMediaViewer:h,outgoing:i,renderUnsupportedAttachment:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.attachment;var b=l(function(a){var b;b=(b=d("LSMediaUrlAttachment").playableUrl(a))!=null?b:d("LSMediaUrlAttachment").previewUrl(a);if(b!=null)return b;c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web")},[]);return k.jsx(c("MWV2Sticker.react"),{attachment:a,getPreviewUrl:b})}n.displayName=n.name+" [from "+f.id+"]";g.MWMessageListAttachmentError=a;g.MWMessageListAttachmentVideo=b;g.MWMessageListAttachmentAudio=e;g.MWMessageListAttachmentImage=m;g.MWMessageListAttachmentSticker=n}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message;a.outgoing;var g=a.paint;g=g===void 0?!0:g;var i=a.renderEmphasisRing;a=a.xmaLayout;var l=c("MWPMessageHasXMA")(f),m=c("MWPMessageIsReply")(f),n=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;n=j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l?k.container_for_xma:!1,n?k.container_for_poll:!1),"data-testid":void 0,children:b});return j.jsxs(j.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!l||!f)?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!m&&g,children:i!=null?i(l,n):n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,h=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,n=a.renderFileAttachment,o=a.renderImageAttachment,p=a.renderImageGrid,q=a.renderStickerAttachment,r=a.renderUnsupportedAttachment,s=a.renderUnsupportedMultipleAttachments,t=a.renderVideoAttachment,u=a.renderWrapper,v=a.renderXMAAttachment;a=a.xmaLayout;var w=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,x=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(x.length>0?x[0].attachmentCta1Id:null);var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.blurMediaEnabled;y=c("gkx")("1581")&&y;if(f.replyType!=null&&(i||(i=d("I64"))).equal(f.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(x.length!==1)x.length>1&&x.every(l)?y?y=x.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:o(a,b!==0,b!==x.length-1,r)})]},a.attachmentFbid)}):y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:p(x)}):y=s!=null?s(x):void 0;else{p=x[0];s=p.attachmentType;s=!(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));var z=p.attachmentType;y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:s,renderEmphasisRing:h,xmaLayout:w,children:(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?o(p,e,b,r):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?t(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?g(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?q(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?v(p,a):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?n(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?m(p):r(p)})}return y!=null?u!=null?u(y):y:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},url:g==null?void 0:g.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatImagesGrid.react",["fbt","CometImageCover.react","CometPhotoGrid.react","LSMediaUrlAttachment","MWLSThreadDisplayContext","MWXPressable.react","react","stylex","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useMemo,m={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function n(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=a.previewUrlLarge;if(c!=null&&b==="Inbox")return c;else return d("LSMediaUrlAttachment").previewUrl(a)},[a,b])}function o(a){a=a.attachment;var b=n(a);a=c("useMWV2MediaViewerURL")(a);if(b==null)return null;var d=h._("__JHASH__mrw3CpFXi7r__JHASH__");return k.jsx(c("MWXPressable.react"),{"aria-label":d,linkProps:{passthroughProps:{origSrc:b},url:a},overlayRadius:"compact",xstyle:function(){return[m.pressable]},children:k.jsx(c("CometImageCover.react"),{alt:d,src:b})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.attachments;var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return k.jsx("div",{className:(i||(i=c("stylex")))(m.root,b==="Inbox"?m.large:m.small),"data-testid":void 0,children:k.jsx(c("CometPhotoGrid.react"),{children:a.map(function(a){return k.jsx(o,{attachment:a},a.attachmentFbid)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o",children:[j.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:j.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),j.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f x13faqbe",children:[j.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!=null?j.jsx("div",{className:"x889kno",children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.faviconUrl=f}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrlAttachmentItem").playableUrl(e),h=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);f=f==null?d("LSMediaUrlAttachment").previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["I64","Int64Hooks","LSThreadAttributionStore","MWLSThread","useBlockedUserInterstitial","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.children;a=a.threadKey;return b(j(a))}function j(a){var b=c("useBlockedUserInterstitial")(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),j=(i||(i=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(c,i){if(e){var k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){var a=i.metaKey||i.ctrlKey||i.shiftKey;if(!a)return g()},"chatInThread")}else if(f!=null){k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){d("LSThreadAttributionStore").setSource((h||(h=d("I64"))).to_string(a),"chatInThread"),f.go(c,{})},"chatInThread")}else return},[j,f,e,b,g,a])}g["default"]=a}),98);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5680");b=d("FalcoLoggerInternal").create("xma_events",a);e=b;g["default"]=e}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsFalcoEvent","castToEnum","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=j.useInsertionEffect,n=j.useRef;function a(){var a=o("xma_redirect_to_fb");return k(function(b){a(b)},[a])}function b(a){var b=o("xma_impression");return c("useSinglePartialViewImpression")({onImpressionStart:function(){b(a)}})}function e(){var a=o("xma_click");return k(function(b){a(b)},[a])}function f(){var a=o("xma_fb_opened");return k(function(b){a(b)},[a])}function o(a){var b=l(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),e=n(b);m(function(){e.current=b});var f=l(c("CometPassiveGetRouterStateContext"));return k(function(b){var g=b.attachment.messageId,h=c("castToEnum")(b.threadType,c("LsThreadType"),null),j=b.attachment.threadKey,k=(i||(i=d("I64"))).to_string(j),l=e.current,m=p(b.attachment);c("XmaEventsFalcoEvent").log(function(){return{attribution_id_v2:d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(f),click_category:b==null?void 0:b.clickCategory,click_target_type:m,entrypoint:l,event:(b==null?void 0:b.isDirectToExternal)===!0?"xma_redirect_to_external_app":a,is_facebook_installed:null,message_id:g,thread_id:k,thread_type:h}})},[a,f])}function p(a){var b=a.defaultCtaType,c=a.attachmentLoggingType;a=a.cta1Type;var d=35;b==="xma_rtc_missed_audio"?d=37:b==="xma_rtc_missed_video"?d=36:b==="xma_rtc_missed_group_audio"?d=67:b==="xma_rtc_missed_group_video"?d=66:b==="xma_rtc_audio"?d=17:b==="xma_rtc_video"?d=18:b==="xma_rtc_ended_audio"?d=57:b==="xma_rtc_ended_video"?d=56:b==="xma_rtc_new_audio_default"?d=68:b==="xma_live_location_sharing"?(d=38,a==="xma_live_location_sharing"&&(d=39)):b==="xma_shops_pdp"?d=61:b==="xma_open_native"?d=41:b==="xma_web_url"?d=35:c==="xma_open_contact_share"?d=64:b==="xma_customer_information"?d=65:c==="xma_appointment_confirmed"?d=70:b==="xma_montage_share"&&(d=82);return d}g.useXMAEventsRedirectDefaultToFBLogger=a;g.useXMAEventsImpressionLoggerRef=b;g.useXMAEventsClickLogger=e;g.useXMAEventOpenInFBLogger=f}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",l=a!=null?k(a):"",m=a!=null?j(a):"",n=e[1],o=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:l,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:n},message:{campaign_id:m,id:b.messageId,notification_token:g},page:{id:o},target:{id:o},thread:{id:o}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","ConstUriUtils","CurrentEnvironment","CustomerInformationTemplateFalcoEvent","I64","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSWebUrlCtaHandler","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","cr:5751","emptyFunction","gkx","isStringNullOrEmpty","nullthrows","useCometRouterDispatcher","useLSMessagingInitiatingSource","useLSMessagingSource","useMWChatPollXMAActionHandler","useRollcallContributionsXMAActionHandler","useStartRTCCall"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("emptyFunction"),j=(e=b("cr:5751"))!=null?e:c("emptyFunction"),k=(e=(f=b("cr:4538"))!=null?f:b("cr:236"))!=null?e:c("emptyFunction"),l=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")(),e=d("Actor").useActor(),f=e[0];e=d("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(b,a);b=c("useStartRTCCall")();var g=d("MWChatXmaThirdPartyActionHandler").useHandler(e,b),m=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),n=c("useMWChatPollXMAActionHandler")(),o=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),p=d("MWLSWebUrlCtaHandler").useShowWebViewDialog(),q=c("useCometRouterDispatcher")();a=k();var r=i({onSuccess:(e=a)!=null?e:c("emptyFunction")}),s=j();return function(a){var b=a.actionUrl,e=a.platformToken,i=a.type_,j=a.title,k=a.messageId,t=a.threadKey,u=a.attachmentFbid,v=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(e!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(i==="xma_roll_call_open_viewer"||i==="xma_prompt_open_viewer_for_text"||i==="xma_roll_call_add_yours")return a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){o(c("nullthrows")(a.targetId),t,null,i)},secondaryInfo:void 0};if(i==="xma_event_rsvp"&&c("gkx")("3170"))return{actionType:"BUTTON",primaryInfo:function(){},secondaryInfo:void 0};if(i==="xma_rtc_audio"||i==="xma_rtc_missed_audio"||i==="xma_rtc_new_audio_default"||i==="xma_rtc_ended_audio")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_rtc_video"||i==="xma_rtc_new_video_default"||i==="xma_rtc_new_video_from_fb_share"||i==="xma_rtc_new_video_from_fb_video_share"||i==="xma_rtc_missed_video"||i==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return m(e,j)},secondaryInfo:[(h||(h=d("I64"))).to_string(t),31]};if(i==="xma_open_dialog"){var w;if(b==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};w=(w=d("ConstUriUtils").getUri(b))==null?void 0:w.getQueryData==null?void 0:w.getQueryData();if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var x=String(w.page_id).toString(),y=String(w.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowGuestChatHistory",VAL:{guestId:y,pageId:x}})},secondaryInfo:void 0}}if(i==="xma_p2p_payment_details"||i==="xma_p2p_request_pay"||i==="xma_p2p_payment_details_receive_money"||i==="xma_p2p_verify_info"){var z=a.targetId;return z==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(h||(h=d("I64"))).to_string(z)}})},secondaryInfo:void 0}}if(i==="fill_in_thread_form"||i==="filled_in_thread_form_successfully"){var A=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(A))})},secondaryInfo:void 0}}if(i==="xma_join_from_portal"&&b!=null)return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:b}})},secondaryInfo:void 0};if(i==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return g(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:k}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:k,titleString:j}})},secondaryInfo:void 0};var B=a.actionContentBlob,C=a.targetId;if(i==="xma_poll_details_button"||i==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return n(C,B)},secondaryInfo:void 0};if(i==="xma_otp_verification")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPhoneVerificationDialog",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:void 0};if(B!=null&&C!=null)try{var D=JSON.parse(B);if(i==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.groupID,c=D.profileID;return g({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0};else if(i==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.authorID,c=D.groupID,e=D.postID;return g({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:e!=null?JSON.stringify(e):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0}}catch(a){if(i!=="marketplace_xma_call_function"||!c("gkx")("5527"))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var E=a.targetId;if(E!=null){var F={ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)};if(i==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOrderDetails",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MAttachBankSlip",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOffsiteBankTransferCTA",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsPaid",VAL:{ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)}})},secondaryInfo:void 0};else if(i==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsShipped",VAL:{ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)}})},secondaryInfo:void 0};if(i==="xma_p2m_checkout"){var G={orderID:(h||(h=d("I64"))).to_string(E),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MCheckout",VAL:G})},secondaryInfo:void 0}}if(i==="xma_p2m_informational_message_bottom_sheet"){var H={contentType:JSON.parse(c("nullthrows")(B)),orderID:(h||(h=d("I64"))).to_string(E),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MInformationalMessageBottomSheet",VAL:H})},secondaryInfo:void 0}}}if(i==="xma_customer_information"){var I=(h||(h=d("I64"))).to_string(t);c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:f,event_type:"mw_xma_impression",form_id:a.attachmentFbid,page_id:I}});var J={actorId:f,eeMessageId:a.attachmentFbid,messageId:a.messageId,pageId:I};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"BuyerShippingAddress",VAL:J})},secondaryInfo:void 0}}if(B==null&&(i==="xma_direct_send"||i==="xma_biz_inbox_form_send"||i==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(i==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:i,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(B))}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(B)}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),69]};if(i==="xma_workplace_chat_bot_submit_feedback"){var K={feedbackActionContentBlob:c("nullthrows")(B)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"WorkplaceChatBotSubmitFeedback",VAL:K})},secondaryInfo:void 0}}if(i==="xma_account_link")return b==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenAccountLinkUrl",VAL:b})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),49]};if(i==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return g({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=b)!=null?a:""}})},secondaryInfo:void 0};if(i==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};w=(w=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(h||(h=d("I64"))).to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:w.setProtocol("https");return w==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(w).toString(),secondaryInfo:void 0}}if(i==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:u,messageId:k,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(i==="marketplace_xma_open_dialog"){if(b==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};w=d("ConstUriUtils").getUri(b);if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var L=String(w.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:L,threadId:(h||(h=d("I64"))).to_string(t)}})},secondaryInfo:void 0}}if(i==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{w=JSON.parse(a.actionContentBlob);var M=w.action_prefill,N=w.ad_id,O=w.customer_id,P=w.index,Q=w.page_id,R=w.reply_image_uri;if(M==null||R==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var S='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"SendImagePostback",VAL:{image:R,loggingDetails:{ad_id:N.toString(),consumer_id:O.toString(),index:P,page_id:Q.toString()},message:M,platformToken:c("isStringNullOrEmpty")(e)?S:e}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(i==="xma_open_native"){w=a.nativeUrl;if(w!=null&&w.startsWith("fb-messenger://user-thread/")){var T=w.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(h||(h=d("I64"))).to_string(t),33],threadKey:h.of_string(T)}}}if(w!=null&&w.startsWith(l.SUBTHREAD_LINK)){try{T=new URL(w),w=T.searchParams.get("subthread_fbid")}catch(a){w=null}if(s!=null&&w!=null){var U=(h||(h=d("I64"))).of_string(w);return{actionType:"BUTTON",primaryInfo:function(){return s(U)},secondaryInfo:void 0}}}var V=a.actionContentBlob;if(V!=null)return{actionType:"BUTTON",primaryInfo:function(){return p(V)},secondaryInfo:void 0};if(b!=null)if(b.includes("://m.me/j/")&&c("gkx")("6970")){if(a.targetId!=null){T=(h||(h=d("I64"))).to_string(a.targetId);var W=c("CurrentEnvironment").messengerdotcom?c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:T}):c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:T});return{actionType:"BUTTON",primaryInfo:function(){return q==null?void 0:q.go(W,{})},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return r==null?void 0:r(b)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+v,secondaryInfo:"messenger_privacy_web"}}var X=a.targetId;if(X!=null&&i==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(h||(h=d("I64"))).to_string(X)}})},secondaryInfo:void 0};if(B!=null&&B.length>0&&B!=="{}"&&!B.includes("notification_message_token")&&!B.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return p(B)},secondaryInfo:void 0};if(b!=null){if(a.enableExtensions===!0){var Y={actionLink:b,pageID:(h||(h=d("I64"))).to_string(t),sourceTitle:(w=j)!=null?w:"",userID:h.to_string(t)};if(i==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerRichWidgetExtension",VAL:Y})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};else return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerExtensions",VAL:Y})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]}}return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+v,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a===void 0&&(a="");a={ALTERED_MEDIA:h._("__JHASH__pK0fcBDpaEV__JHASH__",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._("__JHASH__dJ_qZg1Bnj2__JHASH__",[h._param("attachment item title",a)]),FALSE_NEWS:h._("__JHASH__9UILySlE-wD__JHASH__",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._("__JHASH__7LJaDiii2kF__JHASH__",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._("__JHASH__JiWZCmbD51v__JHASH__",[h._param("attachment item title",a)]),SENSITIVE:h._("__JHASH__gmdVuVfF78Q__JHASH__",[h._param("attachment item title",a)])};return b==null||a[b]==null?h._("__JHASH__jBGVUqdMJ6C__JHASH__"):a[b]}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerDefault.react",["I64","MWInboxRouteBuilder","MWLSThread","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","isCometRouterUrl","justknobx","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children,j=(h||(h=c("useReStore")))(),m=e.defaultCtaId,n=e.defaultCtaType,o=e.threadKey;a=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle);var p=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.table("attachment_ctas")).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).zero)},[j,m],f.id+":60"),q=c("useGetMWXMACtaRegistryHandler")(),r=c("MessengerWebUXLogger").useInteractionLogger(),s=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),t=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),u=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),v=d("MWLSThread").useThread(o,function(a){return a.threadType}),w=b.defaultCtaType==="xma_prompt_open_viewer_for_text";if(p==null)return g;q=q(p);switch(q.actionType){case"BUTTON":var x,y=q.primaryInfo,z=q.secondaryInfo;return k.jsx(c("MWXPressable.react"),{"aria-label":(x=e.titleText)!=null?x:e.defaultCtaTitle,hideHoverOverlay:w,onPress:function(){r==null?void 0:r({ctaType:n,eventName:"open_xma_attachment_cta",threadKey:o,threadType:v});d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:z,source:1});s==null?void 0:s({attachment:b,clickCategory:2,threadType:v});t({attachment:b,threadType:v});return y()},children:g});case"DISABLED_BUTTON":return k.jsx(c("MWXPressable.react"),{"aria-label":(x=e.titleText)!=null?x:"",disabled:!0,children:g});case"URL":w=q.primaryInfo;var A=c("isCometRouterUrl")(w);if(!(w.startsWith("http")||w.startsWith("/")))return g;var B=q.secondaryInfo;return k.jsx(c("MWXLink.react"),{href:w,label:a,onClick:function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:B,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t({attachment:b,isDirectToExternal:!A,threadType:v})},onNavigate:function(a){A&&a&&u({attachment:b,threadType:v})},target:c("justknobx")._("1677")?void 0:"_blank",xstyle:l.link,children:g});case"DEEPLINK":var C=function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:D,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t==null?void 0:t({attachment:b,threadType:v})};e=q.primaryInfo;var D=e.loggingDetails;x=e.threadKey;var E=d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(x)});return k.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:x,children:function(a){return k.jsx(c("MWXLink.react"),{href:E,onClick:function(b){a(E,b);return C()},preventLocalNavigation:!0,xstyle:l.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(q.primaryInfo,q.secondaryInfo,void 0,{trackOnly:!0});return g;case"NOT_SUPPORTED":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.children;a=a.isPressable;if(a)return i.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:b,attachmentItem:d,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderUrlActionButton,t=a.threadKey,u=a.title,v=a.type,w=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(t,function(a){return a.threadType});var x=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:v,eventName:"xma_attachment_cta",threadKey:t,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(w.table("attachment_ctas")).getKeyRange(g)},[w,g],f.id+":132");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[v]);if(y==null)return v==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:r(u)}):null;h=h(y);e=p(e);var z=null;switch(h.actionType){case"BUTTON":var A=h.secondaryInfo,B=h.primaryInfo,C=v==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&t!=null&&!((a=a)!=null?a:!1)&&C?z=j(b,t,u,e,y,A):C||(z=l(u,e,y,A,B));break;case"URL":a=h.secondaryInfo;z=s(u,e,y,a,h.primaryInfo);break;case"DISABLED_BUTTON":z=r(u);break;case"DEEPLINK":j=h.primaryInfo;b=j.loggingDetails;t=j.threadKey;C=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});z=q(u,t,y,b,C);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});z=null;break;case"NOT_SUPPORTED":z=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(158,a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSButton.react","MWCMIsAnyCMThread","MWLSThread","MWXLazyPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItemCtaButton.react");function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,h=a.threadKey,l=a.title;a=a.type;var m=c("MessengerWebUXLogger").useInteractionLogger(),n=d("MWLSThread").useThread(h,function(a){return a.threadType}),o={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:h,threadType:n};n=c("useGetMWXMACtaRegistryHandler")();var p=c("useMWHasPollsVotingEnabled")(h),q=c("useMWCMPollsV1Enabled")(h),r=c("useMWCMPollsV2Enabled")(h),s=d("MWLSThread").useThread(h,function(a){return c("MWCMIsAnyCMThread")(a.threadType)}),t=d("MWLSThread").useThread(h,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!p&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((p=s)!=null?p:!1)&&!q&&!r&&a==="xma_poll_details_button"?null:j.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:n,messageId:g,renderButtonActionEventButton:function(a,b,e,f,g,h){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{eventId:(i||(i=d("I64"))).of_string(a),threadKey:b},popoverResource:k,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,i,k,l,n){return j.jsx(c("MWXTooltip.react"),{tooltip:e,children:j.jsx(c("MDSButton.react"),{icon:f,label:e,onHoverIn:k,onHoverOut:l,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:g,loggingDetails:h,source:2});return b()},onPressIn:n,ref:a,type:"secondary"})})}})},renderButtonActionNonEventButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:t,icon:b,label:a,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return j.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(g,a);m==null?void 0:m(o);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderUrlActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{icon:b,label:l,linkProps:{target:"_blank",url:g},onPress:function(){m==null?void 0:m(o),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:h,title:l,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWPColorUtils","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){a=a.attachment;var b=c("useMWPThreadTheme")(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:function(a){return j.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:j.jsxs("div",{children:[j.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,optionId:a.id,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?j.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))},renderPercentageListItem:function(a,b){return j.jsxs("li",{className:"x14vqqas",children:[j.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?j.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",optionId:a.id,size:"small"})})]}),j.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:j.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils").int64ToHex(e),width:(i||(i=d("I64"))).to_string(b)+"%"}})})]},i.to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3});f["default"]=a}),66);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={description:{paddingTop:"x889kno",$$css:!0},hscroll:{paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},subthreadDescription:{marginTop:"x1k70j0n",$$css:!0},subthreadXMADescriptionRow:{justifyContent:"x1nhvcw1",$$css:!0},subthreadXMARow:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},subtitleContainer:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},subtitleDecorationIconContainer:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginTop:"x1k70j0n",$$css:!0},titleText:{marginBottom:"xahult9",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}},o=c("gkx")("9072");function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,j=a.facePileElement,p=a.getFaviconUrlXMA,q=a.headlineLineLimit,r=a.isHscroll;a.isStandalone;var s=a.outgoing;s=s===void 0?!1:s;var t=a.subtitleText,u=a.title;a=a.xmaLayout;b=(k||(k=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));f=d("MWXMAIconParser.react").parse((p=p(e,f))!=null?p:"");p=h._("__JHASH__SFJQf-uN6yj__JHASH__");var v=h._("__JHASH__-LANapr3SYq__JHASH__");p=u!==""?b&&o?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:u}),m.jsx(c("MWXIconStrict.react"),{color:s?"white":"secondary",icon:c("MWXIconChevronRight"),size:12})]}):m.jsx(c("MWXTextPairing.react"),{headline:b?p:u,headlineLineLimit:q,level:4,testid:void 0,textAlign:e.attachmentLoggingType==="xma_view_event"?"center":"start"}):null;j=t!==""?b&&o?m.jsxs("div",{className:(i||(i=c("stylex")))([n.subthreadXMARow,n.subthreadXMADescriptionRow]),children:[j,m.jsx("div",{className:"x1k70j0n",children:m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:e.replyCount==null||(k||(k=d("I64"))).equal(e.replyCount,(k||(k=d("I64"))).zero)?t:(k||(k=d("I64"))).gt((u=e.replyCount)!=null?u:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).of_int32(20))?h._("__JHASH__Dd3JSX2bl8X__JHASH__"):h._("__JHASH__J-X-Y424pwe__JHASH__",[h._plural((k||(k=d("I64"))).to_int32((q=e.replyCount)!=null?q:(k||(k=d("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(c("MWXTextPairing.react"),{body:b?v:t,bodyColor:"secondary",bodyLineLimit:g,level:4,testid:void 0})}):null;u=(s=e.subtitleDecorationType)!=null?s:(k||(k=d("I64"))).zero;q=(l||(l=d("LSIntEnum"))).toNumber(u)===c("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",{className:"x1emribx x1k70j0n",children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:u})}):null;b=e.captionBodyText!=null?m.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:e.captionBodyText}):null;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,f==null?r?n.hscroll:!1:n.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&p!==null?m.jsx("div",{className:"xahult9",children:p}):p,b,m.jsxs("div",{className:"x6s0dn4 x78zum5",children:[q,j]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","MWXText.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||d("react"),m={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,g=a.ctaId,j=a.size;j=j===void 0?32:j;var n=a.urls;a=a.xstyle;var o=g!=null?(k||(k=d("I64"))).to_string(g):"",p=(h||(h=c("useReStore")))();o=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(p.table("attachment_ctas")).getKeyRange(g):d("ReQL").empty()},[p,o],f.id+":51");var q=e!=null?(k||(k=d("I64"))).le(e,(k||(k=d("I64"))).of_int32(9)):!1;o=q?void 0:{target:"_blank",url:o==null?void 0:o.actionUrl};q=q?n.map(function(a){return{source:{uri:a}}}):n.slice(0,9).map(function(a){return{source:{uri:a}}});var r=b==null?m.root_center_aligned:m.root_start_aligned,s=b!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0;return q.length>0?l.jsx("div",{className:(i||(i=c("stylex")))(r),"data-testid":void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(m.facepile,a),role:"gridcell",children:l.jsx(c("CometFacepile.react"),{count:e!=null?(k||(k=d("I64"))).to_int32(e):n.length,isOverlapping:!0,isTextInline:b!=null,items:q,linkProps:o,size:j,text:s})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(a==null)if(b!=null)return[];else if(e!=null)return e.split(", ");else return[];if(b==null)return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var e;try{e=d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(f[b]))}catch(a){e=!0}if(e){return(e=c("rewriteFallbackUrl")(g[b]))!=null?e:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MWXMAIconParser.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},descriptionSubtitleText:{display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingTop:"x889kno",$$css:!0},descriptionText:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},secondaryDescriptionText:{marginBottom:"xod5an3",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",marginLeft:null,marginRight:null,paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var b,e,f=a.attachment,g=a.attachmentItem,i=a.bodyLineLimit,q=a.facepiles,r=a.getFaviconUrlXMA;a.getPreviewUrlXMA;var s=a.headlineLineLimit,t=a.isHscroll,u=a.isPressable,v=a.isStandalone,w=a.outgoing;w=w===void 0?!1:w;a=a.xmaLayout;b=d("MWXMAIconParser.react").parse((b=r(f,g))!=null?b:"");e=(j||(j=d("I64"))).equal((e=f.xmaLayoutType)!=null?e:(j||(j=d("I64"))).zero,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var x=g.titleText==null&&g.subtitleText==null&&b==null,y=g.titleText!=null||!v?g.titleText:f.titleText,z=g.subtitleText!=null||!v?g.subtitleText:f.subtitleText,A=c("getLSMediaAttachmentAvatarViewUrlList")(f);q=(q=q)!=null?q:A.length!==0&&!e?[l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,urls:A})]:[];e=y==null&&z==null?[]:[l.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:f,attachmentItem:g,isPressable:u,children:l.jsxs("div",{className:(h||(h=c("stylex")))(m.description,b==null?!1:m.hasFavicon),children:[l.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:b}),l.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:f,attachmentItem:g,bodyLineLimit:i,facePileElement:(j||(j=d("I64"))).equal((e=f.avatarCount)!=null?e:(j||(j=d("I64"))).zero,(j||(j=d("I64"))).zero)?null:l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,size:16,urls:A,xstyle:m.subthreadFacepiles}),getFaviconUrlXMA:r,headlineLineLimit:s,isHscroll:t,isStandalone:v,outgoing:w,subtitleText:(u=z)!=null?u:"",title:(b=y)!=null?b:"",xmaLayout:a})]})})];A=f.listItemsDescriptionText;r=f.listItemsDescriptionSubtitleText;t=f.cta2IconType;v=f.cta3IconType;w=f.listItemId1;z=f.listItemsSecondaryDescriptionText;u=f.messageId;y=f.threadKey;b=g.attachmentCta1Id;var B=g.attachmentCta2Id,C=g.attachmentCta3Id,D=g.cta1IconType,E=g.cta1Title,F=g.cta1Type,G=g.cta2Title,H=g.cta2Type,I=g.cta3Title,J=g.cta3Type;x=F!=null&&E!=null&&b!=null?[l.jsxs("div",{className:(h||(h=c("stylex")))(m.buttonsWrapper,x?m.buttonsOnly:!1),children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:D,ctaId:b,messageId:u,threadKey:y,title:E,type:F}),H!=null&&G!=null&&B!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:t,ctaId:B,messageId:u,threadKey:y,title:G,type:H}),J!=null&&I!=null&&C!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{ctaIconType:v,ctaId:C,messageId:u,threadKey:y,title:I,type:J}):null]}):null]})]:[];D=A!=null?[l.jsx(n,{headlineLineLimit:s,listItemsDescriptionText:A})]:[];b=r!=null?[l.jsx(o,{bodyLineLimit:i,value:r})]:[];E=w!=null?[l.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:f})]:[];F=z!=null?[l.jsx(p,{bodyLineLimit:i,listItemsSecondaryDescriptionText:z})]:[];t=[e,D,b,q,E,F,x].reduce(function(a,b){return a.concat(b)},[]);B=d("LSMediaUrlAttachment").previewUrl(f)!=null||d("LSMediaUrlAttachmentItem").previewUrl(g)!=null||d("LSMediaUrlAttachmentItem").playableUrl(g)!=null;G=d("MWLSThread").useThread(y,function(a){return a.threadType});H=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:f,clickCategory:1,threadType:G});return t.length===0?null:l.jsx("div",{className:(h||(h=c("stylex")))(m.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?m.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!B&&f.headerTitle!=null?m.rootWithHeaderAndNoMedia:!1),ref:H,children:t.map(function(a,b){return l.jsx(l.Fragment,{children:a},String(b))})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return l.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.bodyLineLimit;a=a.value;return l.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return l.jsx("div",{className:"xod5an3",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;a=a;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),i.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAInformedTreatment.react",["fbt","CometBlurredBackgroundImage.react","EyeCrossFilled24.svg.react","InfoCircleFilled20.svg.react","MWXColumn.react","MWXColumnItem.react","MWXIcon.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","SVGIcon","WAArmadilloXMA.pb","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={blurry:{backgroundColor:"x18l40ae",bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,filter:"xtea3wc",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},center:{position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",transform:"x11lhmoz",width:"xh8yej3",$$css:!0},overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0},topRight:{alignItems:"x6s0dn4",backgroundColor:"x1gevrdp",borderTopColor:"x1fk37vd",borderEndColor:"xdy0ngz",borderBottomColor:"xqb0rpr",borderStartColor:"x1tp0a3f",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xe80o0v",display:"x78zum5",end:"x1k3u6ij",left:null,right:null,rowGap:"xpse7mg",columnGap:"x1ihrfj4",height:"x10w6t97",paddingTop:"xyqdw3p",paddingEnd:"x1iji9kk",paddingBottom:"xg8j3zb",paddingStart:"x16hj40l",position:"x10l6tqk",top:"x1tk7jg1",whiteSpace:"xuxw1ft",wordWrap:"x1vvkbs",$$css:!0},warning:{display:"x78zum5",height:"x1m3v4wt",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},l={ALTERED_MEDIA:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__5H5N5-Xsncf__JHASH__")},ALTERED_PHOTO:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__MMwXoLKk349__JHASH__")},CRUEL:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__i1O1Uvt1vZ6__JHASH__")},FALSE_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__MnSycojlY-Q__JHASH__")},MISLEADING_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__CYwjewQWzi8__JHASH__")},MISSING_CONTEXT:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__RL7VH1G5kZU__JHASH__")},SENSITIVE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")},VIOLENCE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")}},m=h._("__JHASH__zDjOAdn9yE8__JHASH__");function a(a){var b=a.dimension,e=a.gatingTitle,f=a.gatingType,g=a.previewUrl,h=g===void 0?"":g,i=a.xstyle,n=c("gkx")("571"),o=function(a){var b;return((b=l[a])==null?void 0:b.icon)==null?d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")):l[a].icon},p=function(a){var b;return((b=l[a])==null?void 0:b.text)==null?null:l[a].text};g=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:return j.jsx("div",{className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz xh8yej3",children:j.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:32})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:n?"bodyLink3":"bodyLink4",children:p(e)})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"meta3":"meta4",children:m})})]})});case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x78zum5 x1k3u6ij xpse7mg x1ihrfj4 x10w6t97 xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk x1tk7jg1 xuxw1ft x1vvkbs",children:[j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:24}),j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"bodyLink3":"bodyLink4",children:p(e)})]});default:return null}};a=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsx("div",{style:b,children:j.jsx(c("MWXImage.react"),{alt:"",src:h,xstyle:k.post})});default:return j.jsxs(j.Fragment,{children:[j.jsx(c("CometBlurredBackgroundImage.react"),{alt:"",src:h,xstyle:[k.post,i,k.overlay]}),j.jsx("div",{className:"x18l40ae x1ey2m1c xds687c xtea3wc x47corl x10l6tqk x17qophe x13vifvy"})]})}};var q=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"});return j.jsxs("div",{className:"x78zum5 x1m3v4wt x1n2onr6 xh8yej3",ref:q,children:[a(parseInt(f,10)),g(parseInt(f,10))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","LSIntEnum","MNLSXMALayoutType","MWXMAInformedTreatment.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.isStandalone,h=a.previewUrl;a=a.xmaLayout;var l=e.previewWidth==null?0:(i||(i=d("I64"))).to_int32(e.previewWidth),m=e.previewHeight==null?0:(i||(i=d("I64"))).to_int32(e.previewHeight),n=e.defaultCtaType;n==="xma_montage_share"?n=!0:n=e.imageUrl==null?g:l===m;e=l!==0?m!==0?l/m:0:0;b.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(b.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(e===0&&(e=2),n=!0);g=f;f={height:(e===0?106:g/e).toString()+"px",width:g.toString()+"px"};var o={};a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(m>l&&(f.height=g.toString()+"px",f.width=(e===0?106:g*e).toString()+"px"),o=babelHelpers["extends"]({aspectRatio:void 0,flexGrow:"0",margin:"auto"},f));if(h.length===0||h==="")return null;a={height:(e===0?g-106:g/e).toString()+"px",width:g.toString()+"px"};if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsx(c("MWXMAInformedTreatment.react"),{dimension:a,gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:h});return n?k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx("img",{alt:"",src:h,style:babelHelpers["extends"]({aspectRatio:e,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},o)})}):k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",style:f,children:k.jsx(c("CometImageCover.react"),{alt:"",src:h,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MDSGlimmer.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemImage.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultPreview.react")),l={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.cardWidth,h=a.getPlayableUrl,l=a.getPreviewUrlXMA,m=a.isPressable,o=a.isStandalone;a=a.xmaLayout;b=(b=e.shouldAutoplayVideo)!=null?b:!1;var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();p=p==="Inbox";p=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:l,preferLargePreview:p});l=l(e,f);h=h(e,f);switch(p.type){case"Video":return h==null?null:j.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:[j.jsx(n,{attachmentItem:f,children:j.jsx(k,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,originalHeight:f.previewHeight!=null?(i||(i=d("I64"))).to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?(i||(i=d("I64"))).to_int32(f.previewWidth):0,sdSrc:h})}),b?j.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]});case"Image":return l==null?null:j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:j.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:e,attachmentItem:f,cardWidth:g,isStandalone:o,previewUrl:l,xmaLayout:a})});case"Unsupported":return null}}a.displayName=a.name+" [from "+f.id+"]";function m(){return j.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:l.glimmer})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b,e=a.attachmentItem;a=a.children;b=(i||(i=d("I64"))).to_int32((b=e.previewWidth)!=null?b:(i||(i=d("I64"))).zero);e=i.to_int32((e=e.previewHeight)!=null?e:(i||(i=d("I64"))).zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(m,{}),children:a})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("MWXMAAttachmentItemHeaderIcon.react",["CometImageCover.react","CometSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(typeof b==="string"){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b,style:{borderRadius:"50%",height:a,width:a}})})}return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:b.color,icon:b.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["ix","I64","LSIntEnum","LSVerifiedType","MWXIcon.react","MWXMAAttachmentItemHeaderIcon.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","fbicon","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},verifiedIconContainer:{display:"x78zum5",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);e=e==null?void 0:d("MWXMAIconParser.react").parse(e);var j=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;b=b.verifiedType!=null?(k||(k=d("I64"))).equal(b.verifiedType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,j?n.withBorder:!1),children:[e!=null&&m.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{icon:e,xmaLayout:a}),j&&g!==null&&g!=null&&g!==""?m.jsx(c("MWXTextPairing.react"),{headline:f,level:4,meta:g}):m.jsx(c("MWXText.react"),{type:"bodyLink3",children:f}),b?m.jsx("div",{className:"x78zum5 xsgj6o6",children:m.jsx(c("MWXIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["LSIntEnum","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit,g=a.cardWidth,h=a.facepiles,k=a.getFaviconUrlXMA,l=a.getHeaderUrlXMA,m=a.getPlayableUrl,n=a.getPreviewUrlXMA,o=a.headlineLineLimit,p=a.isHscroll,q=a.isPressable,r=a.isStandalone,s=a.outgoing;s=s===void 0?!1:s;a=a.xmaLayout;var t=b.defaultCtaType,u=b.xmaLayoutType!==void 0&&(i||(i=d("LSIntEnum"))).toNumber(b.xmaLayoutType)===c("MNLSXMALayoutType").SHARED_STACK;if(u)return j.jsx(c("MWRollCallXMAAttachmentItem.react"),{attachmentItem:e});return t==="xma_montage_share"?j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:m,getPreviewUrlXMA:n,isPressable:q,isStandalone:r,xmaLayout:a}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:l,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:m,getPreviewUrlXMA:n,isPressable:q,isStandalone:r,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,bodyLineLimit:f,facepiles:h,getFaviconUrlXMA:k,getPreviewUrlXMA:n,headlineLineLimit:o,isHscroll:p,isPressable:q,isStandalone:r,outgoing:s,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXMAInformedTreatment.react","MWXText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},privateBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1dr9wh",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0},publicBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"xzudefj",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1iu8u7t",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",maxWidth:"x193iq5w",minHeight:"xisnujt",minWidth:"x1jzhcrs",width:"xh8yej3",$$css:!0},sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getPreviewUrlXMA;e=e===void 0?c("emptyFunction"):e;a=a.isPressable;var f=b.defaultCtaType;e=e(b,d);if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMAInformedTreatment.react"),{gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:e,xstyle:l.sensitiveContent}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]});return f==="xma_montage_share"?k.jsx(m,{attachment:b}):k.jsxs(k.Fragment,{children:[k.jsx(m,{attachment:b}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.attachment;var b=new(c("IconSource"))("FB",i("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return k.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})})});a=h._("__JHASH__EXLuTpYr-at__JHASH__");return k.jsxs("div",{className:"x6s0dn4 x99fzhk xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})}),k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:a})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.attachment,d=a.attachmentItem;a=a.isPressable;return k.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:a,children:k.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:k.jsx(c("MWXText.react"),{type:"meta4",children:h._("__JHASH__N1DOsSnTIti__JHASH__")})})})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useCallback,o={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b,e=a.attachment,g=a.attachmentItem,l=a.bodyLineLimit;l=l===void 0?3:l;var r=a.cardWidth;r=r===void 0?300:r;var s=a.facepiles,t=a.getFaviconUrlXMA,u=a.getHeaderUrlXMA;u=u===void 0?d("LSMediaUrlAttachment").headerImageUrl:u;var v=a.getPlayableUrl,w=a.getPreviewUrlXMA,x=a.headlineLineLimit;x=x===void 0?3:x;var y=a.isHscroll,z=a.isStandalone,A=a.outgoing;A=A===void 0?!1:A;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var B=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),C=B.rtcVideoCallEnabled;B=B.rtcVoiceCallEnabled;var D=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",E=n(function(a,b){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,preferLargePreview:D});switch(a.type){case"Video":case"Image":return a.url;case"Unsupported":return}},[D]),F=(h||(h=c("useReStore")))(),G=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(F.table("threads"),["threadType"]).getKeyRange(e.threadKey)},[F,e.threadKey],f.id+":113"),H=e.defaultCtaType;B=H!=null?q.has(H)&&!B||p.has(H)&&!C:!1;C=(H=e.shouldAutoplayVideo)!=null?H:!1;H=C&&e.attributionAppIcon!=null&&e.attributionAppName!=null;C=(k||(k=c("stylex")))(o.root,H?o.withBorder:!1);H=g.attachmentCta1Id!=null;var I=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();G=G?d("MWCMThreadTypes.react").isUnjoinedCMThread(G.threadType):!1;b=(i||(i=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(i||(i=d("I64"))).zero,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));G=G&&b||B;return m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:g,isPressable:!H&&!G,children:m.jsx("div",{className:C,"data-testid":void 0,children:I?m.jsx(c("MWXMAPrivateAttachment.react"),{attachment:e,attachmentItem:g,getPreviewUrlXMA:(b=w)!=null?b:E,isPressable:H&&!G}):m.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:g,bodyLineLimit:l,cardWidth:r,facepiles:s,getFaviconUrlXMA:(B=t)!=null?B:function(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:""},getHeaderUrlXMA:u,getPlayableUrl:(C=v)!=null?C:E,getPreviewUrlXMA:(I=w)!=null?I:E,headlineLineLimit:x,isHscroll:y,isPressable:H&&!G,isStandalone:z,outgoing:A,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","I64","MWXMAAttachmentItem.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=284,n={cardWrapper:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.fullWidthContainer;e=e===void 0?!1:e;var f=a.hasText,g=f===void 0?!1:f,k=a.xstyle,o=a.cardWidth,p=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"]);return l.jsx("div",{className:(i||(i=c("stylex")))(!e&&n.flexibleContainer),children:l.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:o!=null?{type:"fixed",width:o}:{minWidth:m,type:"responsive"},gap:8,children:b.map(function(a,b){return l.jsx(d("CometHScroll.react").Child,{expanding:!0,children:l.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:l.jsx("div",{className:(i||(i=c("stylex")))(k,b===0&&g&&n.topElement,g&&n.spacer),children:l.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},p,{attachmentItem:a,cardWidth:o,isStandalone:!1}))})})},(j||(j=d("I64"))).to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrlAttachment").headerImageUrl:f;a=a.xstyle;var g=e[0];return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:g,isPressable:!0,children:j.jsxs("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),j.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackFrontCard.react",["I64","LSAuthorityLevel","LSIntEnum","MWChatPollFacepile.react","MWLSThread","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={ctaContainer:{marginTop:"x1xmf6yo",$$css:!0},facepileContainer:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},frontCard:{backgroundColor:"x9bbmet",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0},titleContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.attachment;a=a.xstyle;var e=c("getLSMediaAttachmentAvatarViewUrlList")(b),f=b.countdownTimestampMs;f=f!=null&&!(j||(j=d("I64"))).equal(f,(j||(j=d("I64"))).zero)?l.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;var g=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});g=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:b,clickCategory:1,threadType:g});var i=(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC,n=c("useCurrentDisplayMode")()==="dark";return l.jsxs("div",{className:(h||(h=c("stylex")))(m.frontCard,n&&m.frontCardDarkMode,a),ref:g,children:[f,l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo",children:l.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})}),l.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu",children:i?l.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):l.jsx(c("MWChatPollFacepile.react"),{contacts:e.map(function(a){return{name:void 0,profile_picture_url:a}}),direction:"reversed",gap:"negative",size:"large"})}),l.jsx("div",{className:"x1xmf6yo",children:b.attachmentCta1Id!=null&&b.cta1Title!=null&&b.cta1Type!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaId:b.attachmentCta1Id,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackItem.react",["MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",boxShadow:"x28gwc1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.index,g=a.totalItems;a=a.xstyle;var i=f%2===0?-4:4,l=0,m=0;switch(f){case 0:l=0;m=-12;break;case 1:l=58;m=-20;break;case 2:l=34;m=-28;break}return(b.defaultCtaType==="xma_prompt_open_viewer_for_text"||b.defaultCtaType==="xma_roll_call_open_viewer")&&e.previewUrl===void 0&&e.titleText===void 0?null:j.jsx("div",{className:(h||(h=c("stylex")))(k.stackItem,a),style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:"rotate("+i+"deg) translateX("+l+"px) translateY("+m+"px)",width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:g-f},children:j.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:e,cardWidth:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0},stackItem:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0},stackItemFront:{start:"x3f4u1h",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItems,f=a.centered;f=f===void 0?!1:f;var g=a.children;a=a.xstyle;var i=e.slice(0,3);e=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+32;var l=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.stackContainer,a,f&&k.centered),style:{height:e,width:l},children:[i.map(function(a,d){return j.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:b,attachmentItem:a,index:d,totalItems:i.length},d)}),j.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i.length+1},children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWPColorUtils","gkx","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},incoming:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){a.centered;var b=a.children,e=a.outgoing;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=c("gkx")("9072");e=e?{backgroundColor:d("MWPColorUtils").int64ToHex(f.threadTheme.fallbackColor),color:"white"}:void 0;return j.jsx("div",{className:(h||(h=c("stylex")))(a,k.centered,k.incoming),style:g?e:null,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var e=a.children,f=a.connectBottom,g=a.connectTop,i=a.outgoing,l=a.xmaLayout;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(a,g&&l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k.connectTop,g&&i&&k.connectTopOutgoing,g&&!i&&k.connectTopIncoming,f&&i&&k.connectBottomOutgoing,f&&!i&&k.connectBottomIncoming,b&&k.centered),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWChatTypingIndicator.react","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","MWXSolidMessageBubble.react","ReQL","ReQLSuspense","gkx","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react");function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var o={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",marginLeft:null,marginRight:null,$$css:!0}},p={card:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,g=a.cardWidth,l=a.connectBottom,q=a.connectTop,r=a.facepiles,s=a.fullWidthContainer;s=s===void 0?!1:s;var t=a.getFaviconUrlXMA,u=a.getHeaderUrlXMA,v=a.getPlayableUrl,w=a.getPreviewUrlXMA,x=a.hasText;x=x===void 0?!1:x;var y=a.headlineLineLimit,z=a.outgoing,A=a.xmaLayout;A=A===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:A;a=a.xstyle;var B=(h||(h=c("useReStore")))(),C=b.attachmentFbid,D=b.attachmentType,E=b.cta1Type,F=b.defaultCtaType,G=b.isBorderless,H=b.xmaContentType,I=b.xmaLayoutType,J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(B.table("attachment_items")).getKeyRange(C)},[C,B],f.id+":150"),K=d("Int64Hooks").useMemoInt64(function(){return I!=null?[(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[I]),L=K[0],M=K[1],N=K[2],O=K[3],P=K[4];K=K[5];var Q=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),R=null;H!=null&&(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH))&&c("gkx")("2992")?R=m.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,style:{backgroundColor:"var(--wash)"},children:m.jsx(c("MWChatTypingIndicator.react"),{})}):O?R=m.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:J,children:m.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b})}):P?R=m.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:z,xstyle:p.card,children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,outgoing:z,xmaLayout:A})}):L?R=m.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:J,bodyLineLimit:e,cardWidth:g,facepiles:r,fullWidthContainer:s,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,hasText:x,headlineLineLimit:y,isHscroll:L,xmaLayout:A,xstyle:[p.card,p.opaqueCard]}):N&&J.length===6?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:J,getHeaderUrlXMA:u})}):M&&J.length===1?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,xmaLayout:A})}):J.length===0?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,G!==!0&&p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:n(b),bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,xmaLayout:A})}):J.length===1?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,outgoing:z,xmaLayout:A})}):c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(J.length)+", XMA Layout Type: "+(I==null?"na":(j||(j=d("I64"))).to_string(I))+", Attachment Type: "+(j||(j=d("I64"))).to_string(D)+",  XMA content Type: "+(H==null?"na":(j||(j=d("I64"))).to_string(H))+", default CTA type: "+(F==null?"na":F)+", CTA 1 type: "+(E==null?"na":E),"messenger_web_product",void 0,{trackOnly:!0});O=A===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o.cardWidth,z&&o.outgoing_xma]:o.cardWidth;P=Q==="ChatTab";s=K?P?o.cardWidthChatTab:o.cardWidth:a;return m.jsx("div",{className:(i||(i=c("stylex")))(L&&P&&p.rootForHScrollInChatTab,!L&&!M&&O,s),children:R})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=o;g.MWXMAAttachment=a}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","MWChatBubbleEmphasisRing.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXSolidMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,h=g===void 0?!1:g,j=a.message,k=a.navigateToRouteForMediaViewer,l=a.outgoing,m=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var n=g==="ChatTab"?180:void 0;return i.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:j,renderAudioAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply")(j),outgoing:l})},renderEmphasisRing:f?function(a,b){return i.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:e,hasXMA:a,outgoing:l,precedesXMA:!1,children:b})}:void 0,renderEphemeralMediaAttachment:function(){return null},renderFileAttachment:function(a){return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--chat-incoming-message-bubble-background-color)",padding:0},children:i.jsx(c("MWV2ChatFileV2.react"),{attachment:a})})},renderImageAttachment:function(c,b,a,e){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:j,navigateToRouteForMediaViewer:k,outgoing:l,renderUnsupportedAttachment:e})},renderImageGrid:function(a){return i.jsx(c("MWV2ChatImagesGrid.react"),{attachments:a})},renderStickerAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--comment-background)"},children:i.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:j,navigateToRouteForMediaViewer:k,outgoing:l})},renderXMAAttachment:function(a){return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:m})},children:i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:n,connectBottom:b,connectTop:e,hasText:h,outgoing:l,xstyle:m})})}})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useMemo,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function q(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),i=h._("__JHASH__9LbnXUNEOkH__JHASH__"),j=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),m=h._("__JHASH___nqNxb75_gn__JHASH__"),n=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===o.Unprotected?null:k.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:k.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===o.Protected?k.jsxs(k.Fragment,{children:[f,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?j:b==="Video"?i:l})]}):null]}):k.jsxs(k.Fragment,{children:[f,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?n:b==="Video"?m:p})]})})},d)}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.linkProps,g=a.mediaType,h=a.onPress,j=h===void 0?c("emptyFunction"):h;h=a.overlayDisabled;h=h===void 0?!1:h;var r=a.testid,s=a.type;r=a.uncoverable;r=r===void 0?!0:r;var t=a.url;a=a.xstyle;var u=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),v=n(o.Protected),w=v[0],x=v[1],y=w===o.Unprotected;v=w===o.Blurred;var z=m(null),A=l(function(){return{url:"#"}},[]),B=l(function(){if(s==="video")return;if(t!=null)return{backgroundImage:"url("+t+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[t,s]);u=k.jsxs("div",{className:(i||(i=c("stylex")))(p.container,u==="Inbox"?p.containerForInbox:!1,r?p.containerUncoverable:!1),children:[k.jsx("div",{style:B}),k.jsx("div",{"aria-hidden":!y,className:i(p.overlay,!y&&p.overlayDisabled,v&&p.overlayBlurred),children:e}),y?null:k.jsx("div",{className:(i||(i=c("stylex")))(p.sneezeguard,v&&p.sneezeguardTransparent)}),k.jsx(q,{mediaType:g,state:w,uncoverable:r})]});return!r?k.jsx("div",{className:(i||(i=c("stylex")))(a,p.pressable),"data-testid":void 0,children:u}):k.jsx(c("MWXPressable.react"),{"aria-label":y?b:void 0,linkProps:y?f:A,onPress:function(){y?j():x(function(a){switch(a){case o.Protected:return o.Blurred;case o.Blurred:c("setTimeout")(function(){var a=z.current;if(a!=null)return a.focus()},0);return o.Unprotected;case o.Unprotected:return a}})},overlayDisabled:h,ref:z,testid:void 0,xstyle:[a,p.pressable],children:u})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","cr:2472","cr:6931","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo;function a(a){var e=a.hasEmphasisRing;e=e===void 0?!1:e;var f=a.isSecureMessage;f=f===void 0?!1:f;a=a.message;var g=l(function(){return d("MWChatTextTransform").epdTextTransformsWithOptions({size:32})},[]),h=a.text;if(h==null)return null;h=b("cr:2472")==null?h:b("cr:2472").unvault(h);a=a.hotEmojiSize;a=a!=null&&((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)));if(f&&a&&h==="\ud83d\udc4d")return b("cr:6931")==null?null:k.jsx(b("cr:6931"),{});f=k.jsx(c("CometTextWithEntities.react"),{text:h,transforms:g,withParagraphs:!0});return e?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,hasXMA:!1,outgoing:!1,precedesXMA:!1,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var m=d(e);function a(a){a=a.children;var b=l(),c=b[0],d=b[1];b=k(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWPVisibleMessageContext=m;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages")));function m(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case k.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var n=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough];function a(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function o(a){var b=[];n.forEach(function(c){var e=m(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,j=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,k.index);e=e.length-i.strlen(e);var h=k.index-e,l=i.strlen(k[0]);g&&(h+=k[j].length,l-=k[j].length);e=function(a){var b=h+l,c=a.offset+a.length;return b>a.offset&&h<c};var m=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+m;e.length+=l+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:m},length:l,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=o}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts",POLL:"pl",AI:"ai",AI_IMAGE:"im",CUSTOM:"cu",ADMINS:"ad"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeType.bs","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return k.test(c)===!1});b=f.contents!==a.length&&!k.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function l(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":111")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeType.bs").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("1886144")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useMWTextRenderers",["CometErrorBoundary.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.react","MWNavigationContext","MWXLink.react","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useMemo,m={bold:{fontWeight:"x1s688f",$$css:!0},colorForLink:{color:"x1heor9g",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function n(a){var b=a.folder,e=a.node,f=a.thread;a=c("useMWNavigation")();var g=a.openTabOrInbox;a=(a=f.hasPendingInvitation)!=null?a:!1;var h=c("useMWCMShouldGoToFullScreenChatHook")(),k={invited:a,shouldGoToMessenger:h,surface:"unknown"};a={groupID:(i||(i=d("I64"))).to_string(b.fbGroupId),threadID:i.to_string(f.threadKey)};h=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),a);var l=h[0],m=function(){return l(k)};return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:j.jsx(c("MWXLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(f.threadType))return m();else return g({clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType},"mention")},children:e})})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.folder,c=a.thread,e=(i||(i=d("I64"))).to_string(b.folderId),f=i.to_string(c.threadKey);b=k(function(){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:e,thread_key:f})},[e,f]);return j.jsx(d("MWNavigationContext").Provider,{children:a.children,value:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?j.jsx(o,{folder:f,thread:a,children:j.jsx(n,{folder:f,node:e,thread:a})}):b}p.displayName=p.name+" [from "+f.id+"]";var q=["Command",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],r=["Ai",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],s=["CommunityChannel",function(a,b){var e=j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:j.jsx(p,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){var e=c("useMWPLinkRendererFactory")(a),f=c("useMWPCombineTextRenderers")(l(function(){return[e([m.underline],"chat_message_regular_link","Link",b),e([m.bold,m.colorForLink],"profile_link","Profile",b),e([m.highlight],"highlight","Highlight",b),q,r,s]},[e,b]));return l(function(){return babelHelpers["extends"]({},f,{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]})},[f])}g["default"]=a}),98);
__d("MWV2ChatText.react",["MWV2ChatTextUtils","MWXMessageListText.react","cr:2472","react","useMWTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.isSecureMessage,f=a.message;a=a.outgoing;var g=c("useMWTextRenderers")(e),h=f.text,k=j(function(){if(b("cr:2472")==null||h==null)return h;return e?b("cr:2472").unvaultOrThrow(h):b("cr:2472").unvault(h,!0)},[e,h]),l=d("MWV2ChatTextUtils").useRanges(k,f);return i.jsx(c("MWXMessageListText.react"),{message:f,outgoing:a,ranges:l,renderers:g,text:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWCMIsCMSubthread","MWPContactContext.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo;function n(a){var b=a.children,e=a.contactId,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e)},[g,e],f.id+":50");a=m(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite"))},[g,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children,c=a.contact,e=a.nickname;a=m(function(){return{contact:c,nickname:e}},[c,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.children,g=a.contactId,k=a.threadKey,m=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("contacts")).getKeyRange(g)},[g,m],f.id+":125");b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("participants"),["nickname"]).getKeyRange(k,g)},[g,m,k],f.id+":129"))==null?void 0:b.nickname;var p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("threads"),["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(k).map(function(a){var b=a.parentThreadKey,e=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(m.table("contextual_profile_v1"),["profileName"]).getKeyRange(g,c("MWCMIsCMSubthread")(a)&&e!=null?e:b),f.id+":154");return a==null?void 0:a.profileName})},[m,k,g],f.id+":145");p=p!=null?p:b;if(a!=null)if((j||(j=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return l.jsx(o,{contact:a,nickname:p,children:e});else return l.jsx(n,{contactId:g,children:e});else return l.jsx(n,{contactId:g,children:e})}a.displayName=a.name+" [from "+f.id+"]";a=l.memo(a,function(a,b){if(a!=null&&b!=null&&(j||(j=d("I64"))).equal(a.contactId,b.contactId)&&(j||(j=d("I64"))).equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=n;g.Provider=o;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];return a!=null?h._("__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",a)]):h._("__JHASH__I-2GRtvMpnJ__JHASH__")}g["default"]=a}),98);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWCMIsAnyCMThread","MWLSThread","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","react","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={linkText:{paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function n(a){var b=a.attachment,d=a.isSecureMessage;a=a.message;var e=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=c("useMAWUnsendContentInSecureThread")(a);if(d)d=a;else if(b!=null){a=b.descriptionText;d=a!=null?a:e}else d=e;return l.jsx(c("MWV2TombstonedMessage.react"),{children:d})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.attachment;if(a!=null){a=a.descriptionText;a=a!=null?a:h._("__JHASH__eGohYC1zonu__JHASH__")}else a=h._("__JHASH__eGohYC1zonu__JHASH__");return l.jsx(c("MWV2TombstonedMessage.react"),{children:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!=null){b=b.cta1Title;b=b!=null?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!=null)return l.jsx(c("MWXPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(k||(k=d("I64"))).to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[m.linkText]},children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var g=(i||(i=c("useReStore")))(),h=e.messageId,j=e.threadKey,k=d("MWLSThread").useThread(j),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(j,h)},[g,h,j],f.id+":134");if(m!=null){var q=m.cta1Type;q=q!=null?q==="xma_view_activity_log":!1}else q=!1;return l.jsxs(l.Fragment,{children:[a?l.jsx(o,{attachment:m}):l.jsx(n,{attachment:m,isSecureMessage:b,message:e}),k!=null&&q&&c("MWCMIsAnyCMThread")(k.threadType)?l.jsx(p,{attachment:m,thread:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsentMessage=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,e==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useMemo;function a(a,b){var c=j(function(){return b.current},[b]);i(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPComposerAutoFocus",["MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect;function l(a){var b;b=(b=document.activeElement)==null?void 0:(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b==null?void 0:b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=a.editor,e=a.hasUnsentAttachments,f=e===void 0?!1:e;e=a.isPreviewThread;a=e===void 0?!1:e;e=d("MWChatFocusComposerContext").useMWChatFocusComposer();e=e.setFocusComposer;var g=j(d("MWPReplyContext.react").MWPReplyContext),h=g.reply,m=c("usePrevious")(h);k(function(){(m==null?h!=null:!c("deepEquals")(m,h))&&l(b)},[b,h,m]);g=d("MWV2IsTabFocusedContext.react").useIsTabFocused();var n=g&&!a;k(function(){n&&l(b)},[b,n]);k(function(){f&&l(b)},[b,f]);e(i(function(){l(b)},[b]))}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPUpdateNewMessageDraftsContext",["LexicalText","MWPNewMessageDraftContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.editor,c=a.isPreviewThread,e=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=i(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});c&&e!=null&&(e.current=a)},[c,e]);j(function(){f(b.getEditorState());return b.registerUpdateListener(function(a){return f(a.editorState)})},[f,b])}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","WALoggerDeferred","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useLexicalInitializeEditor__DEPRECATED","useMWLSSaveDrafts","useMWPCometComposerPrepopulateDraftMessage","useMWPComposerAutoFocus","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPUpdateNewMessageDraftsContext","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useRef,n=b("cr:7101")==null?function(a){}:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[];function p(){c("promiseDone")(d("WALoggerDeferred").logWithTags(["MWPComposerEditor","Composer"],["Calling onSendMessage"],"LOG"))}var q=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?q:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var r=a.onSendMessage,s=a.onTypingStateChanged,t=a.threadKey;a=a.clearFormatAfterSend;var u=m(null),v=l(function(){return c("mwpLexicalCreateEditor")()},[]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(v);c("useMWPLexicalClearEditor")(v,a);c("useMWPComposerAutoFocus")({editor:v,hasUnsentAttachments:h,isPreviewThread:e});a=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext();var w=j(c("MWPreloadedText"));w=w.text!=null?w.text:a!=null?a.current:d("MWPComposerDraftMessages").getDraftMessage(t);a=m(w);c("useMWLSSaveDrafts")({editor:v,isPreviewThread:e,threadKey:t});c("useMWPCometComposerPrepopulateDraftMessage")(v,a);c("useMWPUpdateNewMessageDraftsContext")({editor:v,isPreviewThread:e});var x=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:v,initialValue:w!=null&&w!==""}).useHasText(),y=x||h;a=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var z=a.hasContentRef;k(function(){if(z==null)return;z.current=x},[x,z]);c("useMWXLexicalOnTypingChanged")({editor:v,onTypingStateChanged:s});e=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var A=e.onMessageSendAttempt;w=d("Int64Hooks").useCallbackInt64(function(){A==null?void 0:A(y);v.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);if(!y)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(t);p();var a=b!=null?b(v,(i||(i=d("I64"))).to_string(t)):c("MWV2ChatComposerGetViewContent").getRanges(v),e=v.getEditorState();e=f(e);r(e,a);d("MWPComposerDraftMessages").updateDraftMessage(t,"");v.focus()},[y,r,t,b,v,f,A]);h=g?c("emptyFunction"):w;c("useMWPLexicalCommitMessageOnEnter")(v,h);n(u.current);return{editor:v,editorElementRef:u,hasStuffToSend:y,sendMessage:h}}g["default"]=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&k.jsx("span",{className:(i||(i=c("stylex")))(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageHasAttachment",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if(!(h||(h=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).add((i||(i=d("LSIntEnum"))).ofNumber(1),(i||(i=d("LSIntEnum"))).ofNumber(8192)))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(128))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).add((i||(i=d("LSIntEnum"))).ofNumber(128),(i||(i=d("LSIntEnum"))).ofNumber(8192))))return!(h||(h=d("I64"))).equal(a.displayedContentTypes,h.add((i||(i=d("LSIntEnum"))).ofNumber(1),i.ofNumber(512)));else return!1}g["default"]=a}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256,4096,4,512];function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,l=a.isNextMessagePinned,m=a.isSearchPluginAttachment,n=a.message,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.shouldHideLinkPreviews,v=a.shouldRenderMessageContent;a=a.xmaLayout;var w=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();w=w.disableLinks;var x=c("MWPMessageIsReply")(n),y=d("MWPMessageParsingUtils").hasText(n),z=c("MWPMessageHasXMA")(n);w=c("gkx")("1886144")&&w&&z&&n.textHasLinks;u=u===!0||w;w=n.replyType!=null&&(i||(i=d("I64"))).equal(n.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP));w=!w&&z&&b==="below"&&!u&&!m;z=b==="below"?!x&&!f&&!h:!1;m=!g&&!l||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?w:!1);v?f=n.text!=null?e?x?k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)}):x?null:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[z?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)})]}):n.text!==""?k.jsxs(k.Fragment,{children:[z||b==="above"?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[p?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t(n,z,m,w,p),p?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var A;c("MWPMessageHasAttachment")(n)&&!u&&(A=r(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(n,q,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(n,o,b),y));return k.jsxs(k.Fragment,{children:[b==="above"?A:null,f,b==="below"?A:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldHideLinkPreviews,s=a.shouldRenderMessageContent,t=a.xmaLayout,u=c("useMWPIsMessagePinned")(k),v=c("useMWPIsMessagePinned")(l);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:u,isNextMessagePinned:v,isSearchPluginAttachment:h,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:o,renderEmoji:p,renderMessageBubble:q,shouldHideLinkPreviews:r,shouldRenderMessageContent:s,xmaLayout:t})},[b,e,f,g,u,v,k,l,m,n,o,p,q,r,s,t,h])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly","MessengerWebUXLogger","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(a,b){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,i=a.isSearchPluginAttachment;i=i===void 0?!1:i;var j=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.reactions;a.reactionsV2;var r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.renderMessageContainer,v=a.renderMessageFooter,w=a.renderUnsentMessage,x=a.shouldHideLinkPreviews,y=a.shouldRenderMessageContent;y=y===void 0?!0:y;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var z=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"});if(j.isUnsent)if(w!=null)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:w()});else return null;w=m(j,e);e=k.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:w,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:i,message:j,nextMessage:n,outgoing:o,prevMessage:p,renderAttachment:r,renderEmoji:s,renderMessageBubble:t,shouldHideLinkPreviews:x,shouldRenderMessageContent:y,xmaLayout:a});return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"x78zum5 xh8yej3",ref:z,role:"none",children:[o?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,u!=null?u(e,[l.container,o?l.outgoing:!1]):k.jsx("div",{className:(h||(h=c("stylex")))(l.container,o?l.outgoing:!1),children:e}),o?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),k.jsxs(k.Fragment,{children:[w&&q.length>0?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.hasReactions;return j.jsx("div",{"aria-hidden":b,className:(h||(h=c("stylex")))(k.root,a?k.moveUpToAccountForReactions:!1),children:j.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function p(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var q={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",marginLeft:null,marginRight:null,$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",$$css:!0},multiReactWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0}};function b(a){var b=a.children,e=a.hasReactions,f=a.message,g=a.outgoing,i=a.renderGenAIFeedbackActions,j=a.renderGutterItem,k=a.renderMessageActions,m=a.renderMultiReactions;a=a.renderProfile;var n=c("MWPMessageIsReply")(f),o=f.ephemeralExpirationTs,r=f.ephemeralDurationInSec,s=f.isUnsent,t=d("MWMessageDeliveryStatus").getFromSendStatus(f.sendStatusV2).type==="Sending";m=m&&m();var u=m!=null;a=l.jsxs("div",{className:"x78zum5",role:"none",children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[g?null:a(),e&&!u?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),l.jsxs("div",{className:(h||(h=c("stylex")))(q.inner,g?q.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{makeSpaceForActions:p(f),paint:!g||n,children:b}),o!=null&&!s?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:r,expirationTimestamp:o,hasReactions:e})}):null,i!=null?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t?null:i()}):null,p(f)?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t?null:k()}):null,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[j(),e?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return u?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(q.container,q.multiReact,g?q.multiReactOutgoing:q.multiReactIncoming),children:m})})]}):a}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";m={"mwp-reply-background-color":"var(--comment-footer-background)"};var r={"mwp-reply-background-color":"var(--comment-footer-background)"},s={dark:r,light:m,type:"VARIABLES"};function t(a){var b=a.children,e=a.domElementRef;a.message;a.nextMessage;a.prevMessage;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?s:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(s,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}t.displayName=t.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=t}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e){var g=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a!=null&&!(h||(h=d("I64"))).is_zero(a)&&(yield g.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(i||(i=d("LSIntEnum"))).ofNumber(14),targetUserId:e})},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[g,a,e]);var k=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(g.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID")):d("ReQL").empty()},[g,a,e],f.id+":61"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin;k=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;return{isAdmin:l,isModerator:k}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){var b=a.communityId,d=a.senderId,e=a.shouldRenderSenderName;a=a.threadKey;var f=c("useMWPIsSenderAdMod")(b,d),g=f.isAdmin;f=f.isModerator;b=c("useMWCMIsSenderChatHost")(b,a,d);d=h._("__JHASH__l4xCpI5VHpV__JHASH__");var i=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=k.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return k.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return k.jsx(k.Fragment,{children:e&&(g||f||b)&&k.jsxs(k.Fragment,{children:[k.jsx(c("CometMiddot.react"),{}),k.jsx("span",{"data-testid":void 0,children:g?d:f?i:a})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return b==null||(j||(j=d("I64"))).is_zero(b)?null:k.jsx(l,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","LSMessagingThreadTypeUtil","MWCMBotIcons.react","MWEditedEyebrow.react","MWEditedEyebrowWithHistory.react","MWGroupUpdatesVerifiedIcon.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","ReQL","ReQLSuspense","gkx","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},separator:{paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx("div",{className:(i||(i=c("stylex")))(n.container,a?n.alignEnd:n.alignStart),children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,p=a.renderTextWrapper;a=a.shouldRenderSenderName;var q=d("MWPMessageAuthor.react").useAuthorName();q=q[0];var r=d("MWPContactContext.react").useMWPContactStableContext(),s=r.contact;r=r.nickname;var t=d("Actor").useActor();t=t[0];var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),v=(k||(k=c("useReStore")))(),w=d("MWLSThread").useThread(b.threadKey,function(a){return a.parentThreadKey}),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(v.table("community_folders")).getKeyRange(w).map(function(a){return a.folderId}):d("ReQL").empty()},[v,w],f.id+":101"),y=d("MWPEditMessageUtil").isEditedMessage(b),z=d("MWPThreadIsPage.react").useIsPage(),A=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});A=A!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A);z=z&&!(j||(j=d("I64"))).equal(b.senderId,b.threadKey)&&!e;var B=a||z&&!A,C=s?d("LSContactBitOffset").has(77,s):!1,D=s?d("LSContactBitOffset").has(84,s):!1,E=c("useMWPIsMessagePinned")(b);a=c("usePinnedTextAnimation")(E);var F=a.mountAnimation,G=a.unmountAnimation,H=b.isPaidPartnership===!0;z=B||E||y||H;s=(A=r)!=null?A:h._("__JHASH__4LwiFWKMkVy__JHASH__");a=t===(j||(j=d("I64"))).to_string(b.senderId);r=a?s.toString():q==null?void 0:q.toString();A=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!z)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:b,outgoing:e});t=function(a){a=m.jsx(o,{outgoing:e,children:p(m.jsxs(m.Fragment,{children:[B&&a!=null&&m.jsx("span",{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:x,message:b,shouldRenderSenderName:B}),E&&m.jsx("span",{className:(i||(i=c("stylex")))(E?F:G),children:l(b,B)}),y&&(c("gkx")("4870")?m.jsx(c("MWEditedEyebrowWithHistory.react"),{}):m.jsx(c("MWEditedEyebrow.react"),{hasSeparator:B&&a!=null,xstyle:n.separator})),C===!0?m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,D&&m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})}),H&&g!=null&&g(b)]}))});return u==="reportMessages"?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return b.takedownState!=null?t(A.toString()):t(r)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.message,j=a.outgoing,n=a.renderForwardSnippet,o=a.renderPaidPartnerShipText,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(i);n=m(i,n,q,j);q=d("MWPContactContext.react").useMWPContactStableContext();q=q.nickname;var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();q=f&&q!=null&&e;e=b||g&&f&&!j&&!t||q;n!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,j?l.alignEnd:!1),role:"none",children:u==="reportMessages"?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):r!=null?b=e?r(i):k.jsx(c("MWPAccessibleEyebrowsText.react"),{message:i,outgoing:j}):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:i.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{message:i,outgoing:j,renderPaidPartnerShipText:o,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:e})});g=n!=null?l.timestampWithSnippet:l.timestamp;t=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:i,renderText:s,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:j?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),t!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.modal,g=a.onNavigate,h=g===void 0?c("emptyFunction"):g;g=a.setModal;var l=a.wrapX;l=l===void 0?!1:l;a=a.wrapY;a=a===void 0?!1:a;var m=j(function(a){h(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(k):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:g,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:m,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:l,wrapY:a,children:i.jsx("div",{"aria-label":b,className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPEditMessageUtil","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;e=b.forwardRef;var m=b.useCallback,n=b.useEffect,o=b.useId,p=b.useMemo,q=b.useRef,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._("__JHASH__U5V4JiyTDSI__JHASH__"),u=h._("__JHASH__GoIrDg5lzef__JHASH__"),v=h._("__JHASH__ctLNxPXr8we__JHASH__"),w=e(function(a,b){var d=a.ariaLabel,e=a.focusable,f=a.onPress,g=a.text;a=a.xstyle;var h=c("useCometTheme")("invert"),i=h[0];h=h[1];return l.jsx(i,{children:l.jsx(c("MWXPressable.react"),{"aria-label":d,focusable:e,onPress:function(){return f()},ref:b,xstyle:[h,r.enterModalButton,a],children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"primary",level:4})})})});function a(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender,g=f===void 0?!1:f,j=a.isDialogOpened,x=a.isFocused,y=a.isModal,z=a.message,A=a.messageDomID;f=a.nextMessage;var B=a.outgoing,C=a.prevMessage,D=a.setFocused,E=a.setHovered,F=a.setIsDialogOpened,G=a.stopHoveringRef;a=a.theme;var H=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),I=q(null),J=o(),K=m(function(){H(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(J,d("focusScopeQueries").tabbableScopeQuery)},0)},[H,z.messageId,J]),L=function(){H(function(){return""});var a=I.current;if(a!=null)return a.focus()},M=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),N=d("MWPMessageAuthor.react").useAuthorName();N=N[0];B=B?h._("__JHASH__g90cYI08lR4__JHASH__"):N!=null?N:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var O=o(),P=l.jsx(c("CometScreenReaderText.react"),{id:O,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",M),h._param("Name of the author of the incoming message",B)])}),Q=o(),R=q(null),S=c("gkx")("3598"),T=q(c("emptyFunction")),U=q(c("emptyFunction")),V=q(c("emptyFunction")),W=q(c("emptyFunction"));N=p(function(){return{isDialogOpened:j,setFocused:D,setIsDialogOpened:F}},[D,F,j]);M=p(function(){return{forwardMessage:V,openReactionsMenu:T,removeMessage:W,replyToMessage:U}},[T,U]);B=d("MWPEditMessageUtil").useGetEditMessageData()!=null;var X=c("useMWPEditMessageDeemphasizer")(z.messageId),Y=function(a){if(x!==a){D(function(){return a});return H(function(){if((a||j)&&y)return z.messageId;else return""})}},Z=function(a){x!==a&&D(function(){return a});var b=R.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};n(function(){if(g){var a;(a=I.current)==null?void 0:a.focus();(a=I.current)==null?void 0:a.scrollIntoView()}},[g]);return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:N,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:M,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:z,nextMessage:f,prevMessage:C,role:"row",setHovered:B?c("emptyFunction"):E,stopHoveringRef:G,theme:a,xstyle:[r.row,X],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:B?void 0:Y,onFocusVisibleChange:B?void 0:Z,children:function(a,e){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(r.cell,y?r.cellModal:!1,e?r.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:I,role:"gridcell",tabIndex:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:y,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:y?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:J,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":O,id:Q,role:"dialog",children:[b,y?P:null,l.jsx(w,{ariaLabel:u,focusable:!0,onPress:L,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":Q}),document.body)]}):b})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:y?void 0:K,onEscape:y?L:void 0,onSpace:y?void 0:K,children:S?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(w,{ariaLabel:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):t,focusable:y,onPress:K,ref:R,text:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):v,xstyle:e&&!y?r.enterModalButtonVisible:r.visuallyHidden})})]})}})}),l.jsx(c("MWEditMessageOverlay.react"),{messageId:z.messageId})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a==null)return null;a=new(h||(h=c("URI")))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=(i||(i=c("useReStore")))(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return m(function(g){var i=g.linkUrl;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)).then(function(e){if(e!=null){e=(j||(j=d("I64"))).equal(e.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))?c("getRingbackUrl")(i,(j||(j=d("I64"))).to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),i);return(h||(h=b("Promise"))).resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return(h||(h=b("Promise"))).resolve()}),void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("LikeFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M462 1080.384c0-.575-.193-.74-.403-.905.116-.191.226-.466.226-.817 0-.717-.555-1.162-1.449-1.162h-2.437c.067-.376.147-1.401.147-1.766 0-.756-.18-1.697-.873-2.069a1.224 1.224 0 0 0-.637-.165c-.399 0-.663.164-.757.267a.312.312 0 0 0-.082.236l.058 1.567a.625.625 0 0 1-.071.348l-1.207 2.693a.195.195 0 0 1-.083.075l-.008.003-.007.004-.178.097a.454.454 0 0 0-.239.4v4.286c0 .132.06.257.16.344.052.045.727.68 1.393.68h3.93c.609 0 1.012-.206 1.231-.61.2-.37.168-.725.089-.983.332-.105.645-.355.738-.818.06-.299-.01-.548-.106-.733.291-.16.565-.396.565-.972m-9.553-2.384h-1.893a.554.554 0 0 0-.554.553v5.894c0 .306.248.553.553.553h1.893a.554.554 0 0 0 .554-.553v-5.894a.553.553 0 0 0-.553-.553"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2});f["default"]=a}),66);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.entryPoint,e=a.threadKey,f=a.threadType,g=c("MessengerWebUXLogger").useInteractionLogger(),h=c("CometDebounce")(function(){b!=null&&c("logMessengerWebFalcoEvent")({threadKey:e,threadType:f},"seen_receipt",b),g==null?void 0:g({entryPoint:b,eventName:"read_receipt",threadKey:e,threadType:f})});return d("Int64Hooks").useCallbackInt64(function(){return h()},[h])}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","promiseDone","react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=(f=b("cr:268"))!=null?f:c("emptyFunction");function n(a,b,c,d,e){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0;e=(j||(j=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(j||(j=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return o.apply(this,arguments)}function p(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("useMWInboxPassiveContext")();return k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield n(f,a,g,j,i))return e()})())},[f,a,g,j,i,e])}function q(a,c,d){l(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&void e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}function a(a,b,c,d){b=p(a.threadKey,b);m(a);q(c,d,b);return b}g["default"]=a}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",left:null,right:null,position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:j.jsx("div",{className:(h||(h=c("stylex")))([n.animationWrapper,d?n.animateIn:n.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","LSMessageRenderingType","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","MAWFetchMoreMessagesWhenEnabled","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","MWScrollUtils","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","ReStoreKeyComparer","ServerTime","WALoggerDeferred","cr:5053","emptyFunction","gkx","nullthrows","promiseDone","react","requestAnimationFrame","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useShallowEqualState","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[occam] MWPBaseMessageList.react: incorrect call to MPQ with secure mailbox"]);o=function(){return a};return a}var p=j||(j=d("react"));e=j;var q=e.useCallback,r=e.useEffect,aa=e.useImperativeHandle,ba=e.useRef,ca=e.useState,da=(e=b("cr:5053"))!=null?e:c("emptyFunction"),ea=3,s={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},fa=(k||(k=d("I64"))).of_string("9999999999999");function t(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ga(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function ha(a,b,e,f){c("promiseDone")(a.runInTransaction(function(a){var g=(k||(k=d("I64"))).to_int32(f);(g===15||g===16)&&void d("WALoggerDeferred").ERROR(o());return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b,threadType:f})},"readwrite","ui"))}function ia(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function u(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return(n||(n=d("PromiseOrValue"))).map(j.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function ja(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":371")}function ka(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,fa)?d("ReQL").empty():d("ReQL").fromTableDescending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":397")}function la(){return!1}function a(a,b){var e,g=a.entryPoint,j=a.onInitialLoadingCompleted,l=a.logScrollerMetadata,n=a.onUserScroll,o=a.renderFooter,v=a.renderHeader,ma=a.renderHeaderContentSpacer,na=a.renderJumpToMostRecentMessageButton,w=a.renderLoadingAnimation,oa=a.renderRow,x=a.secondaryThread,y=a.thread,z=a.checkIsThreadManuallySetAsUnread,A=z===void 0?la:z;z=a.pageSize;var B=a.onScrollToBottom,pa=a.isSufficientContentLoadedAbove,C=a.triggerRenderingCompleteOnResize,qa=C===void 0?!1:C;C=a.setScrollTopInResetForBottomAnchor;a=C===void 0?!0:C;function D(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g,h;g=await (g=a.table("messages_ranges_v2__generated")).get.apply(g,b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;h=e==null?null:await (h=a.table("messages_ranges_v2__generated")).get.apply(h,e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(F);if(i){if(K!=null)return K(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:g.minTimestampMs,threadKey:g.threadKey})}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(ra));if(i){if(K!=null)return K(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:h.minTimestampMs,threadKey:h.threadKey})}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(F);if(i)if(c("gkx")("6884")){if(K!=null)return K(a,g.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:g.minTimestampMs,threadKey:g.threadKey})}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(ra));if(i)if(c("gkx")("6884")){if(K!=null)return K(a,h.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:h.minTimestampMs,threadKey:h.threadKey})}},"readwrite","ui"))}var E=y.threadKey,F=y.threadType;C=x||{};var G=C.threadKey,ra=C.threadType,H=(h||(h=c("useReStore")))(),I=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(E)},[H,E],f.id+":615");C=d("ReQLSuspense").useFirst(function(){return G==null?d("ReQL").empty():d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(G)},[H,G],f.id+":622");var J=(i||(i=c("useUnsafeRef_DEPRECATED")))(new Map()),K=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages(F),L=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),sa=L.setVisibleMessage,M=L.visibleMessage;L=(L=M)!=null?L:{};var N=L.messageId,O=L.timestamp,P=d("ReQLSuspense").useFirst(function(){return N!=null&&O!=null?d("ReQL").fromTableAscending(H.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(E,O,N):d("ReQL").empty()},[H,E,N,O],f.id+":645"),Q=ga(d("ReQLSuspense").useFirst(function(){return O!=null?d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(E).bounds({lte:[O]}):d("ReQL").empty()},[H,O,E],f.id+":658"),O);L=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:I});var R=L[0],ta=L[1];L=R.displayMessage;var S=R.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){N==null||O==null?ta(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:I})}):Q==null?ha(H,E,N,F):Q.minMessageId===N&&Q.hasMoreBefore?D(H,d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"before"):Q.maxMessageId===N&&Q.hasMoreAfter?D(H,d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"after"):P!=null&&ta(function(a){return babelHelpers.extends({},a,{displayMessage:P,displayMessagesRange:Q})})},[H,P,N,Q,I,E,F,O]);r(function(){var a;a=(a=J.current.get(M==null?void 0:M.messageId))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[M]);R=ja(S);var T=ka(S),ua=ja(C),U=da({entryPoint:g,threadKey:E,threadType:F});g=ca(!0);var va=g[0],wa=g[1],V=ba(!1);g=q(function(){if(!qa)return;if(j==null||V.current)return;j(!1);V.current=!0},[j,qa]);var W=ba(null);e=(e=W.current)!=null?e:{};var xa=e.doesContentFillScroll,ya=e.onCloseToBottom;r(function(){var a;if(j==null||V.current)return;if(S!=null&&!S.hasMoreBefore){j(!0);V.current=!0;return}l&&l((a=(a=W.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,S===I);if(xa==null)return;if(xa()){j(!1);V.current=!0;return}},[j,S,l,I,xa]);r(function(){var a;a=(a=W.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,function(a){return wa(a)})},[I==null?void 0:I.minMessageId]);r(function(){var a;a=(a=W.current)==null?void 0:a.onCloseToBottom;if(a!=null&&B!=null)return a(36,function(a){return B(a)})},[B]);var za=S!=null?!S.hasMoreAfter:!1;e=q(function(){return new Promise(function(a){var b=W.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&za)})})},[za,W]);var Aa=c("useMAWMarkThreadAsRead")(y),Ba=d("LSMessagingThreadTypeUtil").isSecure(F),Ca=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(y,d("Int64Hooks").useCallbackInt64(function(){U==null?void 0:U();if(Ba){Aa();return}c("promiseDone")(H.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(k||(k=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:E})},"readwrite","ui"))},[U,E,Aa,Ba,H]),e,A);r(function(){if(ya!=null)return ya(0,function(a){a&&!A()&&Ca()})},[ya,Ca,A]);e=d("Int64Hooks").useMemoInt64(function(){var a=H.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(y.threadType),e=H.table("messages").index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(y.threadKey).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return x==null?b!=null?d("ReQL").union(u(b.getKeyRange(E),0),u(e,1)):u(e,1):d("ReQL").union(u(a.getKeyRange(x.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),u(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[H,x==null?void 0:x.threadKey,y.threadKey,y.threadType]);var X=S!=null&&(k||(k=d("I64"))).equal(S.maxTimestampMs,fa),Y=S!=null&&(k||(k=d("I64"))).equal(S.minTimestampMs,(k||(k=d("I64"))).zero),Da=C!=null&&(k||(k=d("I64"))).equal(C.minTimestampMs,(k||(k=d("I64"))).zero);function Ea(){S===I&&(W.current!=null&&W.current.scrollToBottom()),sa(function(){return void 0})}aa(b,function(){return{getScrollAreaElement:function(){var a;return(a=W.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Ea()}),restoreScrollPosition:function(){var a;return(a=W.current)==null?void 0:a.restoreScrollPosition()}}});b=q(function(a,b){var c=b.nextItem;b=b.previousItem;return p.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:oa({domElementRef:ia(J.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},[J,oa]);var Z=(k||(k=d("I64"))).equal(y.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(y.threadType);if((S==null||R==null&&!Y||T==null&&!X)&&!Z){if((k||(k=d("I64"))).equal(y.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return p.jsxs(p.Fragment,{children:[p.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),v!=null?v():null]});Y=S==null?"displayMessagesRangeNull":R==null&&!Y?"noMinMessage":T==null&&!X?"noMaxMessage":"other";return p.jsxs(p.Fragment,{children:[p.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+Y,hold:!0}),w!=null?w():null]})}var $=!Z&&S!=null?d("ReQL").key(S.threadKey,S.minTimestampMs,S.minMessageId):null,Fa=C==null?null:d("ReQL").key(C.threadKey,C.minTimestampMs,C.minMessageId);X=L==null?"bottom":[1].concat(t(L));Y=R==null?ua==null||Da?null:[0].concat(t(ua)):[1].concat(t(R));L=T==null?null:[1].concat(t(T));return p.jsxs(c("Box.react"),{xstyle:s.list,children:[p.jsx(c("BaseHeadingContextWrapper.react"),{children:p.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:Y,lte:L},data:e,hasReachedBottom:!Z&&S!=null?!S.hasMoreAfter:!0,hasReachedTop:!Z&&S!=null?C==null?!(S.hasMoreBefore||x!=null):!(S.hasMoreBefore||C.hasMoreBefore):!0,holdTriggerElementsCount:ea,initialRenderComplete:g,isSufficientContentLoadedAbove:pa,onReachingBottom:!Z&&$!=null?function(){D(H,$,Fa,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){return D(H,$,Fa,"before")}:c("emptyFunction"),onUserScroll:n,pageSize:z,renderFooter:o,renderHeader:v,renderHeaderContentSpacer:ma!=null?ma:function(){return p.jsx(c("Box.react"),{xstyle:s.spacer})},renderItem:b,renderLoadingAnimation:w,setScrollTopInResetForBottomAnchor:a,xstyle:s.list,imperativeRef:W,initialAnchor:X})}),na&&p.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&S!=null?!va||S.hasMoreAfter:!1,children:na(Ea)})]})}a.displayName=a.name+" [from "+f.id+"]";b=p.forwardRef(a);g.default=b}),98);
__d("MWXIconLike",["MWXSvgIcon","SVGIcon","cr:7434","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:7434")),c("gkx")("571"));g["default"]=a}),98);